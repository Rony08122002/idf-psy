var y1=Object.defineProperty;var v1=(t,e,n)=>e in t?y1(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var D=(t,e,n)=>(v1(t,typeof e!="symbol"?e+"":e,n),n);function x1(t,e){for(var n=0;n<e.length;n++){const i=e[n];if(typeof i!="string"&&!Array.isArray(i)){for(const s in i)if(s!=="default"&&!(s in t)){const r=Object.getOwnPropertyDescriptor(i,s);r&&Object.defineProperty(t,s,r.get?r:{enumerable:!0,get:()=>i[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const r of s)if(r.type==="childList")for(const o of r.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const r={};return s.integrity&&(r.integrity=s.integrity),s.referrerPolicy&&(r.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?r.credentials="include":s.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function i(s){if(s.ep)return;s.ep=!0;const r=n(s);fetch(s.href,r)}})();function b1(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Eg={exports:{}},Za={},Rg={exports:{}},Z={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yr=Symbol.for("react.element"),w1=Symbol.for("react.portal"),S1=Symbol.for("react.fragment"),_1=Symbol.for("react.strict_mode"),k1=Symbol.for("react.profiler"),P1=Symbol.for("react.provider"),C1=Symbol.for("react.context"),M1=Symbol.for("react.forward_ref"),T1=Symbol.for("react.suspense"),E1=Symbol.for("react.memo"),R1=Symbol.for("react.lazy"),Vh=Symbol.iterator;function D1(t){return t===null||typeof t!="object"?null:(t=Vh&&t[Vh]||t["@@iterator"],typeof t=="function"?t:null)}var Dg={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Ag=Object.assign,Lg={};function bs(t,e,n){this.props=t,this.context=e,this.refs=Lg,this.updater=n||Dg}bs.prototype.isReactComponent={};bs.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};bs.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Og(){}Og.prototype=bs.prototype;function id(t,e,n){this.props=t,this.context=e,this.refs=Lg,this.updater=n||Dg}var sd=id.prototype=new Og;sd.constructor=id;Ag(sd,bs.prototype);sd.isPureReactComponent=!0;var Fh=Array.isArray,Ig=Object.prototype.hasOwnProperty,rd={current:null},Ng={key:!0,ref:!0,__self:!0,__source:!0};function jg(t,e,n){var i,s={},r=null,o=null;if(e!=null)for(i in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(r=""+e.key),e)Ig.call(e,i)&&!Ng.hasOwnProperty(i)&&(s[i]=e[i]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];s.children=l}if(t&&t.defaultProps)for(i in a=t.defaultProps,a)s[i]===void 0&&(s[i]=a[i]);return{$$typeof:Yr,type:t,key:r,ref:o,props:s,_owner:rd.current}}function A1(t,e){return{$$typeof:Yr,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function od(t){return typeof t=="object"&&t!==null&&t.$$typeof===Yr}function L1(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var zh=/\/+/g;function Ol(t,e){return typeof t=="object"&&t!==null&&t.key!=null?L1(""+t.key):e.toString(36)}function Ho(t,e,n,i,s){var r=typeof t;(r==="undefined"||r==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(r){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Yr:case w1:o=!0}}if(o)return o=t,s=s(o),t=i===""?"."+Ol(o,0):i,Fh(s)?(n="",t!=null&&(n=t.replace(zh,"$&/")+"/"),Ho(s,e,n,"",function(c){return c})):s!=null&&(od(s)&&(s=A1(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(zh,"$&/")+"/")+t)),e.push(s)),1;if(o=0,i=i===""?".":i+":",Fh(t))for(var a=0;a<t.length;a++){r=t[a];var l=i+Ol(r,a);o+=Ho(r,e,n,l,s)}else if(l=D1(t),typeof l=="function")for(t=l.call(t),a=0;!(r=t.next()).done;)r=r.value,l=i+Ol(r,a++),o+=Ho(r,e,n,l,s);else if(r==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function ro(t,e,n){if(t==null)return t;var i=[],s=0;return Ho(t,i,"","",function(r){return e.call(n,r,s++)}),i}function O1(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var tt={current:null},Wo={transition:null},I1={ReactCurrentDispatcher:tt,ReactCurrentBatchConfig:Wo,ReactCurrentOwner:rd};function Vg(){throw Error("act(...) is not supported in production builds of React.")}Z.Children={map:ro,forEach:function(t,e,n){ro(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return ro(t,function(){e++}),e},toArray:function(t){return ro(t,function(e){return e})||[]},only:function(t){if(!od(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Z.Component=bs;Z.Fragment=S1;Z.Profiler=k1;Z.PureComponent=id;Z.StrictMode=_1;Z.Suspense=T1;Z.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=I1;Z.act=Vg;Z.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var i=Ag({},t.props),s=t.key,r=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(r=e.ref,o=rd.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)Ig.call(e,l)&&!Ng.hasOwnProperty(l)&&(i[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)i.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];i.children=a}return{$$typeof:Yr,type:t.type,key:s,ref:r,props:i,_owner:o}};Z.createContext=function(t){return t={$$typeof:C1,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:P1,_context:t},t.Consumer=t};Z.createElement=jg;Z.createFactory=function(t){var e=jg.bind(null,t);return e.type=t,e};Z.createRef=function(){return{current:null}};Z.forwardRef=function(t){return{$$typeof:M1,render:t}};Z.isValidElement=od;Z.lazy=function(t){return{$$typeof:R1,_payload:{_status:-1,_result:t},_init:O1}};Z.memo=function(t,e){return{$$typeof:E1,type:t,compare:e===void 0?null:e}};Z.startTransition=function(t){var e=Wo.transition;Wo.transition={};try{t()}finally{Wo.transition=e}};Z.unstable_act=Vg;Z.useCallback=function(t,e){return tt.current.useCallback(t,e)};Z.useContext=function(t){return tt.current.useContext(t)};Z.useDebugValue=function(){};Z.useDeferredValue=function(t){return tt.current.useDeferredValue(t)};Z.useEffect=function(t,e){return tt.current.useEffect(t,e)};Z.useId=function(){return tt.current.useId()};Z.useImperativeHandle=function(t,e,n){return tt.current.useImperativeHandle(t,e,n)};Z.useInsertionEffect=function(t,e){return tt.current.useInsertionEffect(t,e)};Z.useLayoutEffect=function(t,e){return tt.current.useLayoutEffect(t,e)};Z.useMemo=function(t,e){return tt.current.useMemo(t,e)};Z.useReducer=function(t,e,n){return tt.current.useReducer(t,e,n)};Z.useRef=function(t){return tt.current.useRef(t)};Z.useState=function(t){return tt.current.useState(t)};Z.useSyncExternalStore=function(t,e,n){return tt.current.useSyncExternalStore(t,e,n)};Z.useTransition=function(){return tt.current.useTransition()};Z.version="18.3.1";Rg.exports=Z;var _=Rg.exports;const Ja=b1(_),N1=x1({__proto__:null,default:Ja},[_]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var j1=_,V1=Symbol.for("react.element"),F1=Symbol.for("react.fragment"),z1=Object.prototype.hasOwnProperty,B1=j1.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,H1={key:!0,ref:!0,__self:!0,__source:!0};function Fg(t,e,n){var i,s={},r=null,o=null;n!==void 0&&(r=""+n),e.key!==void 0&&(r=""+e.key),e.ref!==void 0&&(o=e.ref);for(i in e)z1.call(e,i)&&!H1.hasOwnProperty(i)&&(s[i]=e[i]);if(t&&t.defaultProps)for(i in e=t.defaultProps,e)s[i]===void 0&&(s[i]=e[i]);return{$$typeof:V1,type:t,key:r,ref:o,props:s,_owner:B1.current}}Za.Fragment=F1;Za.jsx=Fg;Za.jsxs=Fg;Eg.exports=Za;var b=Eg.exports,Lc={},zg={exports:{}},vt={},Bg={exports:{}},Hg={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(E,L){var N=E.length;E.push(L);e:for(;0<N;){var F=N-1>>>1,G=E[F];if(0<s(G,L))E[F]=L,E[N]=G,N=F;else break e}}function n(E){return E.length===0?null:E[0]}function i(E){if(E.length===0)return null;var L=E[0],N=E.pop();if(N!==L){E[0]=N;e:for(var F=0,G=E.length,Ee=G>>>1;F<Ee;){var we=2*(F+1)-1,Ae=E[we],ce=we+1,qe=E[ce];if(0>s(Ae,N))ce<G&&0>s(qe,Ae)?(E[F]=qe,E[ce]=N,F=ce):(E[F]=Ae,E[we]=N,F=we);else if(ce<G&&0>s(qe,N))E[F]=qe,E[ce]=N,F=ce;else break e}}return L}function s(E,L){var N=E.sortIndex-L.sortIndex;return N!==0?N:E.id-L.id}if(typeof performance=="object"&&typeof performance.now=="function"){var r=performance;t.unstable_now=function(){return r.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],u=1,d=null,h=3,f=!1,p=!1,g=!1,x=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,m=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function v(E){for(var L=n(c);L!==null;){if(L.callback===null)i(c);else if(L.startTime<=E)i(c),L.sortIndex=L.expirationTime,e(l,L);else break;L=n(c)}}function w(E){if(g=!1,v(E),!p)if(n(l)!==null)p=!0,V(S);else{var L=n(c);L!==null&&K(w,L.startTime-E)}}function S(E,L){p=!1,g&&(g=!1,y(k),k=-1),f=!0;var N=h;try{for(v(L),d=n(l);d!==null&&(!(d.expirationTime>L)||E&&!A());){var F=d.callback;if(typeof F=="function"){d.callback=null,h=d.priorityLevel;var G=F(d.expirationTime<=L);L=t.unstable_now(),typeof G=="function"?d.callback=G:d===n(l)&&i(l),v(L)}else i(l);d=n(l)}if(d!==null)var Ee=!0;else{var we=n(c);we!==null&&K(w,we.startTime-L),Ee=!1}return Ee}finally{d=null,h=N,f=!1}}var C=!1,P=null,k=-1,M=5,T=-1;function A(){return!(t.unstable_now()-T<M)}function j(){if(P!==null){var E=t.unstable_now();T=E;var L=!0;try{L=P(!0,E)}finally{L?Y():(C=!1,P=null)}}else C=!1}var Y;if(typeof m=="function")Y=function(){m(j)};else if(typeof MessageChannel<"u"){var U=new MessageChannel,z=U.port2;U.port1.onmessage=j,Y=function(){z.postMessage(null)}}else Y=function(){x(j,0)};function V(E){P=E,C||(C=!0,Y())}function K(E,L){k=x(function(){E(t.unstable_now())},L)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(E){E.callback=null},t.unstable_continueExecution=function(){p||f||(p=!0,V(S))},t.unstable_forceFrameRate=function(E){0>E||125<E?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<E?Math.floor(1e3/E):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(E){switch(h){case 1:case 2:case 3:var L=3;break;default:L=h}var N=h;h=L;try{return E()}finally{h=N}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(E,L){switch(E){case 1:case 2:case 3:case 4:case 5:break;default:E=3}var N=h;h=E;try{return L()}finally{h=N}},t.unstable_scheduleCallback=function(E,L,N){var F=t.unstable_now();switch(typeof N=="object"&&N!==null?(N=N.delay,N=typeof N=="number"&&0<N?F+N:F):N=F,E){case 1:var G=-1;break;case 2:G=250;break;case 5:G=1073741823;break;case 4:G=1e4;break;default:G=5e3}return G=N+G,E={id:u++,callback:L,priorityLevel:E,startTime:N,expirationTime:G,sortIndex:-1},N>F?(E.sortIndex=N,e(c,E),n(l)===null&&E===n(c)&&(g?(y(k),k=-1):g=!0,K(w,N-F))):(E.sortIndex=G,e(l,E),p||f||(p=!0,V(S))),E},t.unstable_shouldYield=A,t.unstable_wrapCallback=function(E){var L=h;return function(){var N=h;h=L;try{return E.apply(this,arguments)}finally{h=N}}}})(Hg);Bg.exports=Hg;var W1=Bg.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $1=_,gt=W1;function R(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Wg=new Set,gr={};function Ri(t,e){ls(t,e),ls(t+"Capture",e)}function ls(t,e){for(gr[t]=e,t=0;t<e.length;t++)Wg.add(e[t])}var dn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Oc=Object.prototype.hasOwnProperty,U1=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Bh={},Hh={};function Y1(t){return Oc.call(Hh,t)?!0:Oc.call(Bh,t)?!1:U1.test(t)?Hh[t]=!0:(Bh[t]=!0,!1)}function K1(t,e,n,i){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return i?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function X1(t,e,n,i){if(e===null||typeof e>"u"||K1(t,e,n,i))return!0;if(i)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function nt(t,e,n,i,s,r,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=i,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=r,this.removeEmptyString=o}var He={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){He[t]=new nt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];He[e]=new nt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){He[t]=new nt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){He[t]=new nt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){He[t]=new nt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){He[t]=new nt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){He[t]=new nt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){He[t]=new nt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){He[t]=new nt(t,5,!1,t.toLowerCase(),null,!1,!1)});var ad=/[\-:]([a-z])/g;function ld(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(ad,ld);He[e]=new nt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(ad,ld);He[e]=new nt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(ad,ld);He[e]=new nt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){He[t]=new nt(t,1,!1,t.toLowerCase(),null,!1,!1)});He.xlinkHref=new nt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){He[t]=new nt(t,1,!1,t.toLowerCase(),null,!0,!0)});function cd(t,e,n,i){var s=He.hasOwnProperty(e)?He[e]:null;(s!==null?s.type!==0:i||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(X1(e,n,s,i)&&(n=null),i||s===null?Y1(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,i=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,i?t.setAttributeNS(i,e,n):t.setAttribute(e,n))))}var gn=$1.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,oo=Symbol.for("react.element"),Fi=Symbol.for("react.portal"),zi=Symbol.for("react.fragment"),ud=Symbol.for("react.strict_mode"),Ic=Symbol.for("react.profiler"),$g=Symbol.for("react.provider"),Ug=Symbol.for("react.context"),dd=Symbol.for("react.forward_ref"),Nc=Symbol.for("react.suspense"),jc=Symbol.for("react.suspense_list"),hd=Symbol.for("react.memo"),bn=Symbol.for("react.lazy"),Yg=Symbol.for("react.offscreen"),Wh=Symbol.iterator;function Ps(t){return t===null||typeof t!="object"?null:(t=Wh&&t[Wh]||t["@@iterator"],typeof t=="function"?t:null)}var be=Object.assign,Il;function zs(t){if(Il===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Il=e&&e[1]||""}return`
`+Il+t}var Nl=!1;function jl(t,e){if(!t||Nl)return"";Nl=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var i=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){i=c}t.call(e.prototype)}else{try{throw Error()}catch(c){i=c}t()}}catch(c){if(c&&i&&typeof c.stack=="string"){for(var s=c.stack.split(`
`),r=i.stack.split(`
`),o=s.length-1,a=r.length-1;1<=o&&0<=a&&s[o]!==r[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==r[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==r[a]){var l=`
`+s[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{Nl=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?zs(t):""}function G1(t){switch(t.tag){case 5:return zs(t.type);case 16:return zs("Lazy");case 13:return zs("Suspense");case 19:return zs("SuspenseList");case 0:case 2:case 15:return t=jl(t.type,!1),t;case 11:return t=jl(t.type.render,!1),t;case 1:return t=jl(t.type,!0),t;default:return""}}function Vc(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case zi:return"Fragment";case Fi:return"Portal";case Ic:return"Profiler";case ud:return"StrictMode";case Nc:return"Suspense";case jc:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Ug:return(t.displayName||"Context")+".Consumer";case $g:return(t._context.displayName||"Context")+".Provider";case dd:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case hd:return e=t.displayName||null,e!==null?e:Vc(t.type)||"Memo";case bn:e=t._payload,t=t._init;try{return Vc(t(e))}catch{}}return null}function Q1(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Vc(e);case 8:return e===ud?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Wn(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Kg(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function q1(t){var e=Kg(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),i=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,r=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){i=""+o,r.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return i},setValue:function(o){i=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function ao(t){t._valueTracker||(t._valueTracker=q1(t))}function Xg(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),i="";return t&&(i=Kg(t)?t.checked?"true":"false":t.value),t=i,t!==n?(e.setValue(t),!0):!1}function da(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Fc(t,e){var n=e.checked;return be({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function $h(t,e){var n=e.defaultValue==null?"":e.defaultValue,i=e.checked!=null?e.checked:e.defaultChecked;n=Wn(e.value!=null?e.value:n),t._wrapperState={initialChecked:i,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Gg(t,e){e=e.checked,e!=null&&cd(t,"checked",e,!1)}function zc(t,e){Gg(t,e);var n=Wn(e.value),i=e.type;if(n!=null)i==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(i==="submit"||i==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Bc(t,e.type,n):e.hasOwnProperty("defaultValue")&&Bc(t,e.type,Wn(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Uh(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var i=e.type;if(!(i!=="submit"&&i!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Bc(t,e,n){(e!=="number"||da(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Bs=Array.isArray;function ts(t,e,n,i){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&i&&(t[n].defaultSelected=!0)}else{for(n=""+Wn(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,i&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function Hc(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(R(91));return be({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Yh(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(R(92));if(Bs(n)){if(1<n.length)throw Error(R(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Wn(n)}}function Qg(t,e){var n=Wn(e.value),i=Wn(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),i!=null&&(t.defaultValue=""+i)}function Kh(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function qg(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Wc(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?qg(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var lo,Zg=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,i,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,i,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(lo=lo||document.createElement("div"),lo.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=lo.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function yr(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Zs={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Z1=["Webkit","ms","Moz","O"];Object.keys(Zs).forEach(function(t){Z1.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Zs[e]=Zs[t]})});function Jg(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Zs.hasOwnProperty(t)&&Zs[t]?(""+e).trim():e+"px"}function e0(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var i=n.indexOf("--")===0,s=Jg(n,e[n],i);n==="float"&&(n="cssFloat"),i?t.setProperty(n,s):t[n]=s}}var J1=be({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function $c(t,e){if(e){if(J1[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(R(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(R(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(R(61))}if(e.style!=null&&typeof e.style!="object")throw Error(R(62))}}function Uc(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Yc=null;function fd(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Kc=null,ns=null,is=null;function Xh(t){if(t=Gr(t)){if(typeof Kc!="function")throw Error(R(280));var e=t.stateNode;e&&(e=sl(e),Kc(t.stateNode,t.type,e))}}function t0(t){ns?is?is.push(t):is=[t]:ns=t}function n0(){if(ns){var t=ns,e=is;if(is=ns=null,Xh(t),e)for(t=0;t<e.length;t++)Xh(e[t])}}function i0(t,e){return t(e)}function s0(){}var Vl=!1;function r0(t,e,n){if(Vl)return t(e,n);Vl=!0;try{return i0(t,e,n)}finally{Vl=!1,(ns!==null||is!==null)&&(s0(),n0())}}function vr(t,e){var n=t.stateNode;if(n===null)return null;var i=sl(n);if(i===null)return null;n=i[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(t=t.type,i=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!i;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(R(231,e,typeof n));return n}var Xc=!1;if(dn)try{var Cs={};Object.defineProperty(Cs,"passive",{get:function(){Xc=!0}}),window.addEventListener("test",Cs,Cs),window.removeEventListener("test",Cs,Cs)}catch{Xc=!1}function eb(t,e,n,i,s,r,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(u){this.onError(u)}}var Js=!1,ha=null,fa=!1,Gc=null,tb={onError:function(t){Js=!0,ha=t}};function nb(t,e,n,i,s,r,o,a,l){Js=!1,ha=null,eb.apply(tb,arguments)}function ib(t,e,n,i,s,r,o,a,l){if(nb.apply(this,arguments),Js){if(Js){var c=ha;Js=!1,ha=null}else throw Error(R(198));fa||(fa=!0,Gc=c)}}function Di(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function o0(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Gh(t){if(Di(t)!==t)throw Error(R(188))}function sb(t){var e=t.alternate;if(!e){if(e=Di(t),e===null)throw Error(R(188));return e!==t?null:t}for(var n=t,i=e;;){var s=n.return;if(s===null)break;var r=s.alternate;if(r===null){if(i=s.return,i!==null){n=i;continue}break}if(s.child===r.child){for(r=s.child;r;){if(r===n)return Gh(s),t;if(r===i)return Gh(s),e;r=r.sibling}throw Error(R(188))}if(n.return!==i.return)n=s,i=r;else{for(var o=!1,a=s.child;a;){if(a===n){o=!0,n=s,i=r;break}if(a===i){o=!0,i=s,n=r;break}a=a.sibling}if(!o){for(a=r.child;a;){if(a===n){o=!0,n=r,i=s;break}if(a===i){o=!0,i=r,n=s;break}a=a.sibling}if(!o)throw Error(R(189))}}if(n.alternate!==i)throw Error(R(190))}if(n.tag!==3)throw Error(R(188));return n.stateNode.current===n?t:e}function a0(t){return t=sb(t),t!==null?l0(t):null}function l0(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=l0(t);if(e!==null)return e;t=t.sibling}return null}var c0=gt.unstable_scheduleCallback,Qh=gt.unstable_cancelCallback,rb=gt.unstable_shouldYield,ob=gt.unstable_requestPaint,Me=gt.unstable_now,ab=gt.unstable_getCurrentPriorityLevel,pd=gt.unstable_ImmediatePriority,u0=gt.unstable_UserBlockingPriority,pa=gt.unstable_NormalPriority,lb=gt.unstable_LowPriority,d0=gt.unstable_IdlePriority,el=null,$t=null;function cb(t){if($t&&typeof $t.onCommitFiberRoot=="function")try{$t.onCommitFiberRoot(el,t,void 0,(t.current.flags&128)===128)}catch{}}var Ot=Math.clz32?Math.clz32:hb,ub=Math.log,db=Math.LN2;function hb(t){return t>>>=0,t===0?32:31-(ub(t)/db|0)|0}var co=64,uo=4194304;function Hs(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function ma(t,e){var n=t.pendingLanes;if(n===0)return 0;var i=0,s=t.suspendedLanes,r=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~s;a!==0?i=Hs(a):(r&=o,r!==0&&(i=Hs(r)))}else o=n&~s,o!==0?i=Hs(o):r!==0&&(i=Hs(r));if(i===0)return 0;if(e!==0&&e!==i&&!(e&s)&&(s=i&-i,r=e&-e,s>=r||s===16&&(r&4194240)!==0))return e;if(i&4&&(i|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=i;0<e;)n=31-Ot(e),s=1<<n,i|=t[n],e&=~s;return i}function fb(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function pb(t,e){for(var n=t.suspendedLanes,i=t.pingedLanes,s=t.expirationTimes,r=t.pendingLanes;0<r;){var o=31-Ot(r),a=1<<o,l=s[o];l===-1?(!(a&n)||a&i)&&(s[o]=fb(a,e)):l<=e&&(t.expiredLanes|=a),r&=~a}}function Qc(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function h0(){var t=co;return co<<=1,!(co&4194240)&&(co=64),t}function Fl(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Kr(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Ot(e),t[e]=n}function mb(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var i=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-Ot(n),r=1<<s;e[s]=0,i[s]=-1,t[s]=-1,n&=~r}}function md(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var i=31-Ot(n),s=1<<i;s&e|t[i]&e&&(t[i]|=e),n&=~s}}var ie=0;function f0(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var p0,gd,m0,g0,y0,qc=!1,ho=[],An=null,Ln=null,On=null,xr=new Map,br=new Map,_n=[],gb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function qh(t,e){switch(t){case"focusin":case"focusout":An=null;break;case"dragenter":case"dragleave":Ln=null;break;case"mouseover":case"mouseout":On=null;break;case"pointerover":case"pointerout":xr.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":br.delete(e.pointerId)}}function Ms(t,e,n,i,s,r){return t===null||t.nativeEvent!==r?(t={blockedOn:e,domEventName:n,eventSystemFlags:i,nativeEvent:r,targetContainers:[s]},e!==null&&(e=Gr(e),e!==null&&gd(e)),t):(t.eventSystemFlags|=i,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function yb(t,e,n,i,s){switch(e){case"focusin":return An=Ms(An,t,e,n,i,s),!0;case"dragenter":return Ln=Ms(Ln,t,e,n,i,s),!0;case"mouseover":return On=Ms(On,t,e,n,i,s),!0;case"pointerover":var r=s.pointerId;return xr.set(r,Ms(xr.get(r)||null,t,e,n,i,s)),!0;case"gotpointercapture":return r=s.pointerId,br.set(r,Ms(br.get(r)||null,t,e,n,i,s)),!0}return!1}function v0(t){var e=fi(t.target);if(e!==null){var n=Di(e);if(n!==null){if(e=n.tag,e===13){if(e=o0(n),e!==null){t.blockedOn=e,y0(t.priority,function(){m0(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function $o(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Zc(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var i=new n.constructor(n.type,n);Yc=i,n.target.dispatchEvent(i),Yc=null}else return e=Gr(n),e!==null&&gd(e),t.blockedOn=n,!1;e.shift()}return!0}function Zh(t,e,n){$o(t)&&n.delete(e)}function vb(){qc=!1,An!==null&&$o(An)&&(An=null),Ln!==null&&$o(Ln)&&(Ln=null),On!==null&&$o(On)&&(On=null),xr.forEach(Zh),br.forEach(Zh)}function Ts(t,e){t.blockedOn===e&&(t.blockedOn=null,qc||(qc=!0,gt.unstable_scheduleCallback(gt.unstable_NormalPriority,vb)))}function wr(t){function e(s){return Ts(s,t)}if(0<ho.length){Ts(ho[0],t);for(var n=1;n<ho.length;n++){var i=ho[n];i.blockedOn===t&&(i.blockedOn=null)}}for(An!==null&&Ts(An,t),Ln!==null&&Ts(Ln,t),On!==null&&Ts(On,t),xr.forEach(e),br.forEach(e),n=0;n<_n.length;n++)i=_n[n],i.blockedOn===t&&(i.blockedOn=null);for(;0<_n.length&&(n=_n[0],n.blockedOn===null);)v0(n),n.blockedOn===null&&_n.shift()}var ss=gn.ReactCurrentBatchConfig,ga=!0;function xb(t,e,n,i){var s=ie,r=ss.transition;ss.transition=null;try{ie=1,yd(t,e,n,i)}finally{ie=s,ss.transition=r}}function bb(t,e,n,i){var s=ie,r=ss.transition;ss.transition=null;try{ie=4,yd(t,e,n,i)}finally{ie=s,ss.transition=r}}function yd(t,e,n,i){if(ga){var s=Zc(t,e,n,i);if(s===null)Gl(t,e,i,ya,n),qh(t,i);else if(yb(s,t,e,n,i))i.stopPropagation();else if(qh(t,i),e&4&&-1<gb.indexOf(t)){for(;s!==null;){var r=Gr(s);if(r!==null&&p0(r),r=Zc(t,e,n,i),r===null&&Gl(t,e,i,ya,n),r===s)break;s=r}s!==null&&i.stopPropagation()}else Gl(t,e,i,null,n)}}var ya=null;function Zc(t,e,n,i){if(ya=null,t=fd(i),t=fi(t),t!==null)if(e=Di(t),e===null)t=null;else if(n=e.tag,n===13){if(t=o0(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return ya=t,null}function x0(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ab()){case pd:return 1;case u0:return 4;case pa:case lb:return 16;case d0:return 536870912;default:return 16}default:return 16}}var Pn=null,vd=null,Uo=null;function b0(){if(Uo)return Uo;var t,e=vd,n=e.length,i,s="value"in Pn?Pn.value:Pn.textContent,r=s.length;for(t=0;t<n&&e[t]===s[t];t++);var o=n-t;for(i=1;i<=o&&e[n-i]===s[r-i];i++);return Uo=s.slice(t,1<i?1-i:void 0)}function Yo(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function fo(){return!0}function Jh(){return!1}function xt(t){function e(n,i,s,r,o){this._reactName=n,this._targetInst=s,this.type=i,this.nativeEvent=r,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(r):r[a]);return this.isDefaultPrevented=(r.defaultPrevented!=null?r.defaultPrevented:r.returnValue===!1)?fo:Jh,this.isPropagationStopped=Jh,this}return be(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=fo)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=fo)},persist:function(){},isPersistent:fo}),e}var ws={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},xd=xt(ws),Xr=be({},ws,{view:0,detail:0}),wb=xt(Xr),zl,Bl,Es,tl=be({},Xr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:bd,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Es&&(Es&&t.type==="mousemove"?(zl=t.screenX-Es.screenX,Bl=t.screenY-Es.screenY):Bl=zl=0,Es=t),zl)},movementY:function(t){return"movementY"in t?t.movementY:Bl}}),ef=xt(tl),Sb=be({},tl,{dataTransfer:0}),_b=xt(Sb),kb=be({},Xr,{relatedTarget:0}),Hl=xt(kb),Pb=be({},ws,{animationName:0,elapsedTime:0,pseudoElement:0}),Cb=xt(Pb),Mb=be({},ws,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Tb=xt(Mb),Eb=be({},ws,{data:0}),tf=xt(Eb),Rb={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Db={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ab={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Lb(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Ab[t])?!!e[t]:!1}function bd(){return Lb}var Ob=be({},Xr,{key:function(t){if(t.key){var e=Rb[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Yo(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Db[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:bd,charCode:function(t){return t.type==="keypress"?Yo(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Yo(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Ib=xt(Ob),Nb=be({},tl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),nf=xt(Nb),jb=be({},Xr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:bd}),Vb=xt(jb),Fb=be({},ws,{propertyName:0,elapsedTime:0,pseudoElement:0}),zb=xt(Fb),Bb=be({},tl,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Hb=xt(Bb),Wb=[9,13,27,32],wd=dn&&"CompositionEvent"in window,er=null;dn&&"documentMode"in document&&(er=document.documentMode);var $b=dn&&"TextEvent"in window&&!er,w0=dn&&(!wd||er&&8<er&&11>=er),sf=String.fromCharCode(32),rf=!1;function S0(t,e){switch(t){case"keyup":return Wb.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function _0(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Bi=!1;function Ub(t,e){switch(t){case"compositionend":return _0(e);case"keypress":return e.which!==32?null:(rf=!0,sf);case"textInput":return t=e.data,t===sf&&rf?null:t;default:return null}}function Yb(t,e){if(Bi)return t==="compositionend"||!wd&&S0(t,e)?(t=b0(),Uo=vd=Pn=null,Bi=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return w0&&e.locale!=="ko"?null:e.data;default:return null}}var Kb={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function of(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!Kb[t.type]:e==="textarea"}function k0(t,e,n,i){t0(i),e=va(e,"onChange"),0<e.length&&(n=new xd("onChange","change",null,n,i),t.push({event:n,listeners:e}))}var tr=null,Sr=null;function Xb(t){I0(t,0)}function nl(t){var e=$i(t);if(Xg(e))return t}function Gb(t,e){if(t==="change")return e}var P0=!1;if(dn){var Wl;if(dn){var $l="oninput"in document;if(!$l){var af=document.createElement("div");af.setAttribute("oninput","return;"),$l=typeof af.oninput=="function"}Wl=$l}else Wl=!1;P0=Wl&&(!document.documentMode||9<document.documentMode)}function lf(){tr&&(tr.detachEvent("onpropertychange",C0),Sr=tr=null)}function C0(t){if(t.propertyName==="value"&&nl(Sr)){var e=[];k0(e,Sr,t,fd(t)),r0(Xb,e)}}function Qb(t,e,n){t==="focusin"?(lf(),tr=e,Sr=n,tr.attachEvent("onpropertychange",C0)):t==="focusout"&&lf()}function qb(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return nl(Sr)}function Zb(t,e){if(t==="click")return nl(e)}function Jb(t,e){if(t==="input"||t==="change")return nl(e)}function ew(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var jt=typeof Object.is=="function"?Object.is:ew;function _r(t,e){if(jt(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),i=Object.keys(e);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var s=n[i];if(!Oc.call(e,s)||!jt(t[s],e[s]))return!1}return!0}function cf(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function uf(t,e){var n=cf(t);t=0;for(var i;n;){if(n.nodeType===3){if(i=t+n.textContent.length,t<=e&&i>=e)return{node:n,offset:e-t};t=i}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=cf(n)}}function M0(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?M0(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function T0(){for(var t=window,e=da();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=da(t.document)}return e}function Sd(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function tw(t){var e=T0(),n=t.focusedElem,i=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&M0(n.ownerDocument.documentElement,n)){if(i!==null&&Sd(n)){if(e=i.start,t=i.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,r=Math.min(i.start,s);i=i.end===void 0?r:Math.min(i.end,s),!t.extend&&r>i&&(s=i,i=r,r=s),s=uf(n,r);var o=uf(n,i);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),r>i?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var nw=dn&&"documentMode"in document&&11>=document.documentMode,Hi=null,Jc=null,nr=null,eu=!1;function df(t,e,n){var i=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;eu||Hi==null||Hi!==da(i)||(i=Hi,"selectionStart"in i&&Sd(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),nr&&_r(nr,i)||(nr=i,i=va(Jc,"onSelect"),0<i.length&&(e=new xd("onSelect","select",null,e,n),t.push({event:e,listeners:i}),e.target=Hi)))}function po(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Wi={animationend:po("Animation","AnimationEnd"),animationiteration:po("Animation","AnimationIteration"),animationstart:po("Animation","AnimationStart"),transitionend:po("Transition","TransitionEnd")},Ul={},E0={};dn&&(E0=document.createElement("div").style,"AnimationEvent"in window||(delete Wi.animationend.animation,delete Wi.animationiteration.animation,delete Wi.animationstart.animation),"TransitionEvent"in window||delete Wi.transitionend.transition);function il(t){if(Ul[t])return Ul[t];if(!Wi[t])return t;var e=Wi[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in E0)return Ul[t]=e[n];return t}var R0=il("animationend"),D0=il("animationiteration"),A0=il("animationstart"),L0=il("transitionend"),O0=new Map,hf="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Gn(t,e){O0.set(t,e),Ri(e,[t])}for(var Yl=0;Yl<hf.length;Yl++){var Kl=hf[Yl],iw=Kl.toLowerCase(),sw=Kl[0].toUpperCase()+Kl.slice(1);Gn(iw,"on"+sw)}Gn(R0,"onAnimationEnd");Gn(D0,"onAnimationIteration");Gn(A0,"onAnimationStart");Gn("dblclick","onDoubleClick");Gn("focusin","onFocus");Gn("focusout","onBlur");Gn(L0,"onTransitionEnd");ls("onMouseEnter",["mouseout","mouseover"]);ls("onMouseLeave",["mouseout","mouseover"]);ls("onPointerEnter",["pointerout","pointerover"]);ls("onPointerLeave",["pointerout","pointerover"]);Ri("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ri("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ri("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ri("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ri("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ri("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ws="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),rw=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ws));function ff(t,e,n){var i=t.type||"unknown-event";t.currentTarget=n,ib(i,e,void 0,t),t.currentTarget=null}function I0(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var i=t[n],s=i.event;i=i.listeners;e:{var r=void 0;if(e)for(var o=i.length-1;0<=o;o--){var a=i[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==r&&s.isPropagationStopped())break e;ff(s,a,c),r=l}else for(o=0;o<i.length;o++){if(a=i[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==r&&s.isPropagationStopped())break e;ff(s,a,c),r=l}}}if(fa)throw t=Gc,fa=!1,Gc=null,t}function ue(t,e){var n=e[ru];n===void 0&&(n=e[ru]=new Set);var i=t+"__bubble";n.has(i)||(N0(e,t,2,!1),n.add(i))}function Xl(t,e,n){var i=0;e&&(i|=4),N0(n,t,i,e)}var mo="_reactListening"+Math.random().toString(36).slice(2);function kr(t){if(!t[mo]){t[mo]=!0,Wg.forEach(function(n){n!=="selectionchange"&&(rw.has(n)||Xl(n,!1,t),Xl(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[mo]||(e[mo]=!0,Xl("selectionchange",!1,e))}}function N0(t,e,n,i){switch(x0(e)){case 1:var s=xb;break;case 4:s=bb;break;default:s=yd}n=s.bind(null,e,n,t),s=void 0,!Xc||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),i?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function Gl(t,e,n,i,s){var r=i;if(!(e&1)&&!(e&2)&&i!==null)e:for(;;){if(i===null)return;var o=i.tag;if(o===3||o===4){var a=i.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=i.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;o=o.return}for(;a!==null;){if(o=fi(a),o===null)return;if(l=o.tag,l===5||l===6){i=r=o;continue e}a=a.parentNode}}i=i.return}r0(function(){var c=r,u=fd(n),d=[];e:{var h=O0.get(t);if(h!==void 0){var f=xd,p=t;switch(t){case"keypress":if(Yo(n)===0)break e;case"keydown":case"keyup":f=Ib;break;case"focusin":p="focus",f=Hl;break;case"focusout":p="blur",f=Hl;break;case"beforeblur":case"afterblur":f=Hl;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":f=ef;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":f=_b;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":f=Vb;break;case R0:case D0:case A0:f=Cb;break;case L0:f=zb;break;case"scroll":f=wb;break;case"wheel":f=Hb;break;case"copy":case"cut":case"paste":f=Tb;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":f=nf}var g=(e&4)!==0,x=!g&&t==="scroll",y=g?h!==null?h+"Capture":null:h;g=[];for(var m=c,v;m!==null;){v=m;var w=v.stateNode;if(v.tag===5&&w!==null&&(v=w,y!==null&&(w=vr(m,y),w!=null&&g.push(Pr(m,w,v)))),x)break;m=m.return}0<g.length&&(h=new f(h,p,null,n,u),d.push({event:h,listeners:g}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",f=t==="mouseout"||t==="pointerout",h&&n!==Yc&&(p=n.relatedTarget||n.fromElement)&&(fi(p)||p[hn]))break e;if((f||h)&&(h=u.window===u?u:(h=u.ownerDocument)?h.defaultView||h.parentWindow:window,f?(p=n.relatedTarget||n.toElement,f=c,p=p?fi(p):null,p!==null&&(x=Di(p),p!==x||p.tag!==5&&p.tag!==6)&&(p=null)):(f=null,p=c),f!==p)){if(g=ef,w="onMouseLeave",y="onMouseEnter",m="mouse",(t==="pointerout"||t==="pointerover")&&(g=nf,w="onPointerLeave",y="onPointerEnter",m="pointer"),x=f==null?h:$i(f),v=p==null?h:$i(p),h=new g(w,m+"leave",f,n,u),h.target=x,h.relatedTarget=v,w=null,fi(u)===c&&(g=new g(y,m+"enter",p,n,u),g.target=v,g.relatedTarget=x,w=g),x=w,f&&p)t:{for(g=f,y=p,m=0,v=g;v;v=Ni(v))m++;for(v=0,w=y;w;w=Ni(w))v++;for(;0<m-v;)g=Ni(g),m--;for(;0<v-m;)y=Ni(y),v--;for(;m--;){if(g===y||y!==null&&g===y.alternate)break t;g=Ni(g),y=Ni(y)}g=null}else g=null;f!==null&&pf(d,h,f,g,!1),p!==null&&x!==null&&pf(d,x,p,g,!0)}}e:{if(h=c?$i(c):window,f=h.nodeName&&h.nodeName.toLowerCase(),f==="select"||f==="input"&&h.type==="file")var S=Gb;else if(of(h))if(P0)S=Jb;else{S=qb;var C=Qb}else(f=h.nodeName)&&f.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(S=Zb);if(S&&(S=S(t,c))){k0(d,S,n,u);break e}C&&C(t,h,c),t==="focusout"&&(C=h._wrapperState)&&C.controlled&&h.type==="number"&&Bc(h,"number",h.value)}switch(C=c?$i(c):window,t){case"focusin":(of(C)||C.contentEditable==="true")&&(Hi=C,Jc=c,nr=null);break;case"focusout":nr=Jc=Hi=null;break;case"mousedown":eu=!0;break;case"contextmenu":case"mouseup":case"dragend":eu=!1,df(d,n,u);break;case"selectionchange":if(nw)break;case"keydown":case"keyup":df(d,n,u)}var P;if(wd)e:{switch(t){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else Bi?S0(t,n)&&(k="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(k="onCompositionStart");k&&(w0&&n.locale!=="ko"&&(Bi||k!=="onCompositionStart"?k==="onCompositionEnd"&&Bi&&(P=b0()):(Pn=u,vd="value"in Pn?Pn.value:Pn.textContent,Bi=!0)),C=va(c,k),0<C.length&&(k=new tf(k,t,null,n,u),d.push({event:k,listeners:C}),P?k.data=P:(P=_0(n),P!==null&&(k.data=P)))),(P=$b?Ub(t,n):Yb(t,n))&&(c=va(c,"onBeforeInput"),0<c.length&&(u=new tf("onBeforeInput","beforeinput",null,n,u),d.push({event:u,listeners:c}),u.data=P))}I0(d,e)})}function Pr(t,e,n){return{instance:t,listener:e,currentTarget:n}}function va(t,e){for(var n=e+"Capture",i=[];t!==null;){var s=t,r=s.stateNode;s.tag===5&&r!==null&&(s=r,r=vr(t,n),r!=null&&i.unshift(Pr(t,r,s)),r=vr(t,e),r!=null&&i.push(Pr(t,r,s))),t=t.return}return i}function Ni(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function pf(t,e,n,i,s){for(var r=e._reactName,o=[];n!==null&&n!==i;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===i)break;a.tag===5&&c!==null&&(a=c,s?(l=vr(n,r),l!=null&&o.unshift(Pr(n,l,a))):s||(l=vr(n,r),l!=null&&o.push(Pr(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var ow=/\r\n?/g,aw=/\u0000|\uFFFD/g;function mf(t){return(typeof t=="string"?t:""+t).replace(ow,`
`).replace(aw,"")}function go(t,e,n){if(e=mf(e),mf(t)!==e&&n)throw Error(R(425))}function xa(){}var tu=null,nu=null;function iu(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var su=typeof setTimeout=="function"?setTimeout:void 0,lw=typeof clearTimeout=="function"?clearTimeout:void 0,gf=typeof Promise=="function"?Promise:void 0,cw=typeof queueMicrotask=="function"?queueMicrotask:typeof gf<"u"?function(t){return gf.resolve(null).then(t).catch(uw)}:su;function uw(t){setTimeout(function(){throw t})}function Ql(t,e){var n=e,i=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(i===0){t.removeChild(s),wr(e);return}i--}else n!=="$"&&n!=="$?"&&n!=="$!"||i++;n=s}while(n);wr(e)}function In(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function yf(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Ss=Math.random().toString(36).slice(2),Wt="__reactFiber$"+Ss,Cr="__reactProps$"+Ss,hn="__reactContainer$"+Ss,ru="__reactEvents$"+Ss,dw="__reactListeners$"+Ss,hw="__reactHandles$"+Ss;function fi(t){var e=t[Wt];if(e)return e;for(var n=t.parentNode;n;){if(e=n[hn]||n[Wt]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=yf(t);t!==null;){if(n=t[Wt])return n;t=yf(t)}return e}t=n,n=t.parentNode}return null}function Gr(t){return t=t[Wt]||t[hn],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function $i(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(R(33))}function sl(t){return t[Cr]||null}var ou=[],Ui=-1;function Qn(t){return{current:t}}function he(t){0>Ui||(t.current=ou[Ui],ou[Ui]=null,Ui--)}function ae(t,e){Ui++,ou[Ui]=t.current,t.current=e}var $n={},Ge=Qn($n),at=Qn(!1),_i=$n;function cs(t,e){var n=t.type.contextTypes;if(!n)return $n;var i=t.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===e)return i.__reactInternalMemoizedMaskedChildContext;var s={},r;for(r in n)s[r]=e[r];return i&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function lt(t){return t=t.childContextTypes,t!=null}function ba(){he(at),he(Ge)}function vf(t,e,n){if(Ge.current!==$n)throw Error(R(168));ae(Ge,e),ae(at,n)}function j0(t,e,n){var i=t.stateNode;if(e=e.childContextTypes,typeof i.getChildContext!="function")return n;i=i.getChildContext();for(var s in i)if(!(s in e))throw Error(R(108,Q1(t)||"Unknown",s));return be({},n,i)}function wa(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||$n,_i=Ge.current,ae(Ge,t),ae(at,at.current),!0}function xf(t,e,n){var i=t.stateNode;if(!i)throw Error(R(169));n?(t=j0(t,e,_i),i.__reactInternalMemoizedMergedChildContext=t,he(at),he(Ge),ae(Ge,t)):he(at),ae(at,n)}var Zt=null,rl=!1,ql=!1;function V0(t){Zt===null?Zt=[t]:Zt.push(t)}function fw(t){rl=!0,V0(t)}function qn(){if(!ql&&Zt!==null){ql=!0;var t=0,e=ie;try{var n=Zt;for(ie=1;t<n.length;t++){var i=n[t];do i=i(!0);while(i!==null)}Zt=null,rl=!1}catch(s){throw Zt!==null&&(Zt=Zt.slice(t+1)),c0(pd,qn),s}finally{ie=e,ql=!1}}return null}var Yi=[],Ki=0,Sa=null,_a=0,_t=[],kt=0,ki=null,tn=1,nn="";function oi(t,e){Yi[Ki++]=_a,Yi[Ki++]=Sa,Sa=t,_a=e}function F0(t,e,n){_t[kt++]=tn,_t[kt++]=nn,_t[kt++]=ki,ki=t;var i=tn;t=nn;var s=32-Ot(i)-1;i&=~(1<<s),n+=1;var r=32-Ot(e)+s;if(30<r){var o=s-s%5;r=(i&(1<<o)-1).toString(32),i>>=o,s-=o,tn=1<<32-Ot(e)+s|n<<s|i,nn=r+t}else tn=1<<r|n<<s|i,nn=t}function _d(t){t.return!==null&&(oi(t,1),F0(t,1,0))}function kd(t){for(;t===Sa;)Sa=Yi[--Ki],Yi[Ki]=null,_a=Yi[--Ki],Yi[Ki]=null;for(;t===ki;)ki=_t[--kt],_t[kt]=null,nn=_t[--kt],_t[kt]=null,tn=_t[--kt],_t[kt]=null}var mt=null,pt=null,me=!1,At=null;function z0(t,e){var n=Pt(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function bf(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,mt=t,pt=In(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,mt=t,pt=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=ki!==null?{id:tn,overflow:nn}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Pt(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,mt=t,pt=null,!0):!1;default:return!1}}function au(t){return(t.mode&1)!==0&&(t.flags&128)===0}function lu(t){if(me){var e=pt;if(e){var n=e;if(!bf(t,e)){if(au(t))throw Error(R(418));e=In(n.nextSibling);var i=mt;e&&bf(t,e)?z0(i,n):(t.flags=t.flags&-4097|2,me=!1,mt=t)}}else{if(au(t))throw Error(R(418));t.flags=t.flags&-4097|2,me=!1,mt=t}}}function wf(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;mt=t}function yo(t){if(t!==mt)return!1;if(!me)return wf(t),me=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!iu(t.type,t.memoizedProps)),e&&(e=pt)){if(au(t))throw B0(),Error(R(418));for(;e;)z0(t,e),e=In(e.nextSibling)}if(wf(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(R(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){pt=In(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}pt=null}}else pt=mt?In(t.stateNode.nextSibling):null;return!0}function B0(){for(var t=pt;t;)t=In(t.nextSibling)}function us(){pt=mt=null,me=!1}function Pd(t){At===null?At=[t]:At.push(t)}var pw=gn.ReactCurrentBatchConfig;function Rs(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(R(309));var i=n.stateNode}if(!i)throw Error(R(147,t));var s=i,r=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===r?e.ref:(e=function(o){var a=s.refs;o===null?delete a[r]:a[r]=o},e._stringRef=r,e)}if(typeof t!="string")throw Error(R(284));if(!n._owner)throw Error(R(290,t))}return t}function vo(t,e){throw t=Object.prototype.toString.call(e),Error(R(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Sf(t){var e=t._init;return e(t._payload)}function H0(t){function e(y,m){if(t){var v=y.deletions;v===null?(y.deletions=[m],y.flags|=16):v.push(m)}}function n(y,m){if(!t)return null;for(;m!==null;)e(y,m),m=m.sibling;return null}function i(y,m){for(y=new Map;m!==null;)m.key!==null?y.set(m.key,m):y.set(m.index,m),m=m.sibling;return y}function s(y,m){return y=Fn(y,m),y.index=0,y.sibling=null,y}function r(y,m,v){return y.index=v,t?(v=y.alternate,v!==null?(v=v.index,v<m?(y.flags|=2,m):v):(y.flags|=2,m)):(y.flags|=1048576,m)}function o(y){return t&&y.alternate===null&&(y.flags|=2),y}function a(y,m,v,w){return m===null||m.tag!==6?(m=sc(v,y.mode,w),m.return=y,m):(m=s(m,v),m.return=y,m)}function l(y,m,v,w){var S=v.type;return S===zi?u(y,m,v.props.children,w,v.key):m!==null&&(m.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===bn&&Sf(S)===m.type)?(w=s(m,v.props),w.ref=Rs(y,m,v),w.return=y,w):(w=Jo(v.type,v.key,v.props,null,y.mode,w),w.ref=Rs(y,m,v),w.return=y,w)}function c(y,m,v,w){return m===null||m.tag!==4||m.stateNode.containerInfo!==v.containerInfo||m.stateNode.implementation!==v.implementation?(m=rc(v,y.mode,w),m.return=y,m):(m=s(m,v.children||[]),m.return=y,m)}function u(y,m,v,w,S){return m===null||m.tag!==7?(m=xi(v,y.mode,w,S),m.return=y,m):(m=s(m,v),m.return=y,m)}function d(y,m,v){if(typeof m=="string"&&m!==""||typeof m=="number")return m=sc(""+m,y.mode,v),m.return=y,m;if(typeof m=="object"&&m!==null){switch(m.$$typeof){case oo:return v=Jo(m.type,m.key,m.props,null,y.mode,v),v.ref=Rs(y,null,m),v.return=y,v;case Fi:return m=rc(m,y.mode,v),m.return=y,m;case bn:var w=m._init;return d(y,w(m._payload),v)}if(Bs(m)||Ps(m))return m=xi(m,y.mode,v,null),m.return=y,m;vo(y,m)}return null}function h(y,m,v,w){var S=m!==null?m.key:null;if(typeof v=="string"&&v!==""||typeof v=="number")return S!==null?null:a(y,m,""+v,w);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case oo:return v.key===S?l(y,m,v,w):null;case Fi:return v.key===S?c(y,m,v,w):null;case bn:return S=v._init,h(y,m,S(v._payload),w)}if(Bs(v)||Ps(v))return S!==null?null:u(y,m,v,w,null);vo(y,v)}return null}function f(y,m,v,w,S){if(typeof w=="string"&&w!==""||typeof w=="number")return y=y.get(v)||null,a(m,y,""+w,S);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case oo:return y=y.get(w.key===null?v:w.key)||null,l(m,y,w,S);case Fi:return y=y.get(w.key===null?v:w.key)||null,c(m,y,w,S);case bn:var C=w._init;return f(y,m,v,C(w._payload),S)}if(Bs(w)||Ps(w))return y=y.get(v)||null,u(m,y,w,S,null);vo(m,w)}return null}function p(y,m,v,w){for(var S=null,C=null,P=m,k=m=0,M=null;P!==null&&k<v.length;k++){P.index>k?(M=P,P=null):M=P.sibling;var T=h(y,P,v[k],w);if(T===null){P===null&&(P=M);break}t&&P&&T.alternate===null&&e(y,P),m=r(T,m,k),C===null?S=T:C.sibling=T,C=T,P=M}if(k===v.length)return n(y,P),me&&oi(y,k),S;if(P===null){for(;k<v.length;k++)P=d(y,v[k],w),P!==null&&(m=r(P,m,k),C===null?S=P:C.sibling=P,C=P);return me&&oi(y,k),S}for(P=i(y,P);k<v.length;k++)M=f(P,y,k,v[k],w),M!==null&&(t&&M.alternate!==null&&P.delete(M.key===null?k:M.key),m=r(M,m,k),C===null?S=M:C.sibling=M,C=M);return t&&P.forEach(function(A){return e(y,A)}),me&&oi(y,k),S}function g(y,m,v,w){var S=Ps(v);if(typeof S!="function")throw Error(R(150));if(v=S.call(v),v==null)throw Error(R(151));for(var C=S=null,P=m,k=m=0,M=null,T=v.next();P!==null&&!T.done;k++,T=v.next()){P.index>k?(M=P,P=null):M=P.sibling;var A=h(y,P,T.value,w);if(A===null){P===null&&(P=M);break}t&&P&&A.alternate===null&&e(y,P),m=r(A,m,k),C===null?S=A:C.sibling=A,C=A,P=M}if(T.done)return n(y,P),me&&oi(y,k),S;if(P===null){for(;!T.done;k++,T=v.next())T=d(y,T.value,w),T!==null&&(m=r(T,m,k),C===null?S=T:C.sibling=T,C=T);return me&&oi(y,k),S}for(P=i(y,P);!T.done;k++,T=v.next())T=f(P,y,k,T.value,w),T!==null&&(t&&T.alternate!==null&&P.delete(T.key===null?k:T.key),m=r(T,m,k),C===null?S=T:C.sibling=T,C=T);return t&&P.forEach(function(j){return e(y,j)}),me&&oi(y,k),S}function x(y,m,v,w){if(typeof v=="object"&&v!==null&&v.type===zi&&v.key===null&&(v=v.props.children),typeof v=="object"&&v!==null){switch(v.$$typeof){case oo:e:{for(var S=v.key,C=m;C!==null;){if(C.key===S){if(S=v.type,S===zi){if(C.tag===7){n(y,C.sibling),m=s(C,v.props.children),m.return=y,y=m;break e}}else if(C.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===bn&&Sf(S)===C.type){n(y,C.sibling),m=s(C,v.props),m.ref=Rs(y,C,v),m.return=y,y=m;break e}n(y,C);break}else e(y,C);C=C.sibling}v.type===zi?(m=xi(v.props.children,y.mode,w,v.key),m.return=y,y=m):(w=Jo(v.type,v.key,v.props,null,y.mode,w),w.ref=Rs(y,m,v),w.return=y,y=w)}return o(y);case Fi:e:{for(C=v.key;m!==null;){if(m.key===C)if(m.tag===4&&m.stateNode.containerInfo===v.containerInfo&&m.stateNode.implementation===v.implementation){n(y,m.sibling),m=s(m,v.children||[]),m.return=y,y=m;break e}else{n(y,m);break}else e(y,m);m=m.sibling}m=rc(v,y.mode,w),m.return=y,y=m}return o(y);case bn:return C=v._init,x(y,m,C(v._payload),w)}if(Bs(v))return p(y,m,v,w);if(Ps(v))return g(y,m,v,w);vo(y,v)}return typeof v=="string"&&v!==""||typeof v=="number"?(v=""+v,m!==null&&m.tag===6?(n(y,m.sibling),m=s(m,v),m.return=y,y=m):(n(y,m),m=sc(v,y.mode,w),m.return=y,y=m),o(y)):n(y,m)}return x}var ds=H0(!0),W0=H0(!1),ka=Qn(null),Pa=null,Xi=null,Cd=null;function Md(){Cd=Xi=Pa=null}function Td(t){var e=ka.current;he(ka),t._currentValue=e}function cu(t,e,n){for(;t!==null;){var i=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,i!==null&&(i.childLanes|=e)):i!==null&&(i.childLanes&e)!==e&&(i.childLanes|=e),t===n)break;t=t.return}}function rs(t,e){Pa=t,Cd=Xi=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(ot=!0),t.firstContext=null)}function Mt(t){var e=t._currentValue;if(Cd!==t)if(t={context:t,memoizedValue:e,next:null},Xi===null){if(Pa===null)throw Error(R(308));Xi=t,Pa.dependencies={lanes:0,firstContext:t}}else Xi=Xi.next=t;return e}var pi=null;function Ed(t){pi===null?pi=[t]:pi.push(t)}function $0(t,e,n,i){var s=e.interleaved;return s===null?(n.next=n,Ed(e)):(n.next=s.next,s.next=n),e.interleaved=n,fn(t,i)}function fn(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var wn=!1;function Rd(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function U0(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function ln(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Nn(t,e,n){var i=t.updateQueue;if(i===null)return null;if(i=i.shared,ee&2){var s=i.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),i.pending=e,fn(t,n)}return s=i.interleaved,s===null?(e.next=e,Ed(i)):(e.next=s.next,s.next=e),i.interleaved=e,fn(t,n)}function Ko(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var i=e.lanes;i&=t.pendingLanes,n|=i,e.lanes=n,md(t,n)}}function _f(t,e){var n=t.updateQueue,i=t.alternate;if(i!==null&&(i=i.updateQueue,n===i)){var s=null,r=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};r===null?s=r=o:r=r.next=o,n=n.next}while(n!==null);r===null?s=r=e:r=r.next=e}else s=r=e;n={baseState:i.baseState,firstBaseUpdate:s,lastBaseUpdate:r,shared:i.shared,effects:i.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Ca(t,e,n,i){var s=t.updateQueue;wn=!1;var r=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?r=c:o.next=c,o=l;var u=t.alternate;u!==null&&(u=u.updateQueue,a=u.lastBaseUpdate,a!==o&&(a===null?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(r!==null){var d=s.baseState;o=0,u=c=l=null,a=r;do{var h=a.lane,f=a.eventTime;if((i&h)===h){u!==null&&(u=u.next={eventTime:f,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var p=t,g=a;switch(h=e,f=n,g.tag){case 1:if(p=g.payload,typeof p=="function"){d=p.call(f,d,h);break e}d=p;break e;case 3:p.flags=p.flags&-65537|128;case 0:if(p=g.payload,h=typeof p=="function"?p.call(f,d,h):p,h==null)break e;d=be({},d,h);break e;case 2:wn=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,h=s.effects,h===null?s.effects=[a]:h.push(a))}else f={eventTime:f,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},u===null?(c=u=f,l=d):u=u.next=f,o|=h;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;h=a,a=h.next,h.next=null,s.lastBaseUpdate=h,s.shared.pending=null}}while(1);if(u===null&&(l=d),s.baseState=l,s.firstBaseUpdate=c,s.lastBaseUpdate=u,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else r===null&&(s.shared.lanes=0);Ci|=o,t.lanes=o,t.memoizedState=d}}function kf(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var i=t[e],s=i.callback;if(s!==null){if(i.callback=null,i=n,typeof s!="function")throw Error(R(191,s));s.call(i)}}}var Qr={},Ut=Qn(Qr),Mr=Qn(Qr),Tr=Qn(Qr);function mi(t){if(t===Qr)throw Error(R(174));return t}function Dd(t,e){switch(ae(Tr,e),ae(Mr,t),ae(Ut,Qr),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Wc(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Wc(e,t)}he(Ut),ae(Ut,e)}function hs(){he(Ut),he(Mr),he(Tr)}function Y0(t){mi(Tr.current);var e=mi(Ut.current),n=Wc(e,t.type);e!==n&&(ae(Mr,t),ae(Ut,n))}function Ad(t){Mr.current===t&&(he(Ut),he(Mr))}var ye=Qn(0);function Ma(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Zl=[];function Ld(){for(var t=0;t<Zl.length;t++)Zl[t]._workInProgressVersionPrimary=null;Zl.length=0}var Xo=gn.ReactCurrentDispatcher,Jl=gn.ReactCurrentBatchConfig,Pi=0,xe=null,Le=null,je=null,Ta=!1,ir=!1,Er=0,mw=0;function We(){throw Error(R(321))}function Od(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!jt(t[n],e[n]))return!1;return!0}function Id(t,e,n,i,s,r){if(Pi=r,xe=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Xo.current=t===null||t.memoizedState===null?xw:bw,t=n(i,s),ir){r=0;do{if(ir=!1,Er=0,25<=r)throw Error(R(301));r+=1,je=Le=null,e.updateQueue=null,Xo.current=ww,t=n(i,s)}while(ir)}if(Xo.current=Ea,e=Le!==null&&Le.next!==null,Pi=0,je=Le=xe=null,Ta=!1,e)throw Error(R(300));return t}function Nd(){var t=Er!==0;return Er=0,t}function Bt(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return je===null?xe.memoizedState=je=t:je=je.next=t,je}function Tt(){if(Le===null){var t=xe.alternate;t=t!==null?t.memoizedState:null}else t=Le.next;var e=je===null?xe.memoizedState:je.next;if(e!==null)je=e,Le=t;else{if(t===null)throw Error(R(310));Le=t,t={memoizedState:Le.memoizedState,baseState:Le.baseState,baseQueue:Le.baseQueue,queue:Le.queue,next:null},je===null?xe.memoizedState=je=t:je=je.next=t}return je}function Rr(t,e){return typeof e=="function"?e(t):e}function ec(t){var e=Tt(),n=e.queue;if(n===null)throw Error(R(311));n.lastRenderedReducer=t;var i=Le,s=i.baseQueue,r=n.pending;if(r!==null){if(s!==null){var o=s.next;s.next=r.next,r.next=o}i.baseQueue=s=r,n.pending=null}if(s!==null){r=s.next,i=i.baseState;var a=o=null,l=null,c=r;do{var u=c.lane;if((Pi&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),i=c.hasEagerState?c.eagerState:t(i,c.action);else{var d={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=d,o=i):l=l.next=d,xe.lanes|=u,Ci|=u}c=c.next}while(c!==null&&c!==r);l===null?o=i:l.next=a,jt(i,e.memoizedState)||(ot=!0),e.memoizedState=i,e.baseState=o,e.baseQueue=l,n.lastRenderedState=i}if(t=n.interleaved,t!==null){s=t;do r=s.lane,xe.lanes|=r,Ci|=r,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function tc(t){var e=Tt(),n=e.queue;if(n===null)throw Error(R(311));n.lastRenderedReducer=t;var i=n.dispatch,s=n.pending,r=e.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do r=t(r,o.action),o=o.next;while(o!==s);jt(r,e.memoizedState)||(ot=!0),e.memoizedState=r,e.baseQueue===null&&(e.baseState=r),n.lastRenderedState=r}return[r,i]}function K0(){}function X0(t,e){var n=xe,i=Tt(),s=e(),r=!jt(i.memoizedState,s);if(r&&(i.memoizedState=s,ot=!0),i=i.queue,jd(q0.bind(null,n,i,t),[t]),i.getSnapshot!==e||r||je!==null&&je.memoizedState.tag&1){if(n.flags|=2048,Dr(9,Q0.bind(null,n,i,s,e),void 0,null),Fe===null)throw Error(R(349));Pi&30||G0(n,e,s)}return s}function G0(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=xe.updateQueue,e===null?(e={lastEffect:null,stores:null},xe.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function Q0(t,e,n,i){e.value=n,e.getSnapshot=i,Z0(e)&&J0(t)}function q0(t,e,n){return n(function(){Z0(e)&&J0(t)})}function Z0(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!jt(t,n)}catch{return!0}}function J0(t){var e=fn(t,1);e!==null&&It(e,t,1,-1)}function Pf(t){var e=Bt();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Rr,lastRenderedState:t},e.queue=t,t=t.dispatch=vw.bind(null,xe,t),[e.memoizedState,t]}function Dr(t,e,n,i){return t={tag:t,create:e,destroy:n,deps:i,next:null},e=xe.updateQueue,e===null?(e={lastEffect:null,stores:null},xe.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(i=n.next,n.next=t,t.next=i,e.lastEffect=t)),t}function ey(){return Tt().memoizedState}function Go(t,e,n,i){var s=Bt();xe.flags|=t,s.memoizedState=Dr(1|e,n,void 0,i===void 0?null:i)}function ol(t,e,n,i){var s=Tt();i=i===void 0?null:i;var r=void 0;if(Le!==null){var o=Le.memoizedState;if(r=o.destroy,i!==null&&Od(i,o.deps)){s.memoizedState=Dr(e,n,r,i);return}}xe.flags|=t,s.memoizedState=Dr(1|e,n,r,i)}function Cf(t,e){return Go(8390656,8,t,e)}function jd(t,e){return ol(2048,8,t,e)}function ty(t,e){return ol(4,2,t,e)}function ny(t,e){return ol(4,4,t,e)}function iy(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function sy(t,e,n){return n=n!=null?n.concat([t]):null,ol(4,4,iy.bind(null,e,t),n)}function Vd(){}function ry(t,e){var n=Tt();e=e===void 0?null:e;var i=n.memoizedState;return i!==null&&e!==null&&Od(e,i[1])?i[0]:(n.memoizedState=[t,e],t)}function oy(t,e){var n=Tt();e=e===void 0?null:e;var i=n.memoizedState;return i!==null&&e!==null&&Od(e,i[1])?i[0]:(t=t(),n.memoizedState=[t,e],t)}function ay(t,e,n){return Pi&21?(jt(n,e)||(n=h0(),xe.lanes|=n,Ci|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,ot=!0),t.memoizedState=n)}function gw(t,e){var n=ie;ie=n!==0&&4>n?n:4,t(!0);var i=Jl.transition;Jl.transition={};try{t(!1),e()}finally{ie=n,Jl.transition=i}}function ly(){return Tt().memoizedState}function yw(t,e,n){var i=Vn(t);if(n={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null},cy(t))uy(e,n);else if(n=$0(t,e,n,i),n!==null){var s=et();It(n,t,i,s),dy(n,e,i)}}function vw(t,e,n){var i=Vn(t),s={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null};if(cy(t))uy(e,s);else{var r=t.alternate;if(t.lanes===0&&(r===null||r.lanes===0)&&(r=e.lastRenderedReducer,r!==null))try{var o=e.lastRenderedState,a=r(o,n);if(s.hasEagerState=!0,s.eagerState=a,jt(a,o)){var l=e.interleaved;l===null?(s.next=s,Ed(e)):(s.next=l.next,l.next=s),e.interleaved=s;return}}catch{}finally{}n=$0(t,e,s,i),n!==null&&(s=et(),It(n,t,i,s),dy(n,e,i))}}function cy(t){var e=t.alternate;return t===xe||e!==null&&e===xe}function uy(t,e){ir=Ta=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function dy(t,e,n){if(n&4194240){var i=e.lanes;i&=t.pendingLanes,n|=i,e.lanes=n,md(t,n)}}var Ea={readContext:Mt,useCallback:We,useContext:We,useEffect:We,useImperativeHandle:We,useInsertionEffect:We,useLayoutEffect:We,useMemo:We,useReducer:We,useRef:We,useState:We,useDebugValue:We,useDeferredValue:We,useTransition:We,useMutableSource:We,useSyncExternalStore:We,useId:We,unstable_isNewReconciler:!1},xw={readContext:Mt,useCallback:function(t,e){return Bt().memoizedState=[t,e===void 0?null:e],t},useContext:Mt,useEffect:Cf,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Go(4194308,4,iy.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Go(4194308,4,t,e)},useInsertionEffect:function(t,e){return Go(4,2,t,e)},useMemo:function(t,e){var n=Bt();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var i=Bt();return e=n!==void 0?n(e):e,i.memoizedState=i.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},i.queue=t,t=t.dispatch=yw.bind(null,xe,t),[i.memoizedState,t]},useRef:function(t){var e=Bt();return t={current:t},e.memoizedState=t},useState:Pf,useDebugValue:Vd,useDeferredValue:function(t){return Bt().memoizedState=t},useTransition:function(){var t=Pf(!1),e=t[0];return t=gw.bind(null,t[1]),Bt().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var i=xe,s=Bt();if(me){if(n===void 0)throw Error(R(407));n=n()}else{if(n=e(),Fe===null)throw Error(R(349));Pi&30||G0(i,e,n)}s.memoizedState=n;var r={value:n,getSnapshot:e};return s.queue=r,Cf(q0.bind(null,i,r,t),[t]),i.flags|=2048,Dr(9,Q0.bind(null,i,r,n,e),void 0,null),n},useId:function(){var t=Bt(),e=Fe.identifierPrefix;if(me){var n=nn,i=tn;n=(i&~(1<<32-Ot(i)-1)).toString(32)+n,e=":"+e+"R"+n,n=Er++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=mw++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},bw={readContext:Mt,useCallback:ry,useContext:Mt,useEffect:jd,useImperativeHandle:sy,useInsertionEffect:ty,useLayoutEffect:ny,useMemo:oy,useReducer:ec,useRef:ey,useState:function(){return ec(Rr)},useDebugValue:Vd,useDeferredValue:function(t){var e=Tt();return ay(e,Le.memoizedState,t)},useTransition:function(){var t=ec(Rr)[0],e=Tt().memoizedState;return[t,e]},useMutableSource:K0,useSyncExternalStore:X0,useId:ly,unstable_isNewReconciler:!1},ww={readContext:Mt,useCallback:ry,useContext:Mt,useEffect:jd,useImperativeHandle:sy,useInsertionEffect:ty,useLayoutEffect:ny,useMemo:oy,useReducer:tc,useRef:ey,useState:function(){return tc(Rr)},useDebugValue:Vd,useDeferredValue:function(t){var e=Tt();return Le===null?e.memoizedState=t:ay(e,Le.memoizedState,t)},useTransition:function(){var t=tc(Rr)[0],e=Tt().memoizedState;return[t,e]},useMutableSource:K0,useSyncExternalStore:X0,useId:ly,unstable_isNewReconciler:!1};function Rt(t,e){if(t&&t.defaultProps){e=be({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function uu(t,e,n,i){e=t.memoizedState,n=n(i,e),n=n==null?e:be({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var al={isMounted:function(t){return(t=t._reactInternals)?Di(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var i=et(),s=Vn(t),r=ln(i,s);r.payload=e,n!=null&&(r.callback=n),e=Nn(t,r,s),e!==null&&(It(e,t,s,i),Ko(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var i=et(),s=Vn(t),r=ln(i,s);r.tag=1,r.payload=e,n!=null&&(r.callback=n),e=Nn(t,r,s),e!==null&&(It(e,t,s,i),Ko(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=et(),i=Vn(t),s=ln(n,i);s.tag=2,e!=null&&(s.callback=e),e=Nn(t,s,i),e!==null&&(It(e,t,i,n),Ko(e,t,i))}};function Mf(t,e,n,i,s,r,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(i,r,o):e.prototype&&e.prototype.isPureReactComponent?!_r(n,i)||!_r(s,r):!0}function hy(t,e,n){var i=!1,s=$n,r=e.contextType;return typeof r=="object"&&r!==null?r=Mt(r):(s=lt(e)?_i:Ge.current,i=e.contextTypes,r=(i=i!=null)?cs(t,s):$n),e=new e(n,r),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=al,t.stateNode=e,e._reactInternals=t,i&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=r),e}function Tf(t,e,n,i){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,i),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,i),e.state!==t&&al.enqueueReplaceState(e,e.state,null)}function du(t,e,n,i){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},Rd(t);var r=e.contextType;typeof r=="object"&&r!==null?s.context=Mt(r):(r=lt(e)?_i:Ge.current,s.context=cs(t,r)),s.state=t.memoizedState,r=e.getDerivedStateFromProps,typeof r=="function"&&(uu(t,e,r,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&al.enqueueReplaceState(s,s.state,null),Ca(t,n,s,i),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function fs(t,e){try{var n="",i=e;do n+=G1(i),i=i.return;while(i);var s=n}catch(r){s=`
Error generating stack: `+r.message+`
`+r.stack}return{value:t,source:e,stack:s,digest:null}}function nc(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function hu(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var Sw=typeof WeakMap=="function"?WeakMap:Map;function fy(t,e,n){n=ln(-1,n),n.tag=3,n.payload={element:null};var i=e.value;return n.callback=function(){Da||(Da=!0,Su=i),hu(t,e)},n}function py(t,e,n){n=ln(-1,n),n.tag=3;var i=t.type.getDerivedStateFromError;if(typeof i=="function"){var s=e.value;n.payload=function(){return i(s)},n.callback=function(){hu(t,e)}}var r=t.stateNode;return r!==null&&typeof r.componentDidCatch=="function"&&(n.callback=function(){hu(t,e),typeof i!="function"&&(jn===null?jn=new Set([this]):jn.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function Ef(t,e,n){var i=t.pingCache;if(i===null){i=t.pingCache=new Sw;var s=new Set;i.set(e,s)}else s=i.get(e),s===void 0&&(s=new Set,i.set(e,s));s.has(n)||(s.add(n),t=Nw.bind(null,t,e,n),e.then(t,t))}function Rf(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Df(t,e,n,i,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=ln(-1,1),e.tag=2,Nn(n,e,1))),n.lanes|=1),t)}var _w=gn.ReactCurrentOwner,ot=!1;function Je(t,e,n,i){e.child=t===null?W0(e,null,n,i):ds(e,t.child,n,i)}function Af(t,e,n,i,s){n=n.render;var r=e.ref;return rs(e,s),i=Id(t,e,n,i,r,s),n=Nd(),t!==null&&!ot?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,pn(t,e,s)):(me&&n&&_d(e),e.flags|=1,Je(t,e,i,s),e.child)}function Lf(t,e,n,i,s){if(t===null){var r=n.type;return typeof r=="function"&&!Yd(r)&&r.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=r,my(t,e,r,i,s)):(t=Jo(n.type,null,i,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(r=t.child,!(t.lanes&s)){var o=r.memoizedProps;if(n=n.compare,n=n!==null?n:_r,n(o,i)&&t.ref===e.ref)return pn(t,e,s)}return e.flags|=1,t=Fn(r,i),t.ref=e.ref,t.return=e,e.child=t}function my(t,e,n,i,s){if(t!==null){var r=t.memoizedProps;if(_r(r,i)&&t.ref===e.ref)if(ot=!1,e.pendingProps=i=r,(t.lanes&s)!==0)t.flags&131072&&(ot=!0);else return e.lanes=t.lanes,pn(t,e,s)}return fu(t,e,n,i,s)}function gy(t,e,n){var i=e.pendingProps,s=i.children,r=t!==null?t.memoizedState:null;if(i.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},ae(Qi,ht),ht|=n;else{if(!(n&1073741824))return t=r!==null?r.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,ae(Qi,ht),ht|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},i=r!==null?r.baseLanes:n,ae(Qi,ht),ht|=i}else r!==null?(i=r.baseLanes|n,e.memoizedState=null):i=n,ae(Qi,ht),ht|=i;return Je(t,e,s,n),e.child}function yy(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function fu(t,e,n,i,s){var r=lt(n)?_i:Ge.current;return r=cs(e,r),rs(e,s),n=Id(t,e,n,i,r,s),i=Nd(),t!==null&&!ot?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,pn(t,e,s)):(me&&i&&_d(e),e.flags|=1,Je(t,e,n,s),e.child)}function Of(t,e,n,i,s){if(lt(n)){var r=!0;wa(e)}else r=!1;if(rs(e,s),e.stateNode===null)Qo(t,e),hy(e,n,i),du(e,n,i,s),i=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=Mt(c):(c=lt(n)?_i:Ge.current,c=cs(e,c));var u=n.getDerivedStateFromProps,d=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==i||l!==c)&&Tf(e,o,i,c),wn=!1;var h=e.memoizedState;o.state=h,Ca(e,i,o,s),l=e.memoizedState,a!==i||h!==l||at.current||wn?(typeof u=="function"&&(uu(e,n,u,i),l=e.memoizedState),(a=wn||Mf(e,n,a,i,h,l,c))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=i,e.memoizedState=l),o.props=i,o.state=l,o.context=c,i=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),i=!1)}else{o=e.stateNode,U0(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:Rt(e.type,a),o.props=c,d=e.pendingProps,h=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=Mt(l):(l=lt(n)?_i:Ge.current,l=cs(e,l));var f=n.getDerivedStateFromProps;(u=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==d||h!==l)&&Tf(e,o,i,l),wn=!1,h=e.memoizedState,o.state=h,Ca(e,i,o,s);var p=e.memoizedState;a!==d||h!==p||at.current||wn?(typeof f=="function"&&(uu(e,n,f,i),p=e.memoizedState),(c=wn||Mf(e,n,c,i,h,p,l)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(i,p,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(i,p,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=i,e.memoizedState=p),o.props=i,o.state=p,o.context=l,i=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),i=!1)}return pu(t,e,n,i,r,s)}function pu(t,e,n,i,s,r){yy(t,e);var o=(e.flags&128)!==0;if(!i&&!o)return s&&xf(e,n,!1),pn(t,e,r);i=e.stateNode,_w.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:i.render();return e.flags|=1,t!==null&&o?(e.child=ds(e,t.child,null,r),e.child=ds(e,null,a,r)):Je(t,e,a,r),e.memoizedState=i.state,s&&xf(e,n,!0),e.child}function vy(t){var e=t.stateNode;e.pendingContext?vf(t,e.pendingContext,e.pendingContext!==e.context):e.context&&vf(t,e.context,!1),Dd(t,e.containerInfo)}function If(t,e,n,i,s){return us(),Pd(s),e.flags|=256,Je(t,e,n,i),e.child}var mu={dehydrated:null,treeContext:null,retryLane:0};function gu(t){return{baseLanes:t,cachePool:null,transitions:null}}function xy(t,e,n){var i=e.pendingProps,s=ye.current,r=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(s&2)!==0),a?(r=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),ae(ye,s&1),t===null)return lu(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=i.children,t=i.fallback,r?(i=e.mode,r=e.child,o={mode:"hidden",children:o},!(i&1)&&r!==null?(r.childLanes=0,r.pendingProps=o):r=ul(o,i,0,null),t=xi(t,i,n,null),r.return=e,t.return=e,r.sibling=t,e.child=r,e.child.memoizedState=gu(n),e.memoizedState=mu,t):Fd(e,o));if(s=t.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return kw(t,e,o,i,a,s,n);if(r){r=i.fallback,o=e.mode,s=t.child,a=s.sibling;var l={mode:"hidden",children:i.children};return!(o&1)&&e.child!==s?(i=e.child,i.childLanes=0,i.pendingProps=l,e.deletions=null):(i=Fn(s,l),i.subtreeFlags=s.subtreeFlags&14680064),a!==null?r=Fn(a,r):(r=xi(r,o,n,null),r.flags|=2),r.return=e,i.return=e,i.sibling=r,e.child=i,i=r,r=e.child,o=t.child.memoizedState,o=o===null?gu(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},r.memoizedState=o,r.childLanes=t.childLanes&~n,e.memoizedState=mu,i}return r=t.child,t=r.sibling,i=Fn(r,{mode:"visible",children:i.children}),!(e.mode&1)&&(i.lanes=n),i.return=e,i.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=i,e.memoizedState=null,i}function Fd(t,e){return e=ul({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function xo(t,e,n,i){return i!==null&&Pd(i),ds(e,t.child,null,n),t=Fd(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function kw(t,e,n,i,s,r,o){if(n)return e.flags&256?(e.flags&=-257,i=nc(Error(R(422))),xo(t,e,o,i)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(r=i.fallback,s=e.mode,i=ul({mode:"visible",children:i.children},s,0,null),r=xi(r,s,o,null),r.flags|=2,i.return=e,r.return=e,i.sibling=r,e.child=i,e.mode&1&&ds(e,t.child,null,o),e.child.memoizedState=gu(o),e.memoizedState=mu,r);if(!(e.mode&1))return xo(t,e,o,null);if(s.data==="$!"){if(i=s.nextSibling&&s.nextSibling.dataset,i)var a=i.dgst;return i=a,r=Error(R(419)),i=nc(r,i,void 0),xo(t,e,o,i)}if(a=(o&t.childLanes)!==0,ot||a){if(i=Fe,i!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(i.suspendedLanes|o)?0:s,s!==0&&s!==r.retryLane&&(r.retryLane=s,fn(t,s),It(i,t,s,-1))}return Ud(),i=nc(Error(R(421))),xo(t,e,o,i)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=jw.bind(null,t),s._reactRetry=e,null):(t=r.treeContext,pt=In(s.nextSibling),mt=e,me=!0,At=null,t!==null&&(_t[kt++]=tn,_t[kt++]=nn,_t[kt++]=ki,tn=t.id,nn=t.overflow,ki=e),e=Fd(e,i.children),e.flags|=4096,e)}function Nf(t,e,n){t.lanes|=e;var i=t.alternate;i!==null&&(i.lanes|=e),cu(t.return,e,n)}function ic(t,e,n,i,s){var r=t.memoizedState;r===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:s}:(r.isBackwards=e,r.rendering=null,r.renderingStartTime=0,r.last=i,r.tail=n,r.tailMode=s)}function by(t,e,n){var i=e.pendingProps,s=i.revealOrder,r=i.tail;if(Je(t,e,i.children,n),i=ye.current,i&2)i=i&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Nf(t,n,e);else if(t.tag===19)Nf(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}i&=1}if(ae(ye,i),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&Ma(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),ic(e,!1,s,n,r);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&Ma(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}ic(e,!0,n,null,r);break;case"together":ic(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Qo(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function pn(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Ci|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(R(153));if(e.child!==null){for(t=e.child,n=Fn(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Fn(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function Pw(t,e,n){switch(e.tag){case 3:vy(e),us();break;case 5:Y0(e);break;case 1:lt(e.type)&&wa(e);break;case 4:Dd(e,e.stateNode.containerInfo);break;case 10:var i=e.type._context,s=e.memoizedProps.value;ae(ka,i._currentValue),i._currentValue=s;break;case 13:if(i=e.memoizedState,i!==null)return i.dehydrated!==null?(ae(ye,ye.current&1),e.flags|=128,null):n&e.child.childLanes?xy(t,e,n):(ae(ye,ye.current&1),t=pn(t,e,n),t!==null?t.sibling:null);ae(ye,ye.current&1);break;case 19:if(i=(n&e.childLanes)!==0,t.flags&128){if(i)return by(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),ae(ye,ye.current),i)break;return null;case 22:case 23:return e.lanes=0,gy(t,e,n)}return pn(t,e,n)}var wy,yu,Sy,_y;wy=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};yu=function(){};Sy=function(t,e,n,i){var s=t.memoizedProps;if(s!==i){t=e.stateNode,mi(Ut.current);var r=null;switch(n){case"input":s=Fc(t,s),i=Fc(t,i),r=[];break;case"select":s=be({},s,{value:void 0}),i=be({},i,{value:void 0}),r=[];break;case"textarea":s=Hc(t,s),i=Hc(t,i),r=[];break;default:typeof s.onClick!="function"&&typeof i.onClick=="function"&&(t.onclick=xa)}$c(n,i);var o;n=null;for(c in s)if(!i.hasOwnProperty(c)&&s.hasOwnProperty(c)&&s[c]!=null)if(c==="style"){var a=s[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(gr.hasOwnProperty(c)?r||(r=[]):(r=r||[]).push(c,null));for(c in i){var l=i[c];if(a=s!=null?s[c]:void 0,i.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(r||(r=[]),r.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(r=r||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(r=r||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(gr.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&ue("scroll",t),r||a===l||(r=[])):(r=r||[]).push(c,l))}n&&(r=r||[]).push("style",n);var c=r;(e.updateQueue=c)&&(e.flags|=4)}};_y=function(t,e,n,i){n!==i&&(e.flags|=4)};function Ds(t,e){if(!me)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:i.sibling=null}}function $e(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,i=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,i|=s.subtreeFlags&14680064,i|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,i|=s.subtreeFlags,i|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=i,t.childLanes=n,e}function Cw(t,e,n){var i=e.pendingProps;switch(kd(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return $e(e),null;case 1:return lt(e.type)&&ba(),$e(e),null;case 3:return i=e.stateNode,hs(),he(at),he(Ge),Ld(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(t===null||t.child===null)&&(yo(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,At!==null&&(Pu(At),At=null))),yu(t,e),$e(e),null;case 5:Ad(e);var s=mi(Tr.current);if(n=e.type,t!==null&&e.stateNode!=null)Sy(t,e,n,i,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!i){if(e.stateNode===null)throw Error(R(166));return $e(e),null}if(t=mi(Ut.current),yo(e)){i=e.stateNode,n=e.type;var r=e.memoizedProps;switch(i[Wt]=e,i[Cr]=r,t=(e.mode&1)!==0,n){case"dialog":ue("cancel",i),ue("close",i);break;case"iframe":case"object":case"embed":ue("load",i);break;case"video":case"audio":for(s=0;s<Ws.length;s++)ue(Ws[s],i);break;case"source":ue("error",i);break;case"img":case"image":case"link":ue("error",i),ue("load",i);break;case"details":ue("toggle",i);break;case"input":$h(i,r),ue("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!r.multiple},ue("invalid",i);break;case"textarea":Yh(i,r),ue("invalid",i)}$c(n,r),s=null;for(var o in r)if(r.hasOwnProperty(o)){var a=r[o];o==="children"?typeof a=="string"?i.textContent!==a&&(r.suppressHydrationWarning!==!0&&go(i.textContent,a,t),s=["children",a]):typeof a=="number"&&i.textContent!==""+a&&(r.suppressHydrationWarning!==!0&&go(i.textContent,a,t),s=["children",""+a]):gr.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&ue("scroll",i)}switch(n){case"input":ao(i),Uh(i,r,!0);break;case"textarea":ao(i),Kh(i);break;case"select":case"option":break;default:typeof r.onClick=="function"&&(i.onclick=xa)}i=s,e.updateQueue=i,i!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=qg(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof i.is=="string"?t=o.createElement(n,{is:i.is}):(t=o.createElement(n),n==="select"&&(o=t,i.multiple?o.multiple=!0:i.size&&(o.size=i.size))):t=o.createElementNS(t,n),t[Wt]=e,t[Cr]=i,wy(t,e,!1,!1),e.stateNode=t;e:{switch(o=Uc(n,i),n){case"dialog":ue("cancel",t),ue("close",t),s=i;break;case"iframe":case"object":case"embed":ue("load",t),s=i;break;case"video":case"audio":for(s=0;s<Ws.length;s++)ue(Ws[s],t);s=i;break;case"source":ue("error",t),s=i;break;case"img":case"image":case"link":ue("error",t),ue("load",t),s=i;break;case"details":ue("toggle",t),s=i;break;case"input":$h(t,i),s=Fc(t,i),ue("invalid",t);break;case"option":s=i;break;case"select":t._wrapperState={wasMultiple:!!i.multiple},s=be({},i,{value:void 0}),ue("invalid",t);break;case"textarea":Yh(t,i),s=Hc(t,i),ue("invalid",t);break;default:s=i}$c(n,s),a=s;for(r in a)if(a.hasOwnProperty(r)){var l=a[r];r==="style"?e0(t,l):r==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&Zg(t,l)):r==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&yr(t,l):typeof l=="number"&&yr(t,""+l):r!=="suppressContentEditableWarning"&&r!=="suppressHydrationWarning"&&r!=="autoFocus"&&(gr.hasOwnProperty(r)?l!=null&&r==="onScroll"&&ue("scroll",t):l!=null&&cd(t,r,l,o))}switch(n){case"input":ao(t),Uh(t,i,!1);break;case"textarea":ao(t),Kh(t);break;case"option":i.value!=null&&t.setAttribute("value",""+Wn(i.value));break;case"select":t.multiple=!!i.multiple,r=i.value,r!=null?ts(t,!!i.multiple,r,!1):i.defaultValue!=null&&ts(t,!!i.multiple,i.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=xa)}switch(n){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}}i&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return $e(e),null;case 6:if(t&&e.stateNode!=null)_y(t,e,t.memoizedProps,i);else{if(typeof i!="string"&&e.stateNode===null)throw Error(R(166));if(n=mi(Tr.current),mi(Ut.current),yo(e)){if(i=e.stateNode,n=e.memoizedProps,i[Wt]=e,(r=i.nodeValue!==n)&&(t=mt,t!==null))switch(t.tag){case 3:go(i.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&go(i.nodeValue,n,(t.mode&1)!==0)}r&&(e.flags|=4)}else i=(n.nodeType===9?n:n.ownerDocument).createTextNode(i),i[Wt]=e,e.stateNode=i}return $e(e),null;case 13:if(he(ye),i=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(me&&pt!==null&&e.mode&1&&!(e.flags&128))B0(),us(),e.flags|=98560,r=!1;else if(r=yo(e),i!==null&&i.dehydrated!==null){if(t===null){if(!r)throw Error(R(318));if(r=e.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(R(317));r[Wt]=e}else us(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;$e(e),r=!1}else At!==null&&(Pu(At),At=null),r=!0;if(!r)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(i=i!==null,i!==(t!==null&&t.memoizedState!==null)&&i&&(e.child.flags|=8192,e.mode&1&&(t===null||ye.current&1?Oe===0&&(Oe=3):Ud())),e.updateQueue!==null&&(e.flags|=4),$e(e),null);case 4:return hs(),yu(t,e),t===null&&kr(e.stateNode.containerInfo),$e(e),null;case 10:return Td(e.type._context),$e(e),null;case 17:return lt(e.type)&&ba(),$e(e),null;case 19:if(he(ye),r=e.memoizedState,r===null)return $e(e),null;if(i=(e.flags&128)!==0,o=r.rendering,o===null)if(i)Ds(r,!1);else{if(Oe!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Ma(t),o!==null){for(e.flags|=128,Ds(r,!1),i=o.updateQueue,i!==null&&(e.updateQueue=i,e.flags|=4),e.subtreeFlags=0,i=n,n=e.child;n!==null;)r=n,t=i,r.flags&=14680066,o=r.alternate,o===null?(r.childLanes=0,r.lanes=t,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=o.childLanes,r.lanes=o.lanes,r.child=o.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=o.memoizedProps,r.memoizedState=o.memoizedState,r.updateQueue=o.updateQueue,r.type=o.type,t=o.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return ae(ye,ye.current&1|2),e.child}t=t.sibling}r.tail!==null&&Me()>ps&&(e.flags|=128,i=!0,Ds(r,!1),e.lanes=4194304)}else{if(!i)if(t=Ma(o),t!==null){if(e.flags|=128,i=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Ds(r,!0),r.tail===null&&r.tailMode==="hidden"&&!o.alternate&&!me)return $e(e),null}else 2*Me()-r.renderingStartTime>ps&&n!==1073741824&&(e.flags|=128,i=!0,Ds(r,!1),e.lanes=4194304);r.isBackwards?(o.sibling=e.child,e.child=o):(n=r.last,n!==null?n.sibling=o:e.child=o,r.last=o)}return r.tail!==null?(e=r.tail,r.rendering=e,r.tail=e.sibling,r.renderingStartTime=Me(),e.sibling=null,n=ye.current,ae(ye,i?n&1|2:n&1),e):($e(e),null);case 22:case 23:return $d(),i=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==i&&(e.flags|=8192),i&&e.mode&1?ht&1073741824&&($e(e),e.subtreeFlags&6&&(e.flags|=8192)):$e(e),null;case 24:return null;case 25:return null}throw Error(R(156,e.tag))}function Mw(t,e){switch(kd(e),e.tag){case 1:return lt(e.type)&&ba(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return hs(),he(at),he(Ge),Ld(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Ad(e),null;case 13:if(he(ye),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(R(340));us()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return he(ye),null;case 4:return hs(),null;case 10:return Td(e.type._context),null;case 22:case 23:return $d(),null;case 24:return null;default:return null}}var bo=!1,Ke=!1,Tw=typeof WeakSet=="function"?WeakSet:Set,I=null;function Gi(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(i){_e(t,e,i)}else n.current=null}function vu(t,e,n){try{n()}catch(i){_e(t,e,i)}}var jf=!1;function Ew(t,e){if(tu=ga,t=T0(),Sd(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var i=n.getSelection&&n.getSelection();if(i&&i.rangeCount!==0){n=i.anchorNode;var s=i.anchorOffset,r=i.focusNode;i=i.focusOffset;try{n.nodeType,r.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,c=0,u=0,d=t,h=null;t:for(;;){for(var f;d!==n||s!==0&&d.nodeType!==3||(a=o+s),d!==r||i!==0&&d.nodeType!==3||(l=o+i),d.nodeType===3&&(o+=d.nodeValue.length),(f=d.firstChild)!==null;)h=d,d=f;for(;;){if(d===t)break t;if(h===n&&++c===s&&(a=o),h===r&&++u===i&&(l=o),(f=d.nextSibling)!==null)break;d=h,h=d.parentNode}d=f}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(nu={focusedElem:t,selectionRange:n},ga=!1,I=e;I!==null;)if(e=I,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,I=t;else for(;I!==null;){e=I;try{var p=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(p!==null){var g=p.memoizedProps,x=p.memoizedState,y=e.stateNode,m=y.getSnapshotBeforeUpdate(e.elementType===e.type?g:Rt(e.type,g),x);y.__reactInternalSnapshotBeforeUpdate=m}break;case 3:var v=e.stateNode.containerInfo;v.nodeType===1?v.textContent="":v.nodeType===9&&v.documentElement&&v.removeChild(v.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(R(163))}}catch(w){_e(e,e.return,w)}if(t=e.sibling,t!==null){t.return=e.return,I=t;break}I=e.return}return p=jf,jf=!1,p}function sr(t,e,n){var i=e.updateQueue;if(i=i!==null?i.lastEffect:null,i!==null){var s=i=i.next;do{if((s.tag&t)===t){var r=s.destroy;s.destroy=void 0,r!==void 0&&vu(e,n,r)}s=s.next}while(s!==i)}}function ll(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var i=n.create;n.destroy=i()}n=n.next}while(n!==e)}}function xu(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function ky(t){var e=t.alternate;e!==null&&(t.alternate=null,ky(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Wt],delete e[Cr],delete e[ru],delete e[dw],delete e[hw])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Py(t){return t.tag===5||t.tag===3||t.tag===4}function Vf(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Py(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function bu(t,e,n){var i=t.tag;if(i===5||i===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=xa));else if(i!==4&&(t=t.child,t!==null))for(bu(t,e,n),t=t.sibling;t!==null;)bu(t,e,n),t=t.sibling}function wu(t,e,n){var i=t.tag;if(i===5||i===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(i!==4&&(t=t.child,t!==null))for(wu(t,e,n),t=t.sibling;t!==null;)wu(t,e,n),t=t.sibling}var ze=null,Dt=!1;function vn(t,e,n){for(n=n.child;n!==null;)Cy(t,e,n),n=n.sibling}function Cy(t,e,n){if($t&&typeof $t.onCommitFiberUnmount=="function")try{$t.onCommitFiberUnmount(el,n)}catch{}switch(n.tag){case 5:Ke||Gi(n,e);case 6:var i=ze,s=Dt;ze=null,vn(t,e,n),ze=i,Dt=s,ze!==null&&(Dt?(t=ze,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):ze.removeChild(n.stateNode));break;case 18:ze!==null&&(Dt?(t=ze,n=n.stateNode,t.nodeType===8?Ql(t.parentNode,n):t.nodeType===1&&Ql(t,n),wr(t)):Ql(ze,n.stateNode));break;case 4:i=ze,s=Dt,ze=n.stateNode.containerInfo,Dt=!0,vn(t,e,n),ze=i,Dt=s;break;case 0:case 11:case 14:case 15:if(!Ke&&(i=n.updateQueue,i!==null&&(i=i.lastEffect,i!==null))){s=i=i.next;do{var r=s,o=r.destroy;r=r.tag,o!==void 0&&(r&2||r&4)&&vu(n,e,o),s=s.next}while(s!==i)}vn(t,e,n);break;case 1:if(!Ke&&(Gi(n,e),i=n.stateNode,typeof i.componentWillUnmount=="function"))try{i.props=n.memoizedProps,i.state=n.memoizedState,i.componentWillUnmount()}catch(a){_e(n,e,a)}vn(t,e,n);break;case 21:vn(t,e,n);break;case 22:n.mode&1?(Ke=(i=Ke)||n.memoizedState!==null,vn(t,e,n),Ke=i):vn(t,e,n);break;default:vn(t,e,n)}}function Ff(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new Tw),e.forEach(function(i){var s=Vw.bind(null,t,i);n.has(i)||(n.add(i),i.then(s,s))})}}function Et(t,e){var n=e.deletions;if(n!==null)for(var i=0;i<n.length;i++){var s=n[i];try{var r=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:ze=a.stateNode,Dt=!1;break e;case 3:ze=a.stateNode.containerInfo,Dt=!0;break e;case 4:ze=a.stateNode.containerInfo,Dt=!0;break e}a=a.return}if(ze===null)throw Error(R(160));Cy(r,o,s),ze=null,Dt=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(c){_e(s,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)My(e,t),e=e.sibling}function My(t,e){var n=t.alternate,i=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Et(e,t),Vt(t),i&4){try{sr(3,t,t.return),ll(3,t)}catch(g){_e(t,t.return,g)}try{sr(5,t,t.return)}catch(g){_e(t,t.return,g)}}break;case 1:Et(e,t),Vt(t),i&512&&n!==null&&Gi(n,n.return);break;case 5:if(Et(e,t),Vt(t),i&512&&n!==null&&Gi(n,n.return),t.flags&32){var s=t.stateNode;try{yr(s,"")}catch(g){_e(t,t.return,g)}}if(i&4&&(s=t.stateNode,s!=null)){var r=t.memoizedProps,o=n!==null?n.memoizedProps:r,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&r.type==="radio"&&r.name!=null&&Gg(s,r),Uc(a,o);var c=Uc(a,r);for(o=0;o<l.length;o+=2){var u=l[o],d=l[o+1];u==="style"?e0(s,d):u==="dangerouslySetInnerHTML"?Zg(s,d):u==="children"?yr(s,d):cd(s,u,d,c)}switch(a){case"input":zc(s,r);break;case"textarea":Qg(s,r);break;case"select":var h=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!r.multiple;var f=r.value;f!=null?ts(s,!!r.multiple,f,!1):h!==!!r.multiple&&(r.defaultValue!=null?ts(s,!!r.multiple,r.defaultValue,!0):ts(s,!!r.multiple,r.multiple?[]:"",!1))}s[Cr]=r}catch(g){_e(t,t.return,g)}}break;case 6:if(Et(e,t),Vt(t),i&4){if(t.stateNode===null)throw Error(R(162));s=t.stateNode,r=t.memoizedProps;try{s.nodeValue=r}catch(g){_e(t,t.return,g)}}break;case 3:if(Et(e,t),Vt(t),i&4&&n!==null&&n.memoizedState.isDehydrated)try{wr(e.containerInfo)}catch(g){_e(t,t.return,g)}break;case 4:Et(e,t),Vt(t);break;case 13:Et(e,t),Vt(t),s=t.child,s.flags&8192&&(r=s.memoizedState!==null,s.stateNode.isHidden=r,!r||s.alternate!==null&&s.alternate.memoizedState!==null||(Hd=Me())),i&4&&Ff(t);break;case 22:if(u=n!==null&&n.memoizedState!==null,t.mode&1?(Ke=(c=Ke)||u,Et(e,t),Ke=c):Et(e,t),Vt(t),i&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!u&&t.mode&1)for(I=t,u=t.child;u!==null;){for(d=I=u;I!==null;){switch(h=I,f=h.child,h.tag){case 0:case 11:case 14:case 15:sr(4,h,h.return);break;case 1:Gi(h,h.return);var p=h.stateNode;if(typeof p.componentWillUnmount=="function"){i=h,n=h.return;try{e=i,p.props=e.memoizedProps,p.state=e.memoizedState,p.componentWillUnmount()}catch(g){_e(i,n,g)}}break;case 5:Gi(h,h.return);break;case 22:if(h.memoizedState!==null){Bf(d);continue}}f!==null?(f.return=h,I=f):Bf(d)}u=u.sibling}e:for(u=null,d=t;;){if(d.tag===5){if(u===null){u=d;try{s=d.stateNode,c?(r=s.style,typeof r.setProperty=="function"?r.setProperty("display","none","important"):r.display="none"):(a=d.stateNode,l=d.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=Jg("display",o))}catch(g){_e(t,t.return,g)}}}else if(d.tag===6){if(u===null)try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(g){_e(t,t.return,g)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;u===d&&(u=null),d=d.return}u===d&&(u=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:Et(e,t),Vt(t),i&4&&Ff(t);break;case 21:break;default:Et(e,t),Vt(t)}}function Vt(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(Py(n)){var i=n;break e}n=n.return}throw Error(R(160))}switch(i.tag){case 5:var s=i.stateNode;i.flags&32&&(yr(s,""),i.flags&=-33);var r=Vf(t);wu(t,r,s);break;case 3:case 4:var o=i.stateNode.containerInfo,a=Vf(t);bu(t,a,o);break;default:throw Error(R(161))}}catch(l){_e(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function Rw(t,e,n){I=t,Ty(t)}function Ty(t,e,n){for(var i=(t.mode&1)!==0;I!==null;){var s=I,r=s.child;if(s.tag===22&&i){var o=s.memoizedState!==null||bo;if(!o){var a=s.alternate,l=a!==null&&a.memoizedState!==null||Ke;a=bo;var c=Ke;if(bo=o,(Ke=l)&&!c)for(I=s;I!==null;)o=I,l=o.child,o.tag===22&&o.memoizedState!==null?Hf(s):l!==null?(l.return=o,I=l):Hf(s);for(;r!==null;)I=r,Ty(r),r=r.sibling;I=s,bo=a,Ke=c}zf(t)}else s.subtreeFlags&8772&&r!==null?(r.return=s,I=r):zf(t)}}function zf(t){for(;I!==null;){var e=I;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Ke||ll(5,e);break;case 1:var i=e.stateNode;if(e.flags&4&&!Ke)if(n===null)i.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:Rt(e.type,n.memoizedProps);i.componentDidUpdate(s,n.memoizedState,i.__reactInternalSnapshotBeforeUpdate)}var r=e.updateQueue;r!==null&&kf(e,r,i);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}kf(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var d=u.dehydrated;d!==null&&wr(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(R(163))}Ke||e.flags&512&&xu(e)}catch(h){_e(e,e.return,h)}}if(e===t){I=null;break}if(n=e.sibling,n!==null){n.return=e.return,I=n;break}I=e.return}}function Bf(t){for(;I!==null;){var e=I;if(e===t){I=null;break}var n=e.sibling;if(n!==null){n.return=e.return,I=n;break}I=e.return}}function Hf(t){for(;I!==null;){var e=I;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{ll(4,e)}catch(l){_e(e,n,l)}break;case 1:var i=e.stateNode;if(typeof i.componentDidMount=="function"){var s=e.return;try{i.componentDidMount()}catch(l){_e(e,s,l)}}var r=e.return;try{xu(e)}catch(l){_e(e,r,l)}break;case 5:var o=e.return;try{xu(e)}catch(l){_e(e,o,l)}}}catch(l){_e(e,e.return,l)}if(e===t){I=null;break}var a=e.sibling;if(a!==null){a.return=e.return,I=a;break}I=e.return}}var Dw=Math.ceil,Ra=gn.ReactCurrentDispatcher,zd=gn.ReactCurrentOwner,Ct=gn.ReactCurrentBatchConfig,ee=0,Fe=null,De=null,Be=0,ht=0,Qi=Qn(0),Oe=0,Ar=null,Ci=0,cl=0,Bd=0,rr=null,st=null,Hd=0,ps=1/0,qt=null,Da=!1,Su=null,jn=null,wo=!1,Cn=null,Aa=0,or=0,_u=null,qo=-1,Zo=0;function et(){return ee&6?Me():qo!==-1?qo:qo=Me()}function Vn(t){return t.mode&1?ee&2&&Be!==0?Be&-Be:pw.transition!==null?(Zo===0&&(Zo=h0()),Zo):(t=ie,t!==0||(t=window.event,t=t===void 0?16:x0(t.type)),t):1}function It(t,e,n,i){if(50<or)throw or=0,_u=null,Error(R(185));Kr(t,n,i),(!(ee&2)||t!==Fe)&&(t===Fe&&(!(ee&2)&&(cl|=n),Oe===4&&kn(t,Be)),ct(t,i),n===1&&ee===0&&!(e.mode&1)&&(ps=Me()+500,rl&&qn()))}function ct(t,e){var n=t.callbackNode;pb(t,e);var i=ma(t,t===Fe?Be:0);if(i===0)n!==null&&Qh(n),t.callbackNode=null,t.callbackPriority=0;else if(e=i&-i,t.callbackPriority!==e){if(n!=null&&Qh(n),e===1)t.tag===0?fw(Wf.bind(null,t)):V0(Wf.bind(null,t)),cw(function(){!(ee&6)&&qn()}),n=null;else{switch(f0(i)){case 1:n=pd;break;case 4:n=u0;break;case 16:n=pa;break;case 536870912:n=d0;break;default:n=pa}n=Ny(n,Ey.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function Ey(t,e){if(qo=-1,Zo=0,ee&6)throw Error(R(327));var n=t.callbackNode;if(os()&&t.callbackNode!==n)return null;var i=ma(t,t===Fe?Be:0);if(i===0)return null;if(i&30||i&t.expiredLanes||e)e=La(t,i);else{e=i;var s=ee;ee|=2;var r=Dy();(Fe!==t||Be!==e)&&(qt=null,ps=Me()+500,vi(t,e));do try{Ow();break}catch(a){Ry(t,a)}while(1);Md(),Ra.current=r,ee=s,De!==null?e=0:(Fe=null,Be=0,e=Oe)}if(e!==0){if(e===2&&(s=Qc(t),s!==0&&(i=s,e=ku(t,s))),e===1)throw n=Ar,vi(t,0),kn(t,i),ct(t,Me()),n;if(e===6)kn(t,i);else{if(s=t.current.alternate,!(i&30)&&!Aw(s)&&(e=La(t,i),e===2&&(r=Qc(t),r!==0&&(i=r,e=ku(t,r))),e===1))throw n=Ar,vi(t,0),kn(t,i),ct(t,Me()),n;switch(t.finishedWork=s,t.finishedLanes=i,e){case 0:case 1:throw Error(R(345));case 2:ai(t,st,qt);break;case 3:if(kn(t,i),(i&130023424)===i&&(e=Hd+500-Me(),10<e)){if(ma(t,0)!==0)break;if(s=t.suspendedLanes,(s&i)!==i){et(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=su(ai.bind(null,t,st,qt),e);break}ai(t,st,qt);break;case 4:if(kn(t,i),(i&4194240)===i)break;for(e=t.eventTimes,s=-1;0<i;){var o=31-Ot(i);r=1<<o,o=e[o],o>s&&(s=o),i&=~r}if(i=s,i=Me()-i,i=(120>i?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*Dw(i/1960))-i,10<i){t.timeoutHandle=su(ai.bind(null,t,st,qt),i);break}ai(t,st,qt);break;case 5:ai(t,st,qt);break;default:throw Error(R(329))}}}return ct(t,Me()),t.callbackNode===n?Ey.bind(null,t):null}function ku(t,e){var n=rr;return t.current.memoizedState.isDehydrated&&(vi(t,e).flags|=256),t=La(t,e),t!==2&&(e=st,st=n,e!==null&&Pu(e)),t}function Pu(t){st===null?st=t:st.push.apply(st,t)}function Aw(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var i=0;i<n.length;i++){var s=n[i],r=s.getSnapshot;s=s.value;try{if(!jt(r(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function kn(t,e){for(e&=~Bd,e&=~cl,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Ot(e),i=1<<n;t[n]=-1,e&=~i}}function Wf(t){if(ee&6)throw Error(R(327));os();var e=ma(t,0);if(!(e&1))return ct(t,Me()),null;var n=La(t,e);if(t.tag!==0&&n===2){var i=Qc(t);i!==0&&(e=i,n=ku(t,i))}if(n===1)throw n=Ar,vi(t,0),kn(t,e),ct(t,Me()),n;if(n===6)throw Error(R(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,ai(t,st,qt),ct(t,Me()),null}function Wd(t,e){var n=ee;ee|=1;try{return t(e)}finally{ee=n,ee===0&&(ps=Me()+500,rl&&qn())}}function Mi(t){Cn!==null&&Cn.tag===0&&!(ee&6)&&os();var e=ee;ee|=1;var n=Ct.transition,i=ie;try{if(Ct.transition=null,ie=1,t)return t()}finally{ie=i,Ct.transition=n,ee=e,!(ee&6)&&qn()}}function $d(){ht=Qi.current,he(Qi)}function vi(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,lw(n)),De!==null)for(n=De.return;n!==null;){var i=n;switch(kd(i),i.tag){case 1:i=i.type.childContextTypes,i!=null&&ba();break;case 3:hs(),he(at),he(Ge),Ld();break;case 5:Ad(i);break;case 4:hs();break;case 13:he(ye);break;case 19:he(ye);break;case 10:Td(i.type._context);break;case 22:case 23:$d()}n=n.return}if(Fe=t,De=t=Fn(t.current,null),Be=ht=e,Oe=0,Ar=null,Bd=cl=Ci=0,st=rr=null,pi!==null){for(e=0;e<pi.length;e++)if(n=pi[e],i=n.interleaved,i!==null){n.interleaved=null;var s=i.next,r=n.pending;if(r!==null){var o=r.next;r.next=s,i.next=o}n.pending=i}pi=null}return t}function Ry(t,e){do{var n=De;try{if(Md(),Xo.current=Ea,Ta){for(var i=xe.memoizedState;i!==null;){var s=i.queue;s!==null&&(s.pending=null),i=i.next}Ta=!1}if(Pi=0,je=Le=xe=null,ir=!1,Er=0,zd.current=null,n===null||n.return===null){Oe=1,Ar=e,De=null;break}e:{var r=t,o=n.return,a=n,l=e;if(e=Be,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=a,d=u.tag;if(!(u.mode&1)&&(d===0||d===11||d===15)){var h=u.alternate;h?(u.updateQueue=h.updateQueue,u.memoizedState=h.memoizedState,u.lanes=h.lanes):(u.updateQueue=null,u.memoizedState=null)}var f=Rf(o);if(f!==null){f.flags&=-257,Df(f,o,a,r,e),f.mode&1&&Ef(r,c,e),e=f,l=c;var p=e.updateQueue;if(p===null){var g=new Set;g.add(l),e.updateQueue=g}else p.add(l);break e}else{if(!(e&1)){Ef(r,c,e),Ud();break e}l=Error(R(426))}}else if(me&&a.mode&1){var x=Rf(o);if(x!==null){!(x.flags&65536)&&(x.flags|=256),Df(x,o,a,r,e),Pd(fs(l,a));break e}}r=l=fs(l,a),Oe!==4&&(Oe=2),rr===null?rr=[r]:rr.push(r),r=o;do{switch(r.tag){case 3:r.flags|=65536,e&=-e,r.lanes|=e;var y=fy(r,l,e);_f(r,y);break e;case 1:a=l;var m=r.type,v=r.stateNode;if(!(r.flags&128)&&(typeof m.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(jn===null||!jn.has(v)))){r.flags|=65536,e&=-e,r.lanes|=e;var w=py(r,a,e);_f(r,w);break e}}r=r.return}while(r!==null)}Ly(n)}catch(S){e=S,De===n&&n!==null&&(De=n=n.return);continue}break}while(1)}function Dy(){var t=Ra.current;return Ra.current=Ea,t===null?Ea:t}function Ud(){(Oe===0||Oe===3||Oe===2)&&(Oe=4),Fe===null||!(Ci&268435455)&&!(cl&268435455)||kn(Fe,Be)}function La(t,e){var n=ee;ee|=2;var i=Dy();(Fe!==t||Be!==e)&&(qt=null,vi(t,e));do try{Lw();break}catch(s){Ry(t,s)}while(1);if(Md(),ee=n,Ra.current=i,De!==null)throw Error(R(261));return Fe=null,Be=0,Oe}function Lw(){for(;De!==null;)Ay(De)}function Ow(){for(;De!==null&&!rb();)Ay(De)}function Ay(t){var e=Iy(t.alternate,t,ht);t.memoizedProps=t.pendingProps,e===null?Ly(t):De=e,zd.current=null}function Ly(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=Mw(n,e),n!==null){n.flags&=32767,De=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Oe=6,De=null;return}}else if(n=Cw(n,e,ht),n!==null){De=n;return}if(e=e.sibling,e!==null){De=e;return}De=e=t}while(e!==null);Oe===0&&(Oe=5)}function ai(t,e,n){var i=ie,s=Ct.transition;try{Ct.transition=null,ie=1,Iw(t,e,n,i)}finally{Ct.transition=s,ie=i}return null}function Iw(t,e,n,i){do os();while(Cn!==null);if(ee&6)throw Error(R(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(R(177));t.callbackNode=null,t.callbackPriority=0;var r=n.lanes|n.childLanes;if(mb(t,r),t===Fe&&(De=Fe=null,Be=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||wo||(wo=!0,Ny(pa,function(){return os(),null})),r=(n.flags&15990)!==0,n.subtreeFlags&15990||r){r=Ct.transition,Ct.transition=null;var o=ie;ie=1;var a=ee;ee|=4,zd.current=null,Ew(t,n),My(n,t),tw(nu),ga=!!tu,nu=tu=null,t.current=n,Rw(n),ob(),ee=a,ie=o,Ct.transition=r}else t.current=n;if(wo&&(wo=!1,Cn=t,Aa=s),r=t.pendingLanes,r===0&&(jn=null),cb(n.stateNode),ct(t,Me()),e!==null)for(i=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],i(s.value,{componentStack:s.stack,digest:s.digest});if(Da)throw Da=!1,t=Su,Su=null,t;return Aa&1&&t.tag!==0&&os(),r=t.pendingLanes,r&1?t===_u?or++:(or=0,_u=t):or=0,qn(),null}function os(){if(Cn!==null){var t=f0(Aa),e=Ct.transition,n=ie;try{if(Ct.transition=null,ie=16>t?16:t,Cn===null)var i=!1;else{if(t=Cn,Cn=null,Aa=0,ee&6)throw Error(R(331));var s=ee;for(ee|=4,I=t.current;I!==null;){var r=I,o=r.child;if(I.flags&16){var a=r.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(I=c;I!==null;){var u=I;switch(u.tag){case 0:case 11:case 15:sr(8,u,r)}var d=u.child;if(d!==null)d.return=u,I=d;else for(;I!==null;){u=I;var h=u.sibling,f=u.return;if(ky(u),u===c){I=null;break}if(h!==null){h.return=f,I=h;break}I=f}}}var p=r.alternate;if(p!==null){var g=p.child;if(g!==null){p.child=null;do{var x=g.sibling;g.sibling=null,g=x}while(g!==null)}}I=r}}if(r.subtreeFlags&2064&&o!==null)o.return=r,I=o;else e:for(;I!==null;){if(r=I,r.flags&2048)switch(r.tag){case 0:case 11:case 15:sr(9,r,r.return)}var y=r.sibling;if(y!==null){y.return=r.return,I=y;break e}I=r.return}}var m=t.current;for(I=m;I!==null;){o=I;var v=o.child;if(o.subtreeFlags&2064&&v!==null)v.return=o,I=v;else e:for(o=m;I!==null;){if(a=I,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:ll(9,a)}}catch(S){_e(a,a.return,S)}if(a===o){I=null;break e}var w=a.sibling;if(w!==null){w.return=a.return,I=w;break e}I=a.return}}if(ee=s,qn(),$t&&typeof $t.onPostCommitFiberRoot=="function")try{$t.onPostCommitFiberRoot(el,t)}catch{}i=!0}return i}finally{ie=n,Ct.transition=e}}return!1}function $f(t,e,n){e=fs(n,e),e=fy(t,e,1),t=Nn(t,e,1),e=et(),t!==null&&(Kr(t,1,e),ct(t,e))}function _e(t,e,n){if(t.tag===3)$f(t,t,n);else for(;e!==null;){if(e.tag===3){$f(e,t,n);break}else if(e.tag===1){var i=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(jn===null||!jn.has(i))){t=fs(n,t),t=py(e,t,1),e=Nn(e,t,1),t=et(),e!==null&&(Kr(e,1,t),ct(e,t));break}}e=e.return}}function Nw(t,e,n){var i=t.pingCache;i!==null&&i.delete(e),e=et(),t.pingedLanes|=t.suspendedLanes&n,Fe===t&&(Be&n)===n&&(Oe===4||Oe===3&&(Be&130023424)===Be&&500>Me()-Hd?vi(t,0):Bd|=n),ct(t,e)}function Oy(t,e){e===0&&(t.mode&1?(e=uo,uo<<=1,!(uo&130023424)&&(uo=4194304)):e=1);var n=et();t=fn(t,e),t!==null&&(Kr(t,e,n),ct(t,n))}function jw(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),Oy(t,n)}function Vw(t,e){var n=0;switch(t.tag){case 13:var i=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:i=t.stateNode;break;default:throw Error(R(314))}i!==null&&i.delete(e),Oy(t,n)}var Iy;Iy=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||at.current)ot=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return ot=!1,Pw(t,e,n);ot=!!(t.flags&131072)}else ot=!1,me&&e.flags&1048576&&F0(e,_a,e.index);switch(e.lanes=0,e.tag){case 2:var i=e.type;Qo(t,e),t=e.pendingProps;var s=cs(e,Ge.current);rs(e,n),s=Id(null,e,i,t,s,n);var r=Nd();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,lt(i)?(r=!0,wa(e)):r=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Rd(e),s.updater=al,e.stateNode=s,s._reactInternals=e,du(e,i,t,n),e=pu(null,e,i,!0,r,n)):(e.tag=0,me&&r&&_d(e),Je(null,e,s,n),e=e.child),e;case 16:i=e.elementType;e:{switch(Qo(t,e),t=e.pendingProps,s=i._init,i=s(i._payload),e.type=i,s=e.tag=zw(i),t=Rt(i,t),s){case 0:e=fu(null,e,i,t,n);break e;case 1:e=Of(null,e,i,t,n);break e;case 11:e=Af(null,e,i,t,n);break e;case 14:e=Lf(null,e,i,Rt(i.type,t),n);break e}throw Error(R(306,i,""))}return e;case 0:return i=e.type,s=e.pendingProps,s=e.elementType===i?s:Rt(i,s),fu(t,e,i,s,n);case 1:return i=e.type,s=e.pendingProps,s=e.elementType===i?s:Rt(i,s),Of(t,e,i,s,n);case 3:e:{if(vy(e),t===null)throw Error(R(387));i=e.pendingProps,r=e.memoizedState,s=r.element,U0(t,e),Ca(e,i,null,n);var o=e.memoizedState;if(i=o.element,r.isDehydrated)if(r={element:i,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=r,e.memoizedState=r,e.flags&256){s=fs(Error(R(423)),e),e=If(t,e,i,n,s);break e}else if(i!==s){s=fs(Error(R(424)),e),e=If(t,e,i,n,s);break e}else for(pt=In(e.stateNode.containerInfo.firstChild),mt=e,me=!0,At=null,n=W0(e,null,i,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(us(),i===s){e=pn(t,e,n);break e}Je(t,e,i,n)}e=e.child}return e;case 5:return Y0(e),t===null&&lu(e),i=e.type,s=e.pendingProps,r=t!==null?t.memoizedProps:null,o=s.children,iu(i,s)?o=null:r!==null&&iu(i,r)&&(e.flags|=32),yy(t,e),Je(t,e,o,n),e.child;case 6:return t===null&&lu(e),null;case 13:return xy(t,e,n);case 4:return Dd(e,e.stateNode.containerInfo),i=e.pendingProps,t===null?e.child=ds(e,null,i,n):Je(t,e,i,n),e.child;case 11:return i=e.type,s=e.pendingProps,s=e.elementType===i?s:Rt(i,s),Af(t,e,i,s,n);case 7:return Je(t,e,e.pendingProps,n),e.child;case 8:return Je(t,e,e.pendingProps.children,n),e.child;case 12:return Je(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(i=e.type._context,s=e.pendingProps,r=e.memoizedProps,o=s.value,ae(ka,i._currentValue),i._currentValue=o,r!==null)if(jt(r.value,o)){if(r.children===s.children&&!at.current){e=pn(t,e,n);break e}}else for(r=e.child,r!==null&&(r.return=e);r!==null;){var a=r.dependencies;if(a!==null){o=r.child;for(var l=a.firstContext;l!==null;){if(l.context===i){if(r.tag===1){l=ln(-1,n&-n),l.tag=2;var c=r.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}r.lanes|=n,l=r.alternate,l!==null&&(l.lanes|=n),cu(r.return,n,e),a.lanes|=n;break}l=l.next}}else if(r.tag===10)o=r.type===e.type?null:r.child;else if(r.tag===18){if(o=r.return,o===null)throw Error(R(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),cu(o,n,e),o=r.sibling}else o=r.child;if(o!==null)o.return=r;else for(o=r;o!==null;){if(o===e){o=null;break}if(r=o.sibling,r!==null){r.return=o.return,o=r;break}o=o.return}r=o}Je(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,i=e.pendingProps.children,rs(e,n),s=Mt(s),i=i(s),e.flags|=1,Je(t,e,i,n),e.child;case 14:return i=e.type,s=Rt(i,e.pendingProps),s=Rt(i.type,s),Lf(t,e,i,s,n);case 15:return my(t,e,e.type,e.pendingProps,n);case 17:return i=e.type,s=e.pendingProps,s=e.elementType===i?s:Rt(i,s),Qo(t,e),e.tag=1,lt(i)?(t=!0,wa(e)):t=!1,rs(e,n),hy(e,i,s),du(e,i,s,n),pu(null,e,i,!0,t,n);case 19:return by(t,e,n);case 22:return gy(t,e,n)}throw Error(R(156,e.tag))};function Ny(t,e){return c0(t,e)}function Fw(t,e,n,i){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Pt(t,e,n,i){return new Fw(t,e,n,i)}function Yd(t){return t=t.prototype,!(!t||!t.isReactComponent)}function zw(t){if(typeof t=="function")return Yd(t)?1:0;if(t!=null){if(t=t.$$typeof,t===dd)return 11;if(t===hd)return 14}return 2}function Fn(t,e){var n=t.alternate;return n===null?(n=Pt(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Jo(t,e,n,i,s,r){var o=2;if(i=t,typeof t=="function")Yd(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case zi:return xi(n.children,s,r,e);case ud:o=8,s|=8;break;case Ic:return t=Pt(12,n,e,s|2),t.elementType=Ic,t.lanes=r,t;case Nc:return t=Pt(13,n,e,s),t.elementType=Nc,t.lanes=r,t;case jc:return t=Pt(19,n,e,s),t.elementType=jc,t.lanes=r,t;case Yg:return ul(n,s,r,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case $g:o=10;break e;case Ug:o=9;break e;case dd:o=11;break e;case hd:o=14;break e;case bn:o=16,i=null;break e}throw Error(R(130,t==null?t:typeof t,""))}return e=Pt(o,n,e,s),e.elementType=t,e.type=i,e.lanes=r,e}function xi(t,e,n,i){return t=Pt(7,t,i,e),t.lanes=n,t}function ul(t,e,n,i){return t=Pt(22,t,i,e),t.elementType=Yg,t.lanes=n,t.stateNode={isHidden:!1},t}function sc(t,e,n){return t=Pt(6,t,null,e),t.lanes=n,t}function rc(t,e,n){return e=Pt(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Bw(t,e,n,i,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Fl(0),this.expirationTimes=Fl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Fl(0),this.identifierPrefix=i,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Kd(t,e,n,i,s,r,o,a,l){return t=new Bw(t,e,n,a,l),e===1?(e=1,r===!0&&(e|=8)):e=0,r=Pt(3,null,null,e),t.current=r,r.stateNode=t,r.memoizedState={element:i,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Rd(r),t}function Hw(t,e,n){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Fi,key:i==null?null:""+i,children:t,containerInfo:e,implementation:n}}function jy(t){if(!t)return $n;t=t._reactInternals;e:{if(Di(t)!==t||t.tag!==1)throw Error(R(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(lt(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(R(171))}if(t.tag===1){var n=t.type;if(lt(n))return j0(t,n,e)}return e}function Vy(t,e,n,i,s,r,o,a,l){return t=Kd(n,i,!0,t,s,r,o,a,l),t.context=jy(null),n=t.current,i=et(),s=Vn(n),r=ln(i,s),r.callback=e??null,Nn(n,r,s),t.current.lanes=s,Kr(t,s,i),ct(t,i),t}function dl(t,e,n,i){var s=e.current,r=et(),o=Vn(s);return n=jy(n),e.context===null?e.context=n:e.pendingContext=n,e=ln(r,o),e.payload={element:t},i=i===void 0?null:i,i!==null&&(e.callback=i),t=Nn(s,e,o),t!==null&&(It(t,s,o,r),Ko(t,s,o)),o}function Oa(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Uf(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Xd(t,e){Uf(t,e),(t=t.alternate)&&Uf(t,e)}function Ww(){return null}var Fy=typeof reportError=="function"?reportError:function(t){console.error(t)};function Gd(t){this._internalRoot=t}hl.prototype.render=Gd.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(R(409));dl(t,e,null,null)};hl.prototype.unmount=Gd.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Mi(function(){dl(null,t,null,null)}),e[hn]=null}};function hl(t){this._internalRoot=t}hl.prototype.unstable_scheduleHydration=function(t){if(t){var e=g0();t={blockedOn:null,target:t,priority:e};for(var n=0;n<_n.length&&e!==0&&e<_n[n].priority;n++);_n.splice(n,0,t),n===0&&v0(t)}};function Qd(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function fl(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Yf(){}function $w(t,e,n,i,s){if(s){if(typeof i=="function"){var r=i;i=function(){var c=Oa(o);r.call(c)}}var o=Vy(e,i,t,0,null,!1,!1,"",Yf);return t._reactRootContainer=o,t[hn]=o.current,kr(t.nodeType===8?t.parentNode:t),Mi(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof i=="function"){var a=i;i=function(){var c=Oa(l);a.call(c)}}var l=Kd(t,0,!1,null,null,!1,!1,"",Yf);return t._reactRootContainer=l,t[hn]=l.current,kr(t.nodeType===8?t.parentNode:t),Mi(function(){dl(e,l,n,i)}),l}function pl(t,e,n,i,s){var r=n._reactRootContainer;if(r){var o=r;if(typeof s=="function"){var a=s;s=function(){var l=Oa(o);a.call(l)}}dl(e,o,t,s)}else o=$w(n,e,t,s,i);return Oa(o)}p0=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Hs(e.pendingLanes);n!==0&&(md(e,n|1),ct(e,Me()),!(ee&6)&&(ps=Me()+500,qn()))}break;case 13:Mi(function(){var i=fn(t,1);if(i!==null){var s=et();It(i,t,1,s)}}),Xd(t,1)}};gd=function(t){if(t.tag===13){var e=fn(t,134217728);if(e!==null){var n=et();It(e,t,134217728,n)}Xd(t,134217728)}};m0=function(t){if(t.tag===13){var e=Vn(t),n=fn(t,e);if(n!==null){var i=et();It(n,t,e,i)}Xd(t,e)}};g0=function(){return ie};y0=function(t,e){var n=ie;try{return ie=t,e()}finally{ie=n}};Kc=function(t,e,n){switch(e){case"input":if(zc(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var i=n[e];if(i!==t&&i.form===t.form){var s=sl(i);if(!s)throw Error(R(90));Xg(i),zc(i,s)}}}break;case"textarea":Qg(t,n);break;case"select":e=n.value,e!=null&&ts(t,!!n.multiple,e,!1)}};i0=Wd;s0=Mi;var Uw={usingClientEntryPoint:!1,Events:[Gr,$i,sl,t0,n0,Wd]},As={findFiberByHostInstance:fi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Yw={bundleType:As.bundleType,version:As.version,rendererPackageName:As.rendererPackageName,rendererConfig:As.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:gn.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=a0(t),t===null?null:t.stateNode},findFiberByHostInstance:As.findFiberByHostInstance||Ww,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var So=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!So.isDisabled&&So.supportsFiber)try{el=So.inject(Yw),$t=So}catch{}}vt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Uw;vt.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Qd(e))throw Error(R(200));return Hw(t,e,null,n)};vt.createRoot=function(t,e){if(!Qd(t))throw Error(R(299));var n=!1,i="",s=Fy;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(i=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=Kd(t,1,!1,null,null,n,!1,i,s),t[hn]=e.current,kr(t.nodeType===8?t.parentNode:t),new Gd(e)};vt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(R(188)):(t=Object.keys(t).join(","),Error(R(268,t)));return t=a0(e),t=t===null?null:t.stateNode,t};vt.flushSync=function(t){return Mi(t)};vt.hydrate=function(t,e,n){if(!fl(e))throw Error(R(200));return pl(null,t,e,!0,n)};vt.hydrateRoot=function(t,e,n){if(!Qd(t))throw Error(R(405));var i=n!=null&&n.hydratedSources||null,s=!1,r="",o=Fy;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(r=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=Vy(e,null,t,1,n??null,s,!1,r,o),t[hn]=e.current,kr(t),i)for(t=0;t<i.length;t++)n=i[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new hl(e)};vt.render=function(t,e,n){if(!fl(e))throw Error(R(200));return pl(null,t,e,!1,n)};vt.unmountComponentAtNode=function(t){if(!fl(t))throw Error(R(40));return t._reactRootContainer?(Mi(function(){pl(null,null,t,!1,function(){t._reactRootContainer=null,t[hn]=null})}),!0):!1};vt.unstable_batchedUpdates=Wd;vt.unstable_renderSubtreeIntoContainer=function(t,e,n,i){if(!fl(n))throw Error(R(200));if(t==null||t._reactInternals===void 0)throw Error(R(38));return pl(t,e,n,!1,i)};vt.version="18.3.1-next-f1338f8080-20240426";function zy(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(zy)}catch(t){console.error(t)}}zy(),zg.exports=vt;var Kw=zg.exports,Kf=Kw;Lc.createRoot=Kf.createRoot,Lc.hydrateRoot=Kf.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Lr(){return Lr=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Lr.apply(this,arguments)}var Mn;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Mn||(Mn={}));const Xf="popstate";function Xw(t){t===void 0&&(t={});function e(i,s){let{pathname:r,search:o,hash:a}=i.location;return Cu("",{pathname:r,search:o,hash:a},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(i,s){return typeof s=="string"?s:Hy(s)}return Qw(e,n,null,t)}function Ne(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function By(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Gw(){return Math.random().toString(36).substr(2,8)}function Gf(t,e){return{usr:t.state,key:t.key,idx:e}}function Cu(t,e,n,i){return n===void 0&&(n=null),Lr({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?_s(e):e,{state:n,key:e&&e.key||i||Gw()})}function Hy(t){let{pathname:e="/",search:n="",hash:i=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),i&&i!=="#"&&(e+=i.charAt(0)==="#"?i:"#"+i),e}function _s(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let i=t.indexOf("?");i>=0&&(e.search=t.substr(i),t=t.substr(0,i)),t&&(e.pathname=t)}return e}function Qw(t,e,n,i){i===void 0&&(i={});let{window:s=document.defaultView,v5Compat:r=!1}=i,o=s.history,a=Mn.Pop,l=null,c=u();c==null&&(c=0,o.replaceState(Lr({},o.state,{idx:c}),""));function u(){return(o.state||{idx:null}).idx}function d(){a=Mn.Pop;let x=u(),y=x==null?null:x-c;c=x,l&&l({action:a,location:g.location,delta:y})}function h(x,y){a=Mn.Push;let m=Cu(g.location,x,y);n&&n(m,x),c=u()+1;let v=Gf(m,c),w=g.createHref(m);try{o.pushState(v,"",w)}catch(S){if(S instanceof DOMException&&S.name==="DataCloneError")throw S;s.location.assign(w)}r&&l&&l({action:a,location:g.location,delta:1})}function f(x,y){a=Mn.Replace;let m=Cu(g.location,x,y);n&&n(m,x),c=u();let v=Gf(m,c),w=g.createHref(m);o.replaceState(v,"",w),r&&l&&l({action:a,location:g.location,delta:0})}function p(x){let y=s.location.origin!=="null"?s.location.origin:s.location.href,m=typeof x=="string"?x:Hy(x);return m=m.replace(/ $/,"%20"),Ne(y,"No window.location.(origin|href) available to create URL for href: "+m),new URL(m,y)}let g={get action(){return a},get location(){return t(s,o)},listen(x){if(l)throw new Error("A history only accepts one active listener");return s.addEventListener(Xf,d),l=x,()=>{s.removeEventListener(Xf,d),l=null}},createHref(x){return e(s,x)},createURL:p,encodeLocation(x){let y=p(x);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:h,replace:f,go(x){return o.go(x)}};return g}var Qf;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Qf||(Qf={}));function qw(t,e,n){return n===void 0&&(n="/"),Zw(t,e,n,!1)}function Zw(t,e,n,i){let s=typeof e=="string"?_s(e):e,r=Uy(s.pathname||"/",n);if(r==null)return null;let o=Wy(t);Jw(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let c=uS(r);a=lS(o[l],c,i)}return a}function Wy(t,e,n,i){e===void 0&&(e=[]),n===void 0&&(n=[]),i===void 0&&(i="");let s=(r,o,a)=>{let l={relativePath:a===void 0?r.path||"":a,caseSensitive:r.caseSensitive===!0,childrenIndex:o,route:r};l.relativePath.startsWith("/")&&(Ne(l.relativePath.startsWith(i),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+i+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(i.length));let c=bi([i,l.relativePath]),u=n.concat(l);r.children&&r.children.length>0&&(Ne(r.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),Wy(r.children,e,u,c)),!(r.path==null&&!r.index)&&e.push({path:c,score:oS(c,r.index),routesMeta:u})};return t.forEach((r,o)=>{var a;if(r.path===""||!((a=r.path)!=null&&a.includes("?")))s(r,o);else for(let l of $y(r.path))s(r,o,l)}),e}function $y(t){let e=t.split("/");if(e.length===0)return[];let[n,...i]=e,s=n.endsWith("?"),r=n.replace(/\?$/,"");if(i.length===0)return s?[r,""]:[r];let o=$y(i.join("/")),a=[];return a.push(...o.map(l=>l===""?r:[r,l].join("/"))),s&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function Jw(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:aS(e.routesMeta.map(i=>i.childrenIndex),n.routesMeta.map(i=>i.childrenIndex)))}const eS=/^:[\w-]+$/,tS=3,nS=2,iS=1,sS=10,rS=-2,qf=t=>t==="*";function oS(t,e){let n=t.split("/"),i=n.length;return n.some(qf)&&(i+=rS),e&&(i+=nS),n.filter(s=>!qf(s)).reduce((s,r)=>s+(eS.test(r)?tS:r===""?iS:sS),i)}function aS(t,e){return t.length===e.length&&t.slice(0,-1).every((i,s)=>i===e[s])?t[t.length-1]-e[e.length-1]:0}function lS(t,e,n){n===void 0&&(n=!1);let{routesMeta:i}=t,s={},r="/",o=[];for(let a=0;a<i.length;++a){let l=i[a],c=a===i.length-1,u=r==="/"?e:e.slice(r.length)||"/",d=Zf({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},u),h=l.route;if(!d&&c&&n&&!i[i.length-1].route.index&&(d=Zf({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},u)),!d)return null;Object.assign(s,d.params),o.push({params:s,pathname:bi([r,d.pathname]),pathnameBase:gS(bi([r,d.pathnameBase])),route:h}),d.pathnameBase!=="/"&&(r=bi([r,d.pathnameBase]))}return o}function Zf(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,i]=cS(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let r=s[0],o=r.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:i.reduce((c,u,d)=>{let{paramName:h,isOptional:f}=u;if(h==="*"){let g=a[d]||"";o=r.slice(0,r.length-g.length).replace(/(.)\/+$/,"$1")}const p=a[d];return f&&!p?c[h]=void 0:c[h]=(p||"").replace(/%2F/g,"/"),c},{}),pathname:r,pathnameBase:o,pattern:t}}function cS(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),By(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let i=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(i.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(i.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),i]}function uS(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return By(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Uy(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,i=t.charAt(n);return i&&i!=="/"?null:t.slice(n)||"/"}function dS(t,e){e===void 0&&(e="/");let{pathname:n,search:i="",hash:s=""}=typeof t=="string"?_s(t):t;return{pathname:n?n.startsWith("/")?n:hS(n,e):e,search:yS(i),hash:vS(s)}}function hS(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function oc(t,e,n,i){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(i)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function fS(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function pS(t,e){let n=fS(t);return e?n.map((i,s)=>s===n.length-1?i.pathname:i.pathnameBase):n.map(i=>i.pathnameBase)}function mS(t,e,n,i){i===void 0&&(i=!1);let s;typeof t=="string"?s=_s(t):(s=Lr({},t),Ne(!s.pathname||!s.pathname.includes("?"),oc("?","pathname","search",s)),Ne(!s.pathname||!s.pathname.includes("#"),oc("#","pathname","hash",s)),Ne(!s.search||!s.search.includes("#"),oc("#","search","hash",s)));let r=t===""||s.pathname==="",o=r?"/":s.pathname,a;if(o==null)a=n;else{let d=e.length-1;if(!i&&o.startsWith("..")){let h=o.split("/");for(;h[0]==="..";)h.shift(),d-=1;s.pathname=h.join("/")}a=d>=0?e[d]:"/"}let l=dS(s,a),c=o&&o!=="/"&&o.endsWith("/"),u=(r||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||u)&&(l.pathname+="/"),l}const bi=t=>t.join("/").replace(/\/\/+/g,"/"),gS=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),yS=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,vS=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function xS(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const Yy=["post","put","patch","delete"];new Set(Yy);const bS=["get",...Yy];new Set(bS);/**
 * React Router v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Or(){return Or=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Or.apply(this,arguments)}const qd=_.createContext(null),wS=_.createContext(null),ml=_.createContext(null),gl=_.createContext(null),ks=_.createContext({outlet:null,matches:[],isDataRoute:!1}),Ky=_.createContext(null);function yl(){return _.useContext(gl)!=null}function Xy(){return yl()||Ne(!1),_.useContext(gl).location}function Gy(t){_.useContext(ml).static||_.useLayoutEffect(t)}function vl(){let{isDataRoute:t}=_.useContext(ks);return t?OS():SS()}function SS(){yl()||Ne(!1);let t=_.useContext(qd),{basename:e,future:n,navigator:i}=_.useContext(ml),{matches:s}=_.useContext(ks),{pathname:r}=Xy(),o=JSON.stringify(pS(s,n.v7_relativeSplatPath)),a=_.useRef(!1);return Gy(()=>{a.current=!0}),_.useCallback(function(c,u){if(u===void 0&&(u={}),!a.current)return;if(typeof c=="number"){i.go(c);return}let d=mS(c,JSON.parse(o),r,u.relative==="path");t==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:bi([e,d.pathname])),(u.replace?i.replace:i.push)(d,u.state,u)},[e,i,o,r,t])}function _S(t,e){return kS(t,e)}function kS(t,e,n,i){yl()||Ne(!1);let{navigator:s,static:r}=_.useContext(ml),{matches:o}=_.useContext(ks),a=o[o.length-1],l=a?a.params:{};a&&a.pathname;let c=a?a.pathnameBase:"/";a&&a.route;let u=Xy(),d;if(e){var h;let y=typeof e=="string"?_s(e):e;c==="/"||(h=y.pathname)!=null&&h.startsWith(c)||Ne(!1),d=y}else d=u;let f=d.pathname||"/",p=f;if(c!=="/"){let y=c.replace(/^\//,"").split("/");p="/"+f.replace(/^\//,"").split("/").slice(y.length).join("/")}let g=!r&&n&&n.matches&&n.matches.length>0?n.matches:qw(t,{pathname:p}),x=ES(g&&g.map(y=>Object.assign({},y,{params:Object.assign({},l,y.params),pathname:bi([c,s.encodeLocation?s.encodeLocation(y.pathname).pathname:y.pathname]),pathnameBase:y.pathnameBase==="/"?c:bi([c,s.encodeLocation?s.encodeLocation(y.pathnameBase).pathname:y.pathnameBase])})),o,n,i);return e&&x?_.createElement(gl.Provider,{value:{location:Or({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:Mn.Pop}},x):x}function PS(){let t=LS(),e=xS(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},r=null;return _.createElement(_.Fragment,null,_.createElement("h2",null,"Unexpected Application Error!"),_.createElement("h3",{style:{fontStyle:"italic"}},e),n?_.createElement("pre",{style:s},n):null,r)}const CS=_.createElement(PS,null);class MS extends _.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?_.createElement(ks.Provider,{value:this.props.routeContext},_.createElement(Ky.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function TS(t){let{routeContext:e,match:n,children:i}=t,s=_.useContext(qd);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),_.createElement(ks.Provider,{value:e},i)}function ES(t,e,n,i){var s;if(e===void 0&&(e=[]),n===void 0&&(n=null),i===void 0&&(i=null),t==null){var r;if(!n)return null;if(n.errors)t=n.matches;else if((r=i)!=null&&r.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,a=(s=n)==null?void 0:s.errors;if(a!=null){let u=o.findIndex(d=>d.route.id&&(a==null?void 0:a[d.route.id])!==void 0);u>=0||Ne(!1),o=o.slice(0,Math.min(o.length,u+1))}let l=!1,c=-1;if(n&&i&&i.v7_partialHydration)for(let u=0;u<o.length;u++){let d=o[u];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(c=u),d.route.id){let{loaderData:h,errors:f}=n,p=d.route.loader&&h[d.route.id]===void 0&&(!f||f[d.route.id]===void 0);if(d.route.lazy||p){l=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((u,d,h)=>{let f,p=!1,g=null,x=null;n&&(f=a&&d.route.id?a[d.route.id]:void 0,g=d.route.errorElement||CS,l&&(c<0&&h===0?(IS("route-fallback",!1),p=!0,x=null):c===h&&(p=!0,x=d.route.hydrateFallbackElement||null)));let y=e.concat(o.slice(0,h+1)),m=()=>{let v;return f?v=g:p?v=x:d.route.Component?v=_.createElement(d.route.Component,null):d.route.element?v=d.route.element:v=u,_.createElement(TS,{match:d,routeContext:{outlet:u,matches:y,isDataRoute:n!=null},children:v})};return n&&(d.route.ErrorBoundary||d.route.errorElement||h===0)?_.createElement(MS,{location:n.location,revalidation:n.revalidation,component:g,error:f,children:m(),routeContext:{outlet:null,matches:y,isDataRoute:!0}}):m()},null)}var Qy=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(Qy||{}),Ia=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Ia||{});function RS(t){let e=_.useContext(qd);return e||Ne(!1),e}function DS(t){let e=_.useContext(wS);return e||Ne(!1),e}function AS(t){let e=_.useContext(ks);return e||Ne(!1),e}function qy(t){let e=AS(),n=e.matches[e.matches.length-1];return n.route.id||Ne(!1),n.route.id}function LS(){var t;let e=_.useContext(Ky),n=DS(Ia.UseRouteError),i=qy(Ia.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[i]}function OS(){let{router:t}=RS(Qy.UseNavigateStable),e=qy(Ia.UseNavigateStable),n=_.useRef(!1);return Gy(()=>{n.current=!0}),_.useCallback(function(s,r){r===void 0&&(r={}),n.current&&(typeof s=="number"?t.navigate(s):t.navigate(s,Or({fromRouteId:e},r)))},[t,e])}const Jf={};function IS(t,e,n){!e&&!Jf[t]&&(Jf[t]=!0)}function NS(t,e){t==null||t.v7_startTransition,(t==null?void 0:t.v7_relativeSplatPath)===void 0&&(!e||e.v7_relativeSplatPath),e&&(e.v7_fetcherPersist,e.v7_normalizeFormMethod,e.v7_partialHydration,e.v7_skipActionErrorRevalidation)}function $s(t){Ne(!1)}function jS(t){let{basename:e="/",children:n=null,location:i,navigationType:s=Mn.Pop,navigator:r,static:o=!1,future:a}=t;yl()&&Ne(!1);let l=e.replace(/^\/*/,"/"),c=_.useMemo(()=>({basename:l,navigator:r,static:o,future:Or({v7_relativeSplatPath:!1},a)}),[l,a,r,o]);typeof i=="string"&&(i=_s(i));let{pathname:u="/",search:d="",hash:h="",state:f=null,key:p="default"}=i,g=_.useMemo(()=>{let x=Uy(u,l);return x==null?null:{location:{pathname:x,search:d,hash:h,state:f,key:p},navigationType:s}},[l,u,d,h,f,p,s]);return g==null?null:_.createElement(ml.Provider,{value:c},_.createElement(gl.Provider,{children:n,value:g}))}function VS(t){let{children:e,location:n}=t;return _S(Mu(e),n)}new Promise(()=>{});function Mu(t,e){e===void 0&&(e=[]);let n=[];return _.Children.forEach(t,(i,s)=>{if(!_.isValidElement(i))return;let r=[...e,s];if(i.type===_.Fragment){n.push.apply(n,Mu(i.props.children,r));return}i.type!==$s&&Ne(!1),!i.props.index||!i.props.children||Ne(!1);let o={id:i.props.id||r.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(o.children=Mu(i.props.children,r)),n.push(o)}),n}/**
 * React Router DOM v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const FS="6";try{window.__reactRouterVersion=FS}catch{}const zS="startTransition",ep=N1[zS];function BS(t){let{basename:e,children:n,future:i,window:s}=t,r=_.useRef();r.current==null&&(r.current=Xw({window:s,v5Compat:!0}));let o=r.current,[a,l]=_.useState({action:o.action,location:o.location}),{v7_startTransition:c}=i||{},u=_.useCallback(d=>{c&&ep?ep(()=>l(d)):l(d)},[l,c]);return _.useLayoutEffect(()=>o.listen(u),[o,u]),_.useEffect(()=>NS(i),[i]),_.createElement(jS,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o,future:i})}var tp;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(tp||(tp={}));var np;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(np||(np={}));const Zy=_.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"}),xl=_.createContext({}),bl=_.createContext(null),wl=typeof document<"u",Zd=wl?_.useLayoutEffect:_.useEffect,Jy=_.createContext({strict:!1}),Jd=t=>t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),HS="framerAppearId",ev="data-"+Jd(HS);function WS(t,e,n,i){const{visualElement:s}=_.useContext(xl),r=_.useContext(Jy),o=_.useContext(bl),a=_.useContext(Zy).reducedMotion,l=_.useRef();i=i||r.renderer,!l.current&&i&&(l.current=i(t,{visualState:e,parent:s,props:n,presenceContext:o,blockInitialAnimation:o?o.initial===!1:!1,reducedMotionConfig:a}));const c=l.current;_.useInsertionEffect(()=>{c&&c.update(n,o)});const u=_.useRef(!!(n[ev]&&!window.HandoffComplete));return Zd(()=>{c&&(c.render(),u.current&&c.animationState&&c.animationState.animateChanges())}),_.useEffect(()=>{c&&(c.updateFeatures(),!u.current&&c.animationState&&c.animationState.animateChanges(),u.current&&(u.current=!1,window.HandoffComplete=!0))}),c}function qi(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function $S(t,e,n){return _.useCallback(i=>{i&&t.mount&&t.mount(i),e&&(i?e.mount(i):e.unmount()),n&&(typeof n=="function"?n(i):qi(n)&&(n.current=i))},[e])}function Ir(t){return typeof t=="string"||Array.isArray(t)}function Sl(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}const eh=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],th=["initial",...eh];function _l(t){return Sl(t.animate)||th.some(e=>Ir(t[e]))}function tv(t){return!!(_l(t)||t.variants)}function US(t,e){if(_l(t)){const{initial:n,animate:i}=t;return{initial:n===!1||Ir(n)?n:void 0,animate:Ir(i)?i:void 0}}return t.inherit!==!1?e:{}}function YS(t){const{initial:e,animate:n}=US(t,_.useContext(xl));return _.useMemo(()=>({initial:e,animate:n}),[ip(e),ip(n)])}function ip(t){return Array.isArray(t)?t.join(" "):t}const sp={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Nr={};for(const t in sp)Nr[t]={isEnabled:e=>sp[t].some(n=>!!e[n])};function KS(t){for(const e in t)Nr[e]={...Nr[e],...t[e]}}const nh=_.createContext({}),nv=_.createContext({}),XS=Symbol.for("motionComponentSymbol");function GS({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:i,Component:s}){t&&KS(t);function r(a,l){let c;const u={..._.useContext(Zy),...a,layoutId:QS(a)},{isStatic:d}=u,h=YS(a),f=i(a,d);if(!d&&wl){h.visualElement=WS(s,f,u,e);const p=_.useContext(nv),g=_.useContext(Jy).strict;h.visualElement&&(c=h.visualElement.loadFeatures(u,g,t,p))}return _.createElement(xl.Provider,{value:h},c&&h.visualElement?_.createElement(c,{visualElement:h.visualElement,...u}):null,n(s,a,$S(f,h.visualElement,l),f,d,h.visualElement))}const o=_.forwardRef(r);return o[XS]=s,o}function QS({layoutId:t}){const e=_.useContext(nh).id;return e&&t!==void 0?e+"-"+t:t}function qS(t){function e(i,s={}){return GS(t(i,s))}if(typeof Proxy>"u")return e;const n=new Map;return new Proxy(e,{get:(i,s)=>(n.has(s)||n.set(s,e(s)),n.get(s))})}const ZS=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function ih(t){return typeof t!="string"||t.includes("-")?!1:!!(ZS.indexOf(t)>-1||/[A-Z]/.test(t))}const Na={};function JS(t){Object.assign(Na,t)}const qr=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Ai=new Set(qr);function iv(t,{layout:e,layoutId:n}){return Ai.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!Na[t]||t==="opacity")}const ut=t=>!!(t&&t.getVelocity),e_={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},t_=qr.length;function n_(t,{enableHardwareAcceleration:e=!0,allowTransformNone:n=!0},i,s){let r="";for(let o=0;o<t_;o++){const a=qr[o];if(t[a]!==void 0){const l=e_[a]||a;r+=`${l}(${t[a]}) `}}return e&&!t.z&&(r+="translateZ(0)"),r=r.trim(),s?r=s(t,i?"":r):n&&i&&(r="none"),r}const sv=t=>e=>typeof e=="string"&&e.startsWith(t),rv=sv("--"),Tu=sv("var(--"),i_=/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,s_=(t,e)=>e&&typeof t=="number"?e.transform(t):t,Un=(t,e,n)=>Math.min(Math.max(n,t),e),Li={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},ar={...Li,transform:t=>Un(0,1,t)},_o={...Li,default:1},lr=t=>Math.round(t*1e5)/1e5,kl=/(-)?([\d]*\.?[\d])+/g,ov=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,r_=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function Zr(t){return typeof t=="string"}const Jr=t=>({test:e=>Zr(e)&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),xn=Jr("deg"),Yt=Jr("%"),$=Jr("px"),o_=Jr("vh"),a_=Jr("vw"),rp={...Yt,parse:t=>Yt.parse(t)/100,transform:t=>Yt.transform(t*100)},op={...Li,transform:Math.round},av={borderWidth:$,borderTopWidth:$,borderRightWidth:$,borderBottomWidth:$,borderLeftWidth:$,borderRadius:$,radius:$,borderTopLeftRadius:$,borderTopRightRadius:$,borderBottomRightRadius:$,borderBottomLeftRadius:$,width:$,maxWidth:$,height:$,maxHeight:$,size:$,top:$,right:$,bottom:$,left:$,padding:$,paddingTop:$,paddingRight:$,paddingBottom:$,paddingLeft:$,margin:$,marginTop:$,marginRight:$,marginBottom:$,marginLeft:$,rotate:xn,rotateX:xn,rotateY:xn,rotateZ:xn,scale:_o,scaleX:_o,scaleY:_o,scaleZ:_o,skew:xn,skewX:xn,skewY:xn,distance:$,translateX:$,translateY:$,translateZ:$,x:$,y:$,z:$,perspective:$,transformPerspective:$,opacity:ar,originX:rp,originY:rp,originZ:$,zIndex:op,fillOpacity:ar,strokeOpacity:ar,numOctaves:op};function sh(t,e,n,i){const{style:s,vars:r,transform:o,transformOrigin:a}=t;let l=!1,c=!1,u=!0;for(const d in e){const h=e[d];if(rv(d)){r[d]=h;continue}const f=av[d],p=s_(h,f);if(Ai.has(d)){if(l=!0,o[d]=p,!u)continue;h!==(f.default||0)&&(u=!1)}else d.startsWith("origin")?(c=!0,a[d]=p):s[d]=p}if(e.transform||(l||i?s.transform=n_(t.transform,n,u,i):s.transform&&(s.transform="none")),c){const{originX:d="50%",originY:h="50%",originZ:f=0}=a;s.transformOrigin=`${d} ${h} ${f}`}}const rh=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function lv(t,e,n){for(const i in e)!ut(e[i])&&!iv(i,n)&&(t[i]=e[i])}function l_({transformTemplate:t},e,n){return _.useMemo(()=>{const i=rh();return sh(i,e,{enableHardwareAcceleration:!n},t),Object.assign({},i.vars,i.style)},[e])}function c_(t,e,n){const i=t.style||{},s={};return lv(s,i,t),Object.assign(s,l_(t,e,n)),t.transformValues?t.transformValues(s):s}function u_(t,e,n){const i={},s=c_(t,e,n);return t.drag&&t.dragListener!==!1&&(i.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(i.tabIndex=0),i.style=s,i}const d_=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function ja(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||d_.has(t)}let cv=t=>!ja(t);function h_(t){t&&(cv=e=>e.startsWith("on")?!ja(e):t(e))}try{h_(require("@emotion/is-prop-valid").default)}catch{}function f_(t,e,n){const i={};for(const s in t)s==="values"&&typeof t.values=="object"||(cv(s)||n===!0&&ja(s)||!e&&!ja(s)||t.draggable&&s.startsWith("onDrag"))&&(i[s]=t[s]);return i}function ap(t,e,n){return typeof t=="string"?t:$.transform(e+n*t)}function p_(t,e,n){const i=ap(e,t.x,t.width),s=ap(n,t.y,t.height);return`${i} ${s}`}const m_={offset:"stroke-dashoffset",array:"stroke-dasharray"},g_={offset:"strokeDashoffset",array:"strokeDasharray"};function y_(t,e,n=1,i=0,s=!0){t.pathLength=1;const r=s?m_:g_;t[r.offset]=$.transform(-i);const o=$.transform(e),a=$.transform(n);t[r.array]=`${o} ${a}`}function oh(t,{attrX:e,attrY:n,attrScale:i,originX:s,originY:r,pathLength:o,pathSpacing:a=1,pathOffset:l=0,...c},u,d,h){if(sh(t,c,u,h),d){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:f,style:p,dimensions:g}=t;f.transform&&(g&&(p.transform=f.transform),delete f.transform),g&&(s!==void 0||r!==void 0||p.transform)&&(p.transformOrigin=p_(g,s!==void 0?s:.5,r!==void 0?r:.5)),e!==void 0&&(f.x=e),n!==void 0&&(f.y=n),i!==void 0&&(f.scale=i),o!==void 0&&y_(f,o,a,l,!1)}const uv=()=>({...rh(),attrs:{}}),ah=t=>typeof t=="string"&&t.toLowerCase()==="svg";function v_(t,e,n,i){const s=_.useMemo(()=>{const r=uv();return oh(r,e,{enableHardwareAcceleration:!1},ah(i),t.transformTemplate),{...r.attrs,style:{...r.style}}},[e]);if(t.style){const r={};lv(r,t.style,t),s.style={...r,...s.style}}return s}function x_(t=!1){return(n,i,s,{latestValues:r},o)=>{const l=(ih(n)?v_:u_)(i,r,o,n),u={...f_(i,typeof n=="string",t),...l,ref:s},{children:d}=i,h=_.useMemo(()=>ut(d)?d.get():d,[d]);return _.createElement(n,{...u,children:h})}}function dv(t,{style:e,vars:n},i,s){Object.assign(t.style,e,s&&s.getProjectionStyles(i));for(const r in n)t.style.setProperty(r,n[r])}const hv=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function fv(t,e,n,i){dv(t,e,void 0,i);for(const s in e.attrs)t.setAttribute(hv.has(s)?s:Jd(s),e.attrs[s])}function lh(t,e){const{style:n}=t,i={};for(const s in n)(ut(n[s])||e.style&&ut(e.style[s])||iv(s,t))&&(i[s]=n[s]);return i}function pv(t,e){const n=lh(t,e);for(const i in t)if(ut(t[i])||ut(e[i])){const s=qr.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;n[s]=t[i]}return n}function ch(t,e,n,i={},s={}){return typeof e=="function"&&(e=e(n!==void 0?n:t.custom,i,s)),typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"&&(e=e(n!==void 0?n:t.custom,i,s)),e}function mv(t){const e=_.useRef(null);return e.current===null&&(e.current=t()),e.current}const Va=t=>Array.isArray(t),b_=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),w_=t=>Va(t)?t[t.length-1]||0:t;function ea(t){const e=ut(t)?t.get():t;return b_(e)?e.toValue():e}function S_({scrapeMotionValuesFromProps:t,createRenderState:e,onMount:n},i,s,r){const o={latestValues:__(i,s,r,t),renderState:e()};return n&&(o.mount=a=>n(i,a,o)),o}const gv=t=>(e,n)=>{const i=_.useContext(xl),s=_.useContext(bl),r=()=>S_(t,e,i,s);return n?r():mv(r)};function __(t,e,n,i){const s={},r=i(t,{});for(const h in r)s[h]=ea(r[h]);let{initial:o,animate:a}=t;const l=_l(t),c=tv(t);e&&c&&!l&&t.inherit!==!1&&(o===void 0&&(o=e.initial),a===void 0&&(a=e.animate));let u=n?n.initial===!1:!1;u=u||o===!1;const d=u?a:o;return d&&typeof d!="boolean"&&!Sl(d)&&(Array.isArray(d)?d:[d]).forEach(f=>{const p=ch(t,f);if(!p)return;const{transitionEnd:g,transition:x,...y}=p;for(const m in y){let v=y[m];if(Array.isArray(v)){const w=u?v.length-1:0;v=v[w]}v!==null&&(s[m]=v)}for(const m in g)s[m]=g[m]}),s}const ke=t=>t;class lp{constructor(){this.order=[],this.scheduled=new Set}add(e){if(!this.scheduled.has(e))return this.scheduled.add(e),this.order.push(e),!0}remove(e){const n=this.order.indexOf(e);n!==-1&&(this.order.splice(n,1),this.scheduled.delete(e))}clear(){this.order.length=0,this.scheduled.clear()}}function k_(t){let e=new lp,n=new lp,i=0,s=!1,r=!1;const o=new WeakSet,a={schedule:(l,c=!1,u=!1)=>{const d=u&&s,h=d?e:n;return c&&o.add(l),h.add(l)&&d&&s&&(i=e.order.length),l},cancel:l=>{n.remove(l),o.delete(l)},process:l=>{if(s){r=!0;return}if(s=!0,[e,n]=[n,e],n.clear(),i=e.order.length,i)for(let c=0;c<i;c++){const u=e.order[c];u(l),o.has(u)&&(a.schedule(u),t())}s=!1,r&&(r=!1,a.process(l))}};return a}const ko=["prepare","read","update","preRender","render","postRender"],P_=40;function C_(t,e){let n=!1,i=!0;const s={delta:0,timestamp:0,isProcessing:!1},r=ko.reduce((d,h)=>(d[h]=k_(()=>n=!0),d),{}),o=d=>r[d].process(s),a=()=>{const d=performance.now();n=!1,s.delta=i?1e3/60:Math.max(Math.min(d-s.timestamp,P_),1),s.timestamp=d,s.isProcessing=!0,ko.forEach(o),s.isProcessing=!1,n&&e&&(i=!1,t(a))},l=()=>{n=!0,i=!0,s.isProcessing||t(a)};return{schedule:ko.reduce((d,h)=>{const f=r[h];return d[h]=(p,g=!1,x=!1)=>(n||l(),f.schedule(p,g,x)),d},{}),cancel:d=>ko.forEach(h=>r[h].cancel(d)),state:s,steps:r}}const{schedule:le,cancel:mn,state:Ue,steps:ac}=C_(typeof requestAnimationFrame<"u"?requestAnimationFrame:ke,!0),M_={useVisualState:gv({scrapeMotionValuesFromProps:pv,createRenderState:uv,onMount:(t,e,{renderState:n,latestValues:i})=>{le.read(()=>{try{n.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{n.dimensions={x:0,y:0,width:0,height:0}}}),le.render(()=>{oh(n,i,{enableHardwareAcceleration:!1},ah(e.tagName),t.transformTemplate),fv(e,n)})}})},T_={useVisualState:gv({scrapeMotionValuesFromProps:lh,createRenderState:rh})};function E_(t,{forwardMotionProps:e=!1},n,i){return{...ih(t)?M_:T_,preloadedFeatures:n,useRender:x_(e),createVisualElement:i,Component:t}}function sn(t,e,n,i={passive:!0}){return t.addEventListener(e,n,i),()=>t.removeEventListener(e,n)}const yv=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1;function Pl(t,e="page"){return{point:{x:t[e+"X"],y:t[e+"Y"]}}}const R_=t=>e=>yv(e)&&t(e,Pl(e));function cn(t,e,n,i){return sn(t,e,R_(n),i)}const D_=(t,e)=>n=>e(t(n)),zn=(...t)=>t.reduce(D_);function vv(t){let e=null;return()=>{const n=()=>{e=null};return e===null?(e=t,n):!1}}const cp=vv("dragHorizontal"),up=vv("dragVertical");function xv(t){let e=!1;if(t==="y")e=up();else if(t==="x")e=cp();else{const n=cp(),i=up();n&&i?e=()=>{n(),i()}:(n&&n(),i&&i())}return e}function bv(){const t=xv(!0);return t?(t(),!1):!0}class Zn{constructor(e){this.isMounted=!1,this.node=e}update(){}}function dp(t,e){const n="pointer"+(e?"enter":"leave"),i="onHover"+(e?"Start":"End"),s=(r,o)=>{if(r.pointerType==="touch"||bv())return;const a=t.getProps();t.animationState&&a.whileHover&&t.animationState.setActive("whileHover",e),a[i]&&le.update(()=>a[i](r,o))};return cn(t.current,n,s,{passive:!t.getProps()[i]})}class A_ extends Zn{mount(){this.unmount=zn(dp(this.node,!0),dp(this.node,!1))}unmount(){}}class L_ extends Zn{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=zn(sn(this.node.current,"focus",()=>this.onFocus()),sn(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const wv=(t,e)=>e?t===e?!0:wv(t,e.parentElement):!1;function lc(t,e){if(!e)return;const n=new PointerEvent("pointer"+t);e(n,Pl(n))}class O_ extends Zn{constructor(){super(...arguments),this.removeStartListeners=ke,this.removeEndListeners=ke,this.removeAccessibleListeners=ke,this.startPointerPress=(e,n)=>{if(this.isPressing)return;this.removeEndListeners();const i=this.node.getProps(),r=cn(window,"pointerup",(a,l)=>{if(!this.checkPressEnd())return;const{onTap:c,onTapCancel:u,globalTapTarget:d}=this.node.getProps();le.update(()=>{!d&&!wv(this.node.current,a.target)?u&&u(a,l):c&&c(a,l)})},{passive:!(i.onTap||i.onPointerUp)}),o=cn(window,"pointercancel",(a,l)=>this.cancelPress(a,l),{passive:!(i.onTapCancel||i.onPointerCancel)});this.removeEndListeners=zn(r,o),this.startPress(e,n)},this.startAccessiblePress=()=>{const e=r=>{if(r.key!=="Enter"||this.isPressing)return;const o=a=>{a.key!=="Enter"||!this.checkPressEnd()||lc("up",(l,c)=>{const{onTap:u}=this.node.getProps();u&&le.update(()=>u(l,c))})};this.removeEndListeners(),this.removeEndListeners=sn(this.node.current,"keyup",o),lc("down",(a,l)=>{this.startPress(a,l)})},n=sn(this.node.current,"keydown",e),i=()=>{this.isPressing&&lc("cancel",(r,o)=>this.cancelPress(r,o))},s=sn(this.node.current,"blur",i);this.removeAccessibleListeners=zn(n,s)}}startPress(e,n){this.isPressing=!0;const{onTapStart:i,whileTap:s}=this.node.getProps();s&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),i&&le.update(()=>i(e,n))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!bv()}cancelPress(e,n){if(!this.checkPressEnd())return;const{onTapCancel:i}=this.node.getProps();i&&le.update(()=>i(e,n))}mount(){const e=this.node.getProps(),n=cn(e.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(e.onTapStart||e.onPointerStart)}),i=sn(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=zn(n,i)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const Eu=new WeakMap,cc=new WeakMap,I_=t=>{const e=Eu.get(t.target);e&&e(t)},N_=t=>{t.forEach(I_)};function j_({root:t,...e}){const n=t||document;cc.has(n)||cc.set(n,{});const i=cc.get(n),s=JSON.stringify(e);return i[s]||(i[s]=new IntersectionObserver(N_,{root:t,...e})),i[s]}function V_(t,e,n){const i=j_(e);return Eu.set(t,n),i.observe(t),()=>{Eu.delete(t),i.unobserve(t)}}const F_={some:0,all:1};class z_ extends Zn{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:i,amount:s="some",once:r}=e,o={root:n?n.current:void 0,rootMargin:i,threshold:typeof s=="number"?s:F_[s]},a=l=>{const{isIntersecting:c}=l;if(this.isInView===c||(this.isInView=c,r&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:u,onViewportLeave:d}=this.node.getProps(),h=c?u:d;h&&h(l)};return V_(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(B_(e,n))&&this.startObserver()}unmount(){}}function B_({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const H_={inView:{Feature:z_},tap:{Feature:O_},focus:{Feature:L_},hover:{Feature:A_}};function Sv(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let i=0;i<n;i++)if(e[i]!==t[i])return!1;return!0}function W_(t){const e={};return t.values.forEach((n,i)=>e[i]=n.get()),e}function $_(t){const e={};return t.values.forEach((n,i)=>e[i]=n.getVelocity()),e}function Cl(t,e,n){const i=t.getProps();return ch(i,e,n!==void 0?n:i.custom,W_(t),$_(t))}let U_=ke,uh=ke;const Bn=t=>t*1e3,un=t=>t/1e3,Y_={current:!1},_v=t=>Array.isArray(t)&&typeof t[0]=="number";function kv(t){return!!(!t||typeof t=="string"&&Pv[t]||_v(t)||Array.isArray(t)&&t.every(kv))}const Us=([t,e,n,i])=>`cubic-bezier(${t}, ${e}, ${n}, ${i})`,Pv={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Us([0,.65,.55,1]),circOut:Us([.55,0,1,.45]),backIn:Us([.31,.01,.66,-.59]),backOut:Us([.33,1.53,.69,.99])};function Cv(t){if(t)return _v(t)?Us(t):Array.isArray(t)?t.map(Cv):Pv[t]}function K_(t,e,n,{delay:i=0,duration:s,repeat:r=0,repeatType:o="loop",ease:a,times:l}={}){const c={[e]:n};l&&(c.offset=l);const u=Cv(a);return Array.isArray(u)&&(c.easing=u),t.animate(c,{delay:i,duration:s,easing:Array.isArray(u)?"linear":u,fill:"both",iterations:r+1,direction:o==="reverse"?"alternate":"normal"})}function X_(t,{repeat:e,repeatType:n="loop"}){const i=e&&n!=="loop"&&e%2===1?0:t.length-1;return t[i]}const Mv=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,G_=1e-7,Q_=12;function q_(t,e,n,i,s){let r,o,a=0;do o=e+(n-e)/2,r=Mv(o,i,s)-t,r>0?n=o:e=o;while(Math.abs(r)>G_&&++a<Q_);return o}function eo(t,e,n,i){if(t===e&&n===i)return ke;const s=r=>q_(r,0,1,t,n);return r=>r===0||r===1?r:Mv(s(r),e,i)}const Z_=eo(.42,0,1,1),J_=eo(0,0,.58,1),Tv=eo(.42,0,.58,1),ek=t=>Array.isArray(t)&&typeof t[0]!="number",Ev=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,Rv=t=>e=>1-t(1-e),dh=t=>1-Math.sin(Math.acos(t)),Dv=Rv(dh),tk=Ev(dh),Av=eo(.33,1.53,.69,.99),hh=Rv(Av),nk=Ev(hh),ik=t=>(t*=2)<1?.5*hh(t):.5*(2-Math.pow(2,-10*(t-1))),sk={linear:ke,easeIn:Z_,easeInOut:Tv,easeOut:J_,circIn:dh,circInOut:tk,circOut:Dv,backIn:hh,backInOut:nk,backOut:Av,anticipate:ik},hp=t=>{if(Array.isArray(t)){uh(t.length===4);const[e,n,i,s]=t;return eo(e,n,i,s)}else if(typeof t=="string")return sk[t];return t},fh=(t,e)=>n=>!!(Zr(n)&&r_.test(n)&&n.startsWith(t)||e&&Object.prototype.hasOwnProperty.call(n,e)),Lv=(t,e,n)=>i=>{if(!Zr(i))return i;const[s,r,o,a]=i.match(kl);return{[t]:parseFloat(s),[e]:parseFloat(r),[n]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},rk=t=>Un(0,255,t),uc={...Li,transform:t=>Math.round(rk(t))},gi={test:fh("rgb","red"),parse:Lv("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:i=1})=>"rgba("+uc.transform(t)+", "+uc.transform(e)+", "+uc.transform(n)+", "+lr(ar.transform(i))+")"};function ok(t){let e="",n="",i="",s="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),i=t.substring(5,7),s=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),i=t.substring(3,4),s=t.substring(4,5),e+=e,n+=n,i+=i,s+=s),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(i,16),alpha:s?parseInt(s,16)/255:1}}const Ru={test:fh("#"),parse:ok,transform:gi.transform},Zi={test:fh("hsl","hue"),parse:Lv("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:i=1})=>"hsla("+Math.round(t)+", "+Yt.transform(lr(e))+", "+Yt.transform(lr(n))+", "+lr(ar.transform(i))+")"},Ze={test:t=>gi.test(t)||Ru.test(t)||Zi.test(t),parse:t=>gi.test(t)?gi.parse(t):Zi.test(t)?Zi.parse(t):Ru.parse(t),transform:t=>Zr(t)?t:t.hasOwnProperty("red")?gi.transform(t):Zi.transform(t)},ve=(t,e,n)=>-n*t+n*e+t;function dc(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function ak({hue:t,saturation:e,lightness:n,alpha:i}){t/=360,e/=100,n/=100;let s=0,r=0,o=0;if(!e)s=r=o=n;else{const a=n<.5?n*(1+e):n+e-n*e,l=2*n-a;s=dc(l,a,t+1/3),r=dc(l,a,t),o=dc(l,a,t-1/3)}return{red:Math.round(s*255),green:Math.round(r*255),blue:Math.round(o*255),alpha:i}}const hc=(t,e,n)=>{const i=t*t;return Math.sqrt(Math.max(0,n*(e*e-i)+i))},lk=[Ru,gi,Zi],ck=t=>lk.find(e=>e.test(t));function fp(t){const e=ck(t);let n=e.parse(t);return e===Zi&&(n=ak(n)),n}const Ov=(t,e)=>{const n=fp(t),i=fp(e),s={...n};return r=>(s.red=hc(n.red,i.red,r),s.green=hc(n.green,i.green,r),s.blue=hc(n.blue,i.blue,r),s.alpha=ve(n.alpha,i.alpha,r),gi.transform(s))};function uk(t){var e,n;return isNaN(t)&&Zr(t)&&(((e=t.match(kl))===null||e===void 0?void 0:e.length)||0)+(((n=t.match(ov))===null||n===void 0?void 0:n.length)||0)>0}const Iv={regex:i_,countKey:"Vars",token:"${v}",parse:ke},Nv={regex:ov,countKey:"Colors",token:"${c}",parse:Ze.parse},jv={regex:kl,countKey:"Numbers",token:"${n}",parse:Li.parse};function fc(t,{regex:e,countKey:n,token:i,parse:s}){const r=t.tokenised.match(e);r&&(t["num"+n]=r.length,t.tokenised=t.tokenised.replace(e,i),t.values.push(...r.map(s)))}function Fa(t){const e=t.toString(),n={value:e,tokenised:e,values:[],numVars:0,numColors:0,numNumbers:0};return n.value.includes("var(--")&&fc(n,Iv),fc(n,Nv),fc(n,jv),n}function Vv(t){return Fa(t).values}function Fv(t){const{values:e,numColors:n,numVars:i,tokenised:s}=Fa(t),r=e.length;return o=>{let a=s;for(let l=0;l<r;l++)l<i?a=a.replace(Iv.token,o[l]):l<i+n?a=a.replace(Nv.token,Ze.transform(o[l])):a=a.replace(jv.token,lr(o[l]));return a}}const dk=t=>typeof t=="number"?0:t;function hk(t){const e=Vv(t);return Fv(t)(e.map(dk))}const Yn={test:uk,parse:Vv,createTransformer:Fv,getAnimatableNone:hk},zv=(t,e)=>n=>`${n>0?e:t}`;function Bv(t,e){return typeof t=="number"?n=>ve(t,e,n):Ze.test(t)?Ov(t,e):t.startsWith("var(")?zv(t,e):Wv(t,e)}const Hv=(t,e)=>{const n=[...t],i=n.length,s=t.map((r,o)=>Bv(r,e[o]));return r=>{for(let o=0;o<i;o++)n[o]=s[o](r);return n}},fk=(t,e)=>{const n={...t,...e},i={};for(const s in n)t[s]!==void 0&&e[s]!==void 0&&(i[s]=Bv(t[s],e[s]));return s=>{for(const r in i)n[r]=i[r](s);return n}},Wv=(t,e)=>{const n=Yn.createTransformer(e),i=Fa(t),s=Fa(e);return i.numVars===s.numVars&&i.numColors===s.numColors&&i.numNumbers>=s.numNumbers?zn(Hv(i.values,s.values),n):zv(t,e)},jr=(t,e,n)=>{const i=e-t;return i===0?1:(n-t)/i},pp=(t,e)=>n=>ve(t,e,n);function pk(t){return typeof t=="number"?pp:typeof t=="string"?Ze.test(t)?Ov:Wv:Array.isArray(t)?Hv:typeof t=="object"?fk:pp}function mk(t,e,n){const i=[],s=n||pk(t[0]),r=t.length-1;for(let o=0;o<r;o++){let a=s(t[o],t[o+1]);if(e){const l=Array.isArray(e)?e[o]||ke:e;a=zn(l,a)}i.push(a)}return i}function $v(t,e,{clamp:n=!0,ease:i,mixer:s}={}){const r=t.length;if(uh(r===e.length),r===1)return()=>e[0];t[0]>t[r-1]&&(t=[...t].reverse(),e=[...e].reverse());const o=mk(e,i,s),a=o.length,l=c=>{let u=0;if(a>1)for(;u<t.length-2&&!(c<t[u+1]);u++);const d=jr(t[u],t[u+1],c);return o[u](d)};return n?c=>l(Un(t[0],t[r-1],c)):l}function gk(t,e){const n=t[t.length-1];for(let i=1;i<=e;i++){const s=jr(0,e,i);t.push(ve(n,1,s))}}function yk(t){const e=[0];return gk(e,t.length-1),e}function vk(t,e){return t.map(n=>n*e)}function xk(t,e){return t.map(()=>e||Tv).splice(0,t.length-1)}function za({duration:t=300,keyframes:e,times:n,ease:i="easeInOut"}){const s=ek(i)?i.map(hp):hp(i),r={done:!1,value:e[0]},o=vk(n&&n.length===e.length?n:yk(e),t),a=$v(o,e,{ease:Array.isArray(s)?s:xk(e,s)});return{calculatedDuration:t,next:l=>(r.value=a(l),r.done=l>=t,r)}}function Uv(t,e){return e?t*(1e3/e):0}const bk=5;function Yv(t,e,n){const i=Math.max(e-bk,0);return Uv(n-t(i),e-i)}const pc=.001,wk=.01,mp=10,Sk=.05,_k=1;function kk({duration:t=800,bounce:e=.25,velocity:n=0,mass:i=1}){let s,r;U_(t<=Bn(mp));let o=1-e;o=Un(Sk,_k,o),t=Un(wk,mp,un(t)),o<1?(s=c=>{const u=c*o,d=u*t,h=u-n,f=Du(c,o),p=Math.exp(-d);return pc-h/f*p},r=c=>{const d=c*o*t,h=d*n+n,f=Math.pow(o,2)*Math.pow(c,2)*t,p=Math.exp(-d),g=Du(Math.pow(c,2),o);return(-s(c)+pc>0?-1:1)*((h-f)*p)/g}):(s=c=>{const u=Math.exp(-c*t),d=(c-n)*t+1;return-pc+u*d},r=c=>{const u=Math.exp(-c*t),d=(n-c)*(t*t);return u*d});const a=5/t,l=Ck(s,r,a);if(t=Bn(t),isNaN(l))return{stiffness:100,damping:10,duration:t};{const c=Math.pow(l,2)*i;return{stiffness:c,damping:o*2*Math.sqrt(i*c),duration:t}}}const Pk=12;function Ck(t,e,n){let i=n;for(let s=1;s<Pk;s++)i=i-t(i)/e(i);return i}function Du(t,e){return t*Math.sqrt(1-e*e)}const Mk=["duration","bounce"],Tk=["stiffness","damping","mass"];function gp(t,e){return e.some(n=>t[n]!==void 0)}function Ek(t){let e={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...t};if(!gp(t,Tk)&&gp(t,Mk)){const n=kk(t);e={...e,...n,mass:1},e.isResolvedFromDuration=!0}return e}function Kv({keyframes:t,restDelta:e,restSpeed:n,...i}){const s=t[0],r=t[t.length-1],o={done:!1,value:s},{stiffness:a,damping:l,mass:c,duration:u,velocity:d,isResolvedFromDuration:h}=Ek({...i,velocity:-un(i.velocity||0)}),f=d||0,p=l/(2*Math.sqrt(a*c)),g=r-s,x=un(Math.sqrt(a/c)),y=Math.abs(g)<5;n||(n=y?.01:2),e||(e=y?.005:.5);let m;if(p<1){const v=Du(x,p);m=w=>{const S=Math.exp(-p*x*w);return r-S*((f+p*x*g)/v*Math.sin(v*w)+g*Math.cos(v*w))}}else if(p===1)m=v=>r-Math.exp(-x*v)*(g+(f+x*g)*v);else{const v=x*Math.sqrt(p*p-1);m=w=>{const S=Math.exp(-p*x*w),C=Math.min(v*w,300);return r-S*((f+p*x*g)*Math.sinh(C)+v*g*Math.cosh(C))/v}}return{calculatedDuration:h&&u||null,next:v=>{const w=m(v);if(h)o.done=v>=u;else{let S=f;v!==0&&(p<1?S=Yv(m,v,w):S=0);const C=Math.abs(S)<=n,P=Math.abs(r-w)<=e;o.done=C&&P}return o.value=o.done?r:w,o}}}function yp({keyframes:t,velocity:e=0,power:n=.8,timeConstant:i=325,bounceDamping:s=10,bounceStiffness:r=500,modifyTarget:o,min:a,max:l,restDelta:c=.5,restSpeed:u}){const d=t[0],h={done:!1,value:d},f=k=>a!==void 0&&k<a||l!==void 0&&k>l,p=k=>a===void 0?l:l===void 0||Math.abs(a-k)<Math.abs(l-k)?a:l;let g=n*e;const x=d+g,y=o===void 0?x:o(x);y!==x&&(g=y-d);const m=k=>-g*Math.exp(-k/i),v=k=>y+m(k),w=k=>{const M=m(k),T=v(k);h.done=Math.abs(M)<=c,h.value=h.done?y:T};let S,C;const P=k=>{f(h.value)&&(S=k,C=Kv({keyframes:[h.value,p(h.value)],velocity:Yv(v,k,h.value),damping:s,stiffness:r,restDelta:c,restSpeed:u}))};return P(0),{calculatedDuration:null,next:k=>{let M=!1;return!C&&S===void 0&&(M=!0,w(k),P(k)),S!==void 0&&k>S?C.next(k-S):(!M&&w(k),h)}}}const Rk=t=>{const e=({timestamp:n})=>t(n);return{start:()=>le.update(e,!0),stop:()=>mn(e),now:()=>Ue.isProcessing?Ue.timestamp:performance.now()}},vp=2e4;function xp(t){let e=0;const n=50;let i=t.next(e);for(;!i.done&&e<vp;)e+=n,i=t.next(e);return e>=vp?1/0:e}const Dk={decay:yp,inertia:yp,tween:za,keyframes:za,spring:Kv};function Ba({autoplay:t=!0,delay:e=0,driver:n=Rk,keyframes:i,type:s="keyframes",repeat:r=0,repeatDelay:o=0,repeatType:a="loop",onPlay:l,onStop:c,onComplete:u,onUpdate:d,...h}){let f=1,p=!1,g,x;const y=()=>{x=new Promise(F=>{g=F})};y();let m;const v=Dk[s]||za;let w;v!==za&&typeof i[0]!="number"&&(w=$v([0,100],i,{clamp:!1}),i=[0,100]);const S=v({...h,keyframes:i});let C;a==="mirror"&&(C=v({...h,keyframes:[...i].reverse(),velocity:-(h.velocity||0)}));let P="idle",k=null,M=null,T=null;S.calculatedDuration===null&&r&&(S.calculatedDuration=xp(S));const{calculatedDuration:A}=S;let j=1/0,Y=1/0;A!==null&&(j=A+o,Y=j*(r+1)-o);let U=0;const z=F=>{if(M===null)return;f>0&&(M=Math.min(M,F)),f<0&&(M=Math.min(F-Y/f,M)),k!==null?U=k:U=Math.round(F-M)*f;const G=U-e*(f>=0?1:-1),Ee=f>=0?G<0:G>Y;U=Math.max(G,0),P==="finished"&&k===null&&(U=Y);let we=U,Ae=S;if(r){const ei=Math.min(U,Y)/j;let W=Math.floor(ei),H=ei%1;!H&&ei>=1&&(H=1),H===1&&W--,W=Math.min(W,r+1),!!(W%2)&&(a==="reverse"?(H=1-H,o&&(H-=o/j)):a==="mirror"&&(Ae=C)),we=Un(0,1,H)*j}const ce=Ee?{done:!1,value:i[0]}:Ae.next(we);w&&(ce.value=w(ce.value));let{done:qe}=ce;!Ee&&A!==null&&(qe=f>=0?U>=Y:U<=0);const Ii=k===null&&(P==="finished"||P==="running"&&qe);return d&&d(ce.value),Ii&&E(),ce},V=()=>{m&&m.stop(),m=void 0},K=()=>{P="idle",V(),g(),y(),M=T=null},E=()=>{P="finished",u&&u(),V(),g()},L=()=>{if(p)return;m||(m=n(z));const F=m.now();l&&l(),k!==null?M=F-k:(!M||P==="finished")&&(M=F),P==="finished"&&y(),T=M,k=null,P="running",m.start()};t&&L();const N={then(F,G){return x.then(F,G)},get time(){return un(U)},set time(F){F=Bn(F),U=F,k!==null||!m||f===0?k=F:M=m.now()-F/f},get duration(){const F=S.calculatedDuration===null?xp(S):S.calculatedDuration;return un(F)},get speed(){return f},set speed(F){F===f||!m||(f=F,N.time=un(U))},get state(){return P},play:L,pause:()=>{P="paused",k=U},stop:()=>{p=!0,P!=="idle"&&(P="idle",c&&c(),K())},cancel:()=>{T!==null&&z(T),K()},complete:()=>{P="finished"},sample:F=>(M=0,z(F))};return N}function Ak(t){let e;return()=>(e===void 0&&(e=t()),e)}const Lk=Ak(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),Ok=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),Po=10,Ik=2e4,Nk=(t,e)=>e.type==="spring"||t==="backgroundColor"||!kv(e.ease);function jk(t,e,{onUpdate:n,onComplete:i,...s}){if(!(Lk()&&Ok.has(e)&&!s.repeatDelay&&s.repeatType!=="mirror"&&s.damping!==0&&s.type!=="inertia"))return!1;let o=!1,a,l,c=!1;const u=()=>{l=new Promise(v=>{a=v})};u();let{keyframes:d,duration:h=300,ease:f,times:p}=s;if(Nk(e,s)){const v=Ba({...s,repeat:0,delay:0});let w={done:!1,value:d[0]};const S=[];let C=0;for(;!w.done&&C<Ik;)w=v.sample(C),S.push(w.value),C+=Po;p=void 0,d=S,h=C-Po,f="linear"}const g=K_(t.owner.current,e,d,{...s,duration:h,ease:f,times:p}),x=()=>{c=!1,g.cancel()},y=()=>{c=!0,le.update(x),a(),u()};return g.onfinish=()=>{c||(t.set(X_(d,s)),i&&i(),y())},{then(v,w){return l.then(v,w)},attachTimeline(v){return g.timeline=v,g.onfinish=null,ke},get time(){return un(g.currentTime||0)},set time(v){g.currentTime=Bn(v)},get speed(){return g.playbackRate},set speed(v){g.playbackRate=v},get duration(){return un(h)},play:()=>{o||(g.play(),mn(x))},pause:()=>g.pause(),stop:()=>{if(o=!0,g.playState==="idle")return;const{currentTime:v}=g;if(v){const w=Ba({...s,autoplay:!1});t.setWithVelocity(w.sample(v-Po).value,w.sample(v).value,Po)}y()},complete:()=>{c||g.finish()},cancel:y}}function Vk({keyframes:t,delay:e,onUpdate:n,onComplete:i}){const s=()=>(n&&n(t[t.length-1]),i&&i(),{time:0,speed:1,duration:0,play:ke,pause:ke,stop:ke,then:r=>(r(),Promise.resolve()),cancel:ke,complete:ke});return e?Ba({keyframes:[0,1],duration:0,delay:e,onComplete:s}):s()}const Fk={type:"spring",stiffness:500,damping:25,restSpeed:10},zk=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),Bk={type:"keyframes",duration:.8},Hk={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Wk=(t,{keyframes:e})=>e.length>2?Bk:Ai.has(t)?t.startsWith("scale")?zk(e[1]):Fk:Hk,Au=(t,e)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(Yn.test(e)||e==="0")&&!e.startsWith("url(")),$k=new Set(["brightness","contrast","saturate","opacity"]);function Uk(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[i]=n.match(kl)||[];if(!i)return t;const s=n.replace(i,"");let r=$k.has(e)?1:0;return i!==n&&(r*=100),e+"("+r+s+")"}const Yk=/([a-z-]*)\(.*?\)/g,Lu={...Yn,getAnimatableNone:t=>{const e=t.match(Yk);return e?e.map(Uk).join(" "):t}},Kk={...av,color:Ze,backgroundColor:Ze,outlineColor:Ze,fill:Ze,stroke:Ze,borderColor:Ze,borderTopColor:Ze,borderRightColor:Ze,borderBottomColor:Ze,borderLeftColor:Ze,filter:Lu,WebkitFilter:Lu},ph=t=>Kk[t];function Xv(t,e){let n=ph(t);return n!==Lu&&(n=Yn),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const Gv=t=>/^0[^.\s]+$/.test(t);function Xk(t){if(typeof t=="number")return t===0;if(t!==null)return t==="none"||t==="0"||Gv(t)}function Gk(t,e,n,i){const s=Au(e,n);let r;Array.isArray(n)?r=[...n]:r=[null,n];const o=i.from!==void 0?i.from:t.get();let a;const l=[];for(let c=0;c<r.length;c++)r[c]===null&&(r[c]=c===0?o:r[c-1]),Xk(r[c])&&l.push(c),typeof r[c]=="string"&&r[c]!=="none"&&r[c]!=="0"&&(a=r[c]);if(s&&l.length&&a)for(let c=0;c<l.length;c++){const u=l[c];r[u]=Xv(e,a)}return r}function Qk({when:t,delay:e,delayChildren:n,staggerChildren:i,staggerDirection:s,repeat:r,repeatType:o,repeatDelay:a,from:l,elapsed:c,...u}){return!!Object.keys(u).length}function mh(t,e){return t[e]||t.default||t}const qk={skipAnimations:!1},gh=(t,e,n,i={})=>s=>{const r=mh(i,t)||{},o=r.delay||i.delay||0;let{elapsed:a=0}=i;a=a-Bn(o);const l=Gk(e,t,n,r),c=l[0],u=l[l.length-1],d=Au(t,c),h=Au(t,u);let f={keyframes:l,velocity:e.getVelocity(),ease:"easeOut",...r,delay:-a,onUpdate:p=>{e.set(p),r.onUpdate&&r.onUpdate(p)},onComplete:()=>{s(),r.onComplete&&r.onComplete()}};if(Qk(r)||(f={...f,...Wk(t,f)}),f.duration&&(f.duration=Bn(f.duration)),f.repeatDelay&&(f.repeatDelay=Bn(f.repeatDelay)),!d||!h||Y_.current||r.type===!1||qk.skipAnimations)return Vk(f);if(!i.isHandoff&&e.owner&&e.owner.current instanceof HTMLElement&&!e.owner.getProps().onUpdate){const p=jk(e,t,f);if(p)return p}return Ba(f)};function Ha(t){return!!(ut(t)&&t.add)}const Qv=t=>/^\-?\d*\.?\d+$/.test(t);function yh(t,e){t.indexOf(e)===-1&&t.push(e)}function vh(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class xh{constructor(){this.subscriptions=[]}add(e){return yh(this.subscriptions,e),()=>vh(this.subscriptions,e)}notify(e,n,i){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](e,n,i);else for(let r=0;r<s;r++){const o=this.subscriptions[r];o&&o(e,n,i)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Zk=t=>!isNaN(parseFloat(t));class Jk{constructor(e,n={}){this.version="10.18.0",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(i,s=!0)=>{this.prev=this.current,this.current=i;const{delta:r,timestamp:o}=Ue;this.lastUpdated!==o&&(this.timeDelta=r,this.lastUpdated=o,le.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),s&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>le.postRender(this.velocityCheck),this.velocityCheck=({timestamp:i})=>{i!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=e,this.canTrackVelocity=Zk(this.current),this.owner=n.owner}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new xh);const i=this.events[e].add(n);return e==="change"?()=>{i(),le.read(()=>{this.events.change.getSize()||this.stop()})}:i}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,i){this.set(n),this.prev=e,this.timeDelta=i}jump(e){this.updateAndNotify(e),this.prev=e,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?Uv(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function ms(t,e){return new Jk(t,e)}const qv=t=>e=>e.test(t),eP={test:t=>t==="auto",parse:t=>t},Zv=[Li,$,Yt,xn,a_,o_,eP],Ls=t=>Zv.find(qv(t)),tP=[...Zv,Ze,Yn],nP=t=>tP.find(qv(t));function iP(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,ms(n))}function sP(t,e){const n=Cl(t,e);let{transitionEnd:i={},transition:s={},...r}=n?t.makeTargetAnimatable(n,!1):{};r={...r,...i};for(const o in r){const a=w_(r[o]);iP(t,o,a)}}function rP(t,e,n){var i,s;const r=Object.keys(e).filter(a=>!t.hasValue(a)),o=r.length;if(o)for(let a=0;a<o;a++){const l=r[a],c=e[l];let u=null;Array.isArray(c)&&(u=c[0]),u===null&&(u=(s=(i=n[l])!==null&&i!==void 0?i:t.readValue(l))!==null&&s!==void 0?s:e[l]),u!=null&&(typeof u=="string"&&(Qv(u)||Gv(u))?u=parseFloat(u):!nP(u)&&Yn.test(c)&&(u=Xv(l,c)),t.addValue(l,ms(u,{owner:t})),n[l]===void 0&&(n[l]=u),u!==null&&t.setBaseTarget(l,u))}}function oP(t,e){return e?(e[t]||e.default||e).from:void 0}function aP(t,e,n){const i={};for(const s in t){const r=oP(s,e);if(r!==void 0)i[s]=r;else{const o=n.getValue(s);o&&(i[s]=o.get())}}return i}function lP({protectedKeys:t,needsAnimating:e},n){const i=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,i}function cP(t,e){const n=t.get();if(Array.isArray(e)){for(let i=0;i<e.length;i++)if(e[i]!==n)return!0}else return n!==e}function Jv(t,e,{delay:n=0,transitionOverride:i,type:s}={}){let{transition:r=t.getDefaultTransition(),transitionEnd:o,...a}=t.makeTargetAnimatable(e);const l=t.getValue("willChange");i&&(r=i);const c=[],u=s&&t.animationState&&t.animationState.getState()[s];for(const d in a){const h=t.getValue(d),f=a[d];if(!h||f===void 0||u&&lP(u,d))continue;const p={delay:n,elapsed:0,...mh(r||{},d)};if(window.HandoffAppearAnimations){const y=t.getProps()[ev];if(y){const m=window.HandoffAppearAnimations(y,d,h,le);m!==null&&(p.elapsed=m,p.isHandoff=!0)}}let g=!p.isHandoff&&!cP(h,f);if(p.type==="spring"&&(h.getVelocity()||p.velocity)&&(g=!1),h.animation&&(g=!1),g)continue;h.start(gh(d,h,f,t.shouldReduceMotion&&Ai.has(d)?{type:!1}:p));const x=h.animation;Ha(l)&&(l.add(d),x.then(()=>l.remove(d))),c.push(x)}return o&&Promise.all(c).then(()=>{o&&sP(t,o)}),c}function Ou(t,e,n={}){const i=Cl(t,e,n.custom);let{transition:s=t.getDefaultTransition()||{}}=i||{};n.transitionOverride&&(s=n.transitionOverride);const r=i?()=>Promise.all(Jv(t,i,n)):()=>Promise.resolve(),o=t.variantChildren&&t.variantChildren.size?(l=0)=>{const{delayChildren:c=0,staggerChildren:u,staggerDirection:d}=s;return uP(t,e,c+l,u,d,n)}:()=>Promise.resolve(),{when:a}=s;if(a){const[l,c]=a==="beforeChildren"?[r,o]:[o,r];return l().then(()=>c())}else return Promise.all([r(),o(n.delay)])}function uP(t,e,n=0,i=0,s=1,r){const o=[],a=(t.variantChildren.size-1)*i,l=s===1?(c=0)=>c*i:(c=0)=>a-c*i;return Array.from(t.variantChildren).sort(dP).forEach((c,u)=>{c.notify("AnimationStart",e),o.push(Ou(c,e,{...r,delay:n+l(u)}).then(()=>c.notify("AnimationComplete",e)))}),Promise.all(o)}function dP(t,e){return t.sortNodePosition(e)}function hP(t,e,n={}){t.notify("AnimationStart",e);let i;if(Array.isArray(e)){const s=e.map(r=>Ou(t,r,n));i=Promise.all(s)}else if(typeof e=="string")i=Ou(t,e,n);else{const s=typeof e=="function"?Cl(t,e,n.custom):e;i=Promise.all(Jv(t,s,n))}return i.then(()=>t.notify("AnimationComplete",e))}const fP=[...eh].reverse(),pP=eh.length;function mP(t){return e=>Promise.all(e.map(({animation:n,options:i})=>hP(t,n,i)))}function gP(t){let e=mP(t);const n=vP();let i=!0;const s=(l,c)=>{const u=Cl(t,c);if(u){const{transition:d,transitionEnd:h,...f}=u;l={...l,...f,...h}}return l};function r(l){e=l(t)}function o(l,c){const u=t.getProps(),d=t.getVariantContext(!0)||{},h=[],f=new Set;let p={},g=1/0;for(let y=0;y<pP;y++){const m=fP[y],v=n[m],w=u[m]!==void 0?u[m]:d[m],S=Ir(w),C=m===c?v.isActive:null;C===!1&&(g=y);let P=w===d[m]&&w!==u[m]&&S;if(P&&i&&t.manuallyAnimateOnMount&&(P=!1),v.protectedKeys={...p},!v.isActive&&C===null||!w&&!v.prevProp||Sl(w)||typeof w=="boolean")continue;let M=yP(v.prevProp,w)||m===c&&v.isActive&&!P&&S||y>g&&S,T=!1;const A=Array.isArray(w)?w:[w];let j=A.reduce(s,{});C===!1&&(j={});const{prevResolvedValues:Y={}}=v,U={...Y,...j},z=V=>{M=!0,f.has(V)&&(T=!0,f.delete(V)),v.needsAnimating[V]=!0};for(const V in U){const K=j[V],E=Y[V];if(p.hasOwnProperty(V))continue;let L=!1;Va(K)&&Va(E)?L=!Sv(K,E):L=K!==E,L?K!==void 0?z(V):f.add(V):K!==void 0&&f.has(V)?z(V):v.protectedKeys[V]=!0}v.prevProp=w,v.prevResolvedValues=j,v.isActive&&(p={...p,...j}),i&&t.blockInitialAnimation&&(M=!1),M&&(!P||T)&&h.push(...A.map(V=>({animation:V,options:{type:m,...l}})))}if(f.size){const y={};f.forEach(m=>{const v=t.getBaseTarget(m);v!==void 0&&(y[m]=v)}),h.push({animation:y})}let x=!!h.length;return i&&(u.initial===!1||u.initial===u.animate)&&!t.manuallyAnimateOnMount&&(x=!1),i=!1,x?e(h):Promise.resolve()}function a(l,c,u){var d;if(n[l].isActive===c)return Promise.resolve();(d=t.variantChildren)===null||d===void 0||d.forEach(f=>{var p;return(p=f.animationState)===null||p===void 0?void 0:p.setActive(l,c)}),n[l].isActive=c;const h=o(u,l);for(const f in n)n[f].protectedKeys={};return h}return{animateChanges:o,setActive:a,setAnimateFunction:r,getState:()=>n}}function yP(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!Sv(e,t):!1}function ti(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function vP(){return{animate:ti(!0),whileInView:ti(),whileHover:ti(),whileTap:ti(),whileDrag:ti(),whileFocus:ti(),exit:ti()}}class xP extends Zn{constructor(e){super(e),e.animationState||(e.animationState=gP(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();this.unmount(),Sl(e)&&(this.unmount=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){}}let bP=0;class wP extends Zn{constructor(){super(...arguments),this.id=bP++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n,custom:i}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===s)return;const r=this.node.animationState.setActive("exit",!e,{custom:i??this.node.getProps().custom});n&&!e&&r.then(()=>n(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const SP={animation:{Feature:xP},exit:{Feature:wP}},bp=(t,e)=>Math.abs(t-e);function _P(t,e){const n=bp(t.x,e.x),i=bp(t.y,e.y);return Math.sqrt(n**2+i**2)}class ex{constructor(e,n,{transformPagePoint:i,contextWindow:s,dragSnapToOrigin:r=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const d=gc(this.lastMoveEventInfo,this.history),h=this.startEvent!==null,f=_P(d.offset,{x:0,y:0})>=3;if(!h&&!f)return;const{point:p}=d,{timestamp:g}=Ue;this.history.push({...p,timestamp:g});const{onStart:x,onMove:y}=this.handlers;h||(x&&x(this.lastMoveEvent,d),this.startEvent=this.lastMoveEvent),y&&y(this.lastMoveEvent,d)},this.handlePointerMove=(d,h)=>{this.lastMoveEvent=d,this.lastMoveEventInfo=mc(h,this.transformPagePoint),le.update(this.updatePoint,!0)},this.handlePointerUp=(d,h)=>{this.end();const{onEnd:f,onSessionEnd:p,resumeAnimation:g}=this.handlers;if(this.dragSnapToOrigin&&g&&g(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const x=gc(d.type==="pointercancel"?this.lastMoveEventInfo:mc(h,this.transformPagePoint),this.history);this.startEvent&&f&&f(d,x),p&&p(d,x)},!yv(e))return;this.dragSnapToOrigin=r,this.handlers=n,this.transformPagePoint=i,this.contextWindow=s||window;const o=Pl(e),a=mc(o,this.transformPagePoint),{point:l}=a,{timestamp:c}=Ue;this.history=[{...l,timestamp:c}];const{onSessionStart:u}=n;u&&u(e,gc(a,this.history)),this.removeListeners=zn(cn(this.contextWindow,"pointermove",this.handlePointerMove),cn(this.contextWindow,"pointerup",this.handlePointerUp),cn(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),mn(this.updatePoint)}}function mc(t,e){return e?{point:e(t.point)}:t}function wp(t,e){return{x:t.x-e.x,y:t.y-e.y}}function gc({point:t},e){return{point:t,delta:wp(t,tx(e)),offset:wp(t,kP(e)),velocity:PP(e,.1)}}function kP(t){return t[0]}function tx(t){return t[t.length-1]}function PP(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,i=null;const s=tx(t);for(;n>=0&&(i=t[n],!(s.timestamp-i.timestamp>Bn(e)));)n--;if(!i)return{x:0,y:0};const r=un(s.timestamp-i.timestamp);if(r===0)return{x:0,y:0};const o={x:(s.x-i.x)/r,y:(s.y-i.y)/r};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function yt(t){return t.max-t.min}function Iu(t,e=0,n=.01){return Math.abs(t-e)<=n}function Sp(t,e,n,i=.5){t.origin=i,t.originPoint=ve(e.min,e.max,t.origin),t.scale=yt(n)/yt(e),(Iu(t.scale,1,1e-4)||isNaN(t.scale))&&(t.scale=1),t.translate=ve(n.min,n.max,t.origin)-t.originPoint,(Iu(t.translate)||isNaN(t.translate))&&(t.translate=0)}function cr(t,e,n,i){Sp(t.x,e.x,n.x,i?i.originX:void 0),Sp(t.y,e.y,n.y,i?i.originY:void 0)}function _p(t,e,n){t.min=n.min+e.min,t.max=t.min+yt(e)}function CP(t,e,n){_p(t.x,e.x,n.x),_p(t.y,e.y,n.y)}function kp(t,e,n){t.min=e.min-n.min,t.max=t.min+yt(e)}function ur(t,e,n){kp(t.x,e.x,n.x),kp(t.y,e.y,n.y)}function MP(t,{min:e,max:n},i){return e!==void 0&&t<e?t=i?ve(e,t,i.min):Math.max(t,e):n!==void 0&&t>n&&(t=i?ve(n,t,i.max):Math.min(t,n)),t}function Pp(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function TP(t,{top:e,left:n,bottom:i,right:s}){return{x:Pp(t.x,n,s),y:Pp(t.y,e,i)}}function Cp(t,e){let n=e.min-t.min,i=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,i]=[i,n]),{min:n,max:i}}function EP(t,e){return{x:Cp(t.x,e.x),y:Cp(t.y,e.y)}}function RP(t,e){let n=.5;const i=yt(t),s=yt(e);return s>i?n=jr(e.min,e.max-i,t.min):i>s&&(n=jr(t.min,t.max-s,e.min)),Un(0,1,n)}function DP(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const Nu=.35;function AP(t=Nu){return t===!1?t=0:t===!0&&(t=Nu),{x:Mp(t,"left","right"),y:Mp(t,"top","bottom")}}function Mp(t,e,n){return{min:Tp(t,e),max:Tp(t,n)}}function Tp(t,e){return typeof t=="number"?t:t[e]||0}const Ep=()=>({translate:0,scale:1,origin:0,originPoint:0}),Ji=()=>({x:Ep(),y:Ep()}),Rp=()=>({min:0,max:0}),Re=()=>({x:Rp(),y:Rp()});function St(t){return[t("x"),t("y")]}function nx({top:t,left:e,right:n,bottom:i}){return{x:{min:e,max:n},y:{min:t,max:i}}}function LP({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function OP(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),i=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:i.y,right:i.x}}function yc(t){return t===void 0||t===1}function ju({scale:t,scaleX:e,scaleY:n}){return!yc(t)||!yc(e)||!yc(n)}function li(t){return ju(t)||ix(t)||t.z||t.rotate||t.rotateX||t.rotateY}function ix(t){return Dp(t.x)||Dp(t.y)}function Dp(t){return t&&t!=="0%"}function Wa(t,e,n){const i=t-n,s=e*i;return n+s}function Ap(t,e,n,i,s){return s!==void 0&&(t=Wa(t,s,i)),Wa(t,n,i)+e}function Vu(t,e=0,n=1,i,s){t.min=Ap(t.min,e,n,i,s),t.max=Ap(t.max,e,n,i,s)}function sx(t,{x:e,y:n}){Vu(t.x,e.translate,e.scale,e.originPoint),Vu(t.y,n.translate,n.scale,n.originPoint)}function IP(t,e,n,i=!1){const s=n.length;if(!s)return;e.x=e.y=1;let r,o;for(let a=0;a<s;a++){r=n[a],o=r.projectionDelta;const l=r.instance;l&&l.style&&l.style.display==="contents"||(i&&r.options.layoutScroll&&r.scroll&&r!==r.root&&es(t,{x:-r.scroll.offset.x,y:-r.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,sx(t,o)),i&&li(r.latestValues)&&es(t,r.latestValues))}e.x=Lp(e.x),e.y=Lp(e.y)}function Lp(t){return Number.isInteger(t)||t>1.0000000000001||t<.999999999999?t:1}function Sn(t,e){t.min=t.min+e,t.max=t.max+e}function Op(t,e,[n,i,s]){const r=e[s]!==void 0?e[s]:.5,o=ve(t.min,t.max,r);Vu(t,e[n],e[i],o,e.scale)}const NP=["x","scaleX","originX"],jP=["y","scaleY","originY"];function es(t,e){Op(t.x,e,NP),Op(t.y,e,jP)}function rx(t,e){return nx(OP(t.getBoundingClientRect(),e))}function VP(t,e,n){const i=rx(t,n),{scroll:s}=e;return s&&(Sn(i.x,s.offset.x),Sn(i.y,s.offset.y)),i}const ox=({current:t})=>t?t.ownerDocument.defaultView:null,FP=new WeakMap;class zP{constructor(e){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Re(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const s=u=>{const{dragSnapToOrigin:d}=this.getProps();d?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Pl(u,"page").point)},r=(u,d)=>{const{drag:h,dragPropagation:f,onDragStart:p}=this.getProps();if(h&&!f&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=xv(h),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),St(x=>{let y=this.getAxisMotionValue(x).get()||0;if(Yt.test(y)){const{projection:m}=this.visualElement;if(m&&m.layout){const v=m.layout.layoutBox[x];v&&(y=yt(v)*(parseFloat(y)/100))}}this.originPoint[x]=y}),p&&le.update(()=>p(u,d),!1,!0);const{animationState:g}=this.visualElement;g&&g.setActive("whileDrag",!0)},o=(u,d)=>{const{dragPropagation:h,dragDirectionLock:f,onDirectionLock:p,onDrag:g}=this.getProps();if(!h&&!this.openGlobalLock)return;const{offset:x}=d;if(f&&this.currentDirection===null){this.currentDirection=BP(x),this.currentDirection!==null&&p&&p(this.currentDirection);return}this.updateAxis("x",d.point,x),this.updateAxis("y",d.point,x),this.visualElement.render(),g&&g(u,d)},a=(u,d)=>this.stop(u,d),l=()=>St(u=>{var d;return this.getAnimationState(u)==="paused"&&((d=this.getAxisMotionValue(u).animation)===null||d===void 0?void 0:d.play())}),{dragSnapToOrigin:c}=this.getProps();this.panSession=new ex(e,{onSessionStart:s,onStart:r,onMove:o,onSessionEnd:a,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:c,contextWindow:ox(this.visualElement)})}stop(e,n){const i=this.isDragging;if(this.cancel(),!i)return;const{velocity:s}=n;this.startAnimation(s);const{onDragEnd:r}=this.getProps();r&&le.update(()=>r(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:i}=this.getProps();!i&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,i){const{drag:s}=this.getProps();if(!i||!Co(e,s,this.currentDirection))return;const r=this.getAxisMotionValue(e);let o=this.originPoint[e]+i[e];this.constraints&&this.constraints[e]&&(o=MP(o,this.constraints[e],this.elastic[e])),r.set(o)}resolveConstraints(){var e;const{dragConstraints:n,dragElastic:i}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,r=this.constraints;n&&qi(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&s?this.constraints=TP(s.layoutBox,n):this.constraints=!1,this.elastic=AP(i),r!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&St(o=>{this.getAxisMotionValue(o)&&(this.constraints[o]=DP(s.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!qi(e))return!1;const i=e.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const r=VP(i,s.root,this.visualElement.getTransformPagePoint());let o=EP(s.layout.layoutBox,r);if(n){const a=n(LP(o));this.hasMutatedConstraints=!!a,a&&(o=nx(a))}return o}startAnimation(e){const{drag:n,dragMomentum:i,dragElastic:s,dragTransition:r,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},c=St(u=>{if(!Co(u,n,this.currentDirection))return;let d=l&&l[u]||{};o&&(d={min:0,max:0});const h=s?200:1e6,f=s?40:1e7,p={type:"inertia",velocity:i?e[u]:0,bounceStiffness:h,bounceDamping:f,timeConstant:750,restDelta:1,restSpeed:10,...r,...d};return this.startAxisValueAnimation(u,p)});return Promise.all(c).then(a)}startAxisValueAnimation(e,n){const i=this.getAxisMotionValue(e);return i.start(gh(e,i,0,n))}stopAnimation(){St(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){St(e=>{var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(e){const n="_drag"+e.toUpperCase(),i=this.visualElement.getProps(),s=i[n];return s||this.visualElement.getValue(e,(i.initial?i.initial[e]:void 0)||0)}snapToCursor(e){St(n=>{const{drag:i}=this.getProps();if(!Co(n,i,this.currentDirection))return;const{projection:s}=this.visualElement,r=this.getAxisMotionValue(n);if(s&&s.layout){const{min:o,max:a}=s.layout.layoutBox[n];r.set(e[n]-ve(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:i}=this.visualElement;if(!qi(n)||!i||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};St(o=>{const a=this.getAxisMotionValue(o);if(a){const l=a.get();s[o]=RP({min:l,max:l},this.constraints[o])}});const{transformTemplate:r}=this.visualElement.getProps();this.visualElement.current.style.transform=r?r({},""):"none",i.root&&i.root.updateScroll(),i.updateLayout(),this.resolveConstraints(),St(o=>{if(!Co(o,e,null))return;const a=this.getAxisMotionValue(o),{min:l,max:c}=this.constraints[o];a.set(ve(l,c,s[o]))})}addListeners(){if(!this.visualElement.current)return;FP.set(this.visualElement,this);const e=this.visualElement.current,n=cn(e,"pointerdown",l=>{const{drag:c,dragListener:u=!0}=this.getProps();c&&u&&this.start(l)}),i=()=>{const{dragConstraints:l}=this.getProps();qi(l)&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,r=s.addEventListener("measure",i);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),i();const o=sn(window,"resize",()=>this.scalePositionWithinConstraints()),a=s.addEventListener("didUpdate",({delta:l,hasLayoutChanged:c})=>{this.isDragging&&c&&(St(u=>{const d=this.getAxisMotionValue(u);d&&(this.originPoint[u]+=l[u].translate,d.set(d.get()+l[u].translate))}),this.visualElement.render())});return()=>{o(),n(),r(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:i=!1,dragPropagation:s=!1,dragConstraints:r=!1,dragElastic:o=Nu,dragMomentum:a=!0}=e;return{...e,drag:n,dragDirectionLock:i,dragPropagation:s,dragConstraints:r,dragElastic:o,dragMomentum:a}}}function Co(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function BP(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class HP extends Zn{constructor(e){super(e),this.removeGroupControls=ke,this.removeListeners=ke,this.controls=new zP(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||ke}unmount(){this.removeGroupControls(),this.removeListeners()}}const Ip=t=>(e,n)=>{t&&le.update(()=>t(e,n))};class WP extends Zn{constructor(){super(...arguments),this.removePointerDownListener=ke}onPointerDown(e){this.session=new ex(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:ox(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:i,onPanEnd:s}=this.node.getProps();return{onSessionStart:Ip(e),onStart:Ip(n),onMove:i,onEnd:(r,o)=>{delete this.session,s&&le.update(()=>s(r,o))}}}mount(){this.removePointerDownListener=cn(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function $P(){const t=_.useContext(bl);if(t===null)return[!0,null];const{isPresent:e,onExitComplete:n,register:i}=t,s=_.useId();return _.useEffect(()=>i(s),[]),!e&&n?[!1,()=>n&&n(s)]:[!0]}const ta={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Np(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Os={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if($.test(t))t=parseFloat(t);else return t;const n=Np(t,e.target.x),i=Np(t,e.target.y);return`${n}% ${i}%`}},UP={correct:(t,{treeScale:e,projectionDelta:n})=>{const i=t,s=Yn.parse(t);if(s.length>5)return i;const r=Yn.createTransformer(t),o=typeof s[0]!="number"?1:0,a=n.x.scale*e.x,l=n.y.scale*e.y;s[0+o]/=a,s[1+o]/=l;const c=ve(a,l,.5);return typeof s[2+o]=="number"&&(s[2+o]/=c),typeof s[3+o]=="number"&&(s[3+o]/=c),r(s)}};class YP extends Ja.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:i,layoutId:s}=this.props,{projection:r}=e;JS(KP),r&&(n.group&&n.group.add(r),i&&i.register&&s&&i.register(r),r.root.didUpdate(),r.addEventListener("animationComplete",()=>{this.safeToRemove()}),r.setOptions({...r.options,onExitComplete:()=>this.safeToRemove()})),ta.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:i,drag:s,isPresent:r}=this.props,o=i.projection;return o&&(o.isPresent=r,s||e.layoutDependency!==n||n===void 0?o.willUpdate():this.safeToRemove(),e.isPresent!==r&&(r?o.promote():o.relegate()||le.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),queueMicrotask(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:i}=this.props,{projection:s}=e;s&&(s.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(s),i&&i.deregister&&i.deregister(s))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function ax(t){const[e,n]=$P(),i=_.useContext(nh);return Ja.createElement(YP,{...t,layoutGroup:i,switchLayoutGroup:_.useContext(nv),isPresent:e,safeToRemove:n})}const KP={borderRadius:{...Os,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Os,borderTopRightRadius:Os,borderBottomLeftRadius:Os,borderBottomRightRadius:Os,boxShadow:UP},lx=["TopLeft","TopRight","BottomLeft","BottomRight"],XP=lx.length,jp=t=>typeof t=="string"?parseFloat(t):t,Vp=t=>typeof t=="number"||$.test(t);function GP(t,e,n,i,s,r){s?(t.opacity=ve(0,n.opacity!==void 0?n.opacity:1,QP(i)),t.opacityExit=ve(e.opacity!==void 0?e.opacity:1,0,qP(i))):r&&(t.opacity=ve(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,i));for(let o=0;o<XP;o++){const a=`border${lx[o]}Radius`;let l=Fp(e,a),c=Fp(n,a);if(l===void 0&&c===void 0)continue;l||(l=0),c||(c=0),l===0||c===0||Vp(l)===Vp(c)?(t[a]=Math.max(ve(jp(l),jp(c),i),0),(Yt.test(c)||Yt.test(l))&&(t[a]+="%")):t[a]=c}(e.rotate||n.rotate)&&(t.rotate=ve(e.rotate||0,n.rotate||0,i))}function Fp(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const QP=cx(0,.5,Dv),qP=cx(.5,.95,ke);function cx(t,e,n){return i=>i<t?0:i>e?1:n(jr(t,e,i))}function zp(t,e){t.min=e.min,t.max=e.max}function bt(t,e){zp(t.x,e.x),zp(t.y,e.y)}function Bp(t,e,n,i,s){return t-=e,t=Wa(t,1/n,i),s!==void 0&&(t=Wa(t,1/s,i)),t}function ZP(t,e=0,n=1,i=.5,s,r=t,o=t){if(Yt.test(e)&&(e=parseFloat(e),e=ve(o.min,o.max,e/100)-o.min),typeof e!="number")return;let a=ve(r.min,r.max,i);t===r&&(a-=e),t.min=Bp(t.min,e,n,a,s),t.max=Bp(t.max,e,n,a,s)}function Hp(t,e,[n,i,s],r,o){ZP(t,e[n],e[i],e[s],e.scale,r,o)}const JP=["x","scaleX","originX"],eC=["y","scaleY","originY"];function Wp(t,e,n,i){Hp(t.x,e,JP,n?n.x:void 0,i?i.x:void 0),Hp(t.y,e,eC,n?n.y:void 0,i?i.y:void 0)}function $p(t){return t.translate===0&&t.scale===1}function ux(t){return $p(t.x)&&$p(t.y)}function tC(t,e){return t.x.min===e.x.min&&t.x.max===e.x.max&&t.y.min===e.y.min&&t.y.max===e.y.max}function dx(t,e){return Math.round(t.x.min)===Math.round(e.x.min)&&Math.round(t.x.max)===Math.round(e.x.max)&&Math.round(t.y.min)===Math.round(e.y.min)&&Math.round(t.y.max)===Math.round(e.y.max)}function Up(t){return yt(t.x)/yt(t.y)}class nC{constructor(){this.members=[]}add(e){yh(this.members,e),e.scheduleRender()}remove(e){if(vh(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(s=>e===s);if(n===0)return!1;let i;for(let s=n;s>=0;s--){const r=this.members[s];if(r.isPresent!==!1){i=r;break}}return i?(this.promote(i),!0):!1}promote(e,n){const i=this.lead;if(e!==i&&(this.prevLead=i,this.lead=e,e.show(),i)){i.instance&&i.scheduleRender(),e.scheduleRender(),e.resumeFrom=i,n&&(e.resumeFrom.preserveOpacity=!0),i.snapshot&&(e.snapshot=i.snapshot,e.snapshot.latestValues=i.animationValues||i.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:s}=e.options;s===!1&&i.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:i}=e;n.onExitComplete&&n.onExitComplete(),i&&i.options.onExitComplete&&i.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function Yp(t,e,n){let i="";const s=t.x.translate/e.x,r=t.y.translate/e.y;if((s||r)&&(i=`translate3d(${s}px, ${r}px, 0) `),(e.x!==1||e.y!==1)&&(i+=`scale(${1/e.x}, ${1/e.y}) `),n){const{rotate:l,rotateX:c,rotateY:u}=n;l&&(i+=`rotate(${l}deg) `),c&&(i+=`rotateX(${c}deg) `),u&&(i+=`rotateY(${u}deg) `)}const o=t.x.scale*e.x,a=t.y.scale*e.y;return(o!==1||a!==1)&&(i+=`scale(${o}, ${a})`),i||"none"}const iC=(t,e)=>t.depth-e.depth;class sC{constructor(){this.children=[],this.isDirty=!1}add(e){yh(this.children,e),this.isDirty=!0}remove(e){vh(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(iC),this.isDirty=!1,this.children.forEach(e)}}function rC(t,e){const n=performance.now(),i=({timestamp:s})=>{const r=s-n;r>=e&&(mn(i),t(r-e))};return le.read(i,!0),()=>mn(i)}function oC(t){window.MotionDebug&&window.MotionDebug.record(t)}function aC(t){return t instanceof SVGElement&&t.tagName!=="svg"}function lC(t,e,n){const i=ut(t)?t:ms(t);return i.start(gh("",i,e,n)),i.animation}const Kp=["","X","Y","Z"],cC={visibility:"hidden"},Xp=1e3;let uC=0;const ci={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function hx({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:i,resetTransform:s}){return class{constructor(o={},a=e==null?void 0:e()){this.id=uC++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,ci.totalNodes=ci.resolvedTargetDeltas=ci.recalculatedProjection=0,this.nodes.forEach(fC),this.nodes.forEach(vC),this.nodes.forEach(xC),this.nodes.forEach(pC),oC(ci)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new sC)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new xh),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const l=this.eventHandlers.get(o);l&&l.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,a=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=aC(o),this.instance=o;const{layoutId:l,layout:c,visualElement:u}=this.options;if(u&&!u.current&&u.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),a&&(c||l)&&(this.isLayoutDirty=!0),t){let d;const h=()=>this.root.updateBlockedByResize=!1;t(o,()=>{this.root.updateBlockedByResize=!0,d&&d(),d=rC(h,250),ta.hasAnimatedSinceResize&&(ta.hasAnimatedSinceResize=!1,this.nodes.forEach(Qp))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&u&&(l||c)&&this.addEventListener("didUpdate",({delta:d,hasLayoutChanged:h,hasRelativeTargetChanged:f,layout:p})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const g=this.options.transition||u.getDefaultTransition()||kC,{onLayoutAnimationStart:x,onLayoutAnimationComplete:y}=u.getProps(),m=!this.targetLayout||!dx(this.targetLayout,p)||f,v=!h&&f;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||v||h&&(m||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(d,v);const w={...mh(g,"layout"),onPlay:x,onComplete:y};(u.shouldReduceMotion||this.options.layoutRoot)&&(w.delay=0,w.type=!1),this.startAnimation(w)}else h||Qp(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=p})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,mn(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(bC),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let u=0;u<this.path.length;u++){const d=this.path[u];d.shouldResetTransform=!0,d.updateScroll("snapshot"),d.options.layoutRoot&&d.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Gp);return}this.isUpdating||this.nodes.forEach(gC),this.isUpdating=!1,this.nodes.forEach(yC),this.nodes.forEach(dC),this.nodes.forEach(hC),this.clearAllSnapshots();const a=performance.now();Ue.delta=Un(0,1e3/60,a-Ue.timestamp),Ue.timestamp=a,Ue.isProcessing=!0,ac.update.process(Ue),ac.preRender.process(Ue),ac.render.process(Ue),Ue.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(mC),this.sharedNodes.forEach(wC)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,le.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){le.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Re(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a&&(this.scroll={animationId:this.root.animationId,phase:o,isRoot:i(this.instance),offset:n(this.instance)})}resetTransform(){if(!s)return;const o=this.isLayoutDirty||this.shouldResetTransform,a=this.projectionDelta&&!ux(this.projectionDelta),l=this.getTransformTemplate(),c=l?l(this.latestValues,""):void 0,u=c!==this.prevTransformTemplateValue;o&&(a||li(this.latestValues)||u)&&(s(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return o&&(l=this.removeTransform(l)),PC(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:o}=this.options;if(!o)return Re();const a=o.measureViewportBox(),{scroll:l}=this.root;return l&&(Sn(a.x,l.offset.x),Sn(a.y,l.offset.y)),a}removeElementScroll(o){const a=Re();bt(a,o);for(let l=0;l<this.path.length;l++){const c=this.path[l],{scroll:u,options:d}=c;if(c!==this.root&&u&&d.layoutScroll){if(u.isRoot){bt(a,o);const{scroll:h}=this.root;h&&(Sn(a.x,-h.offset.x),Sn(a.y,-h.offset.y))}Sn(a.x,u.offset.x),Sn(a.y,u.offset.y)}}return a}applyTransform(o,a=!1){const l=Re();bt(l,o);for(let c=0;c<this.path.length;c++){const u=this.path[c];!a&&u.options.layoutScroll&&u.scroll&&u!==u.root&&es(l,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),li(u.latestValues)&&es(l,u.latestValues)}return li(this.latestValues)&&es(l,this.latestValues),l}removeTransform(o){const a=Re();bt(a,o);for(let l=0;l<this.path.length;l++){const c=this.path[l];if(!c.instance||!li(c.latestValues))continue;ju(c.latestValues)&&c.updateSnapshot();const u=Re(),d=c.measurePageBox();bt(u,d),Wp(a,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,u)}return li(this.latestValues)&&Wp(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Ue.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var a;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==l;if(!(o||c&&this.isSharedProjectionDirty||this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:d,layoutId:h}=this.options;if(!(!this.layout||!(d||h))){if(this.resolvedRelativeTargetAt=Ue.timestamp,!this.targetDelta&&!this.relativeTarget){const f=this.getClosestProjectingParent();f&&f.layout&&this.animationProgress!==1?(this.relativeParent=f,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Re(),this.relativeTargetOrigin=Re(),ur(this.relativeTargetOrigin,this.layout.layoutBox,f.layout.layoutBox),bt(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=Re(),this.targetWithTransforms=Re()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),CP(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):bt(this.target,this.layout.layoutBox),sx(this.target,this.targetDelta)):bt(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const f=this.getClosestProjectingParent();f&&!!f.resumingFrom==!!this.resumingFrom&&!f.options.layoutScroll&&f.target&&this.animationProgress!==1?(this.relativeParent=f,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Re(),this.relativeTargetOrigin=Re(),ur(this.relativeTargetOrigin,this.target,f.target),bt(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}ci.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||ju(this.parent.latestValues)||ix(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const a=this.getLead(),l=!!this.resumingFrom||this!==a;let c=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(c=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===Ue.timestamp&&(c=!1),c)return;const{layout:u,layoutId:d}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||d))return;bt(this.layoutCorrected,this.layout.layoutBox);const h=this.treeScale.x,f=this.treeScale.y;IP(this.layoutCorrected,this.treeScale,this.path,l),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox);const{target:p}=a;if(!p){this.projectionTransform&&(this.projectionDelta=Ji(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=Ji(),this.projectionDeltaWithTransform=Ji());const g=this.projectionTransform;cr(this.projectionDelta,this.layoutCorrected,p,this.latestValues),this.projectionTransform=Yp(this.projectionDelta,this.treeScale),(this.projectionTransform!==g||this.treeScale.x!==h||this.treeScale.y!==f)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",p)),ci.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),o){const a=this.getStack();a&&a.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(o,a=!1){const l=this.snapshot,c=l?l.latestValues:{},u={...this.latestValues},d=Ji();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const h=Re(),f=l?l.source:void 0,p=this.layout?this.layout.source:void 0,g=f!==p,x=this.getStack(),y=!x||x.members.length<=1,m=!!(g&&!y&&this.options.crossfade===!0&&!this.path.some(_C));this.animationProgress=0;let v;this.mixTargetDelta=w=>{const S=w/1e3;qp(d.x,o.x,S),qp(d.y,o.y,S),this.setTargetDelta(d),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(ur(h,this.layout.layoutBox,this.relativeParent.layout.layoutBox),SC(this.relativeTarget,this.relativeTargetOrigin,h,S),v&&tC(this.relativeTarget,v)&&(this.isProjectionDirty=!1),v||(v=Re()),bt(v,this.relativeTarget)),g&&(this.animationValues=u,GP(u,c,this.latestValues,S,m,y)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=S},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(mn(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=le.update(()=>{ta.hasAnimatedSinceResize=!0,this.currentAnimation=lC(0,Xp,{...o,onUpdate:a=>{this.mixTargetDelta(a),o.onUpdate&&o.onUpdate(a)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Xp),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:l,layout:c,latestValues:u}=o;if(!(!a||!l||!c)){if(this!==o&&this.layout&&c&&fx(this.options.animationType,this.layout.layoutBox,c.layoutBox)){l=this.target||Re();const d=yt(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+d;const h=yt(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+h}bt(a,l),es(a,u),cr(this.projectionDeltaWithTransform,this.layoutCorrected,a,u)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new nC),this.sharedNodes.get(o).add(a);const c=a.options.initialPromotionConfig;a.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:a}=this.options;return a?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:a}=this.options;return a?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:l}={}){const c=this.getStack();c&&c.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:l}=o;if((l.rotate||l.rotateX||l.rotateY||l.rotateZ)&&(a=!0),!a)return;const c={};for(let u=0;u<Kp.length;u++){const d="rotate"+Kp[u];l[d]&&(c[d]=l[d],o.setStaticValue(d,0))}o.render();for(const u in c)o.setStaticValue(u,c[u]);o.scheduleRender()}getProjectionStyles(o){var a,l;if(!this.instance||this.isSVG)return;if(!this.isVisible)return cC;const c={visibility:""},u=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,c.opacity="",c.pointerEvents=ea(o==null?void 0:o.pointerEvents)||"",c.transform=u?u(this.latestValues,""):"none",c;const d=this.getLead();if(!this.projectionDelta||!this.layout||!d.target){const g={};return this.options.layoutId&&(g.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,g.pointerEvents=ea(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!li(this.latestValues)&&(g.transform=u?u({},""):"none",this.hasProjected=!1),g}const h=d.animationValues||d.latestValues;this.applyTransformsToTarget(),c.transform=Yp(this.projectionDeltaWithTransform,this.treeScale,h),u&&(c.transform=u(h,c.transform));const{x:f,y:p}=this.projectionDelta;c.transformOrigin=`${f.origin*100}% ${p.origin*100}% 0`,d.animationValues?c.opacity=d===this?(l=(a=h.opacity)!==null&&a!==void 0?a:this.latestValues.opacity)!==null&&l!==void 0?l:1:this.preserveOpacity?this.latestValues.opacity:h.opacityExit:c.opacity=d===this?h.opacity!==void 0?h.opacity:"":h.opacityExit!==void 0?h.opacityExit:0;for(const g in Na){if(h[g]===void 0)continue;const{correct:x,applyTo:y}=Na[g],m=c.transform==="none"?h[g]:x(h[g],d);if(y){const v=y.length;for(let w=0;w<v;w++)c[y[w]]=m}else c[g]=m}return this.options.layoutId&&(c.pointerEvents=d===this?ea(o==null?void 0:o.pointerEvents)||"":"none"),c}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)===null||a===void 0?void 0:a.stop()}),this.root.nodes.forEach(Gp),this.root.sharedNodes.clear()}}}function dC(t){t.updateLayout()}function hC(t){var e;const n=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:i,measuredBox:s}=t.layout,{animationType:r}=t.options,o=n.source!==t.layout.source;r==="size"?St(d=>{const h=o?n.measuredBox[d]:n.layoutBox[d],f=yt(h);h.min=i[d].min,h.max=h.min+f}):fx(r,n.layoutBox,i)&&St(d=>{const h=o?n.measuredBox[d]:n.layoutBox[d],f=yt(i[d]);h.max=h.min+f,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[d].max=t.relativeTarget[d].min+f)});const a=Ji();cr(a,i,n.layoutBox);const l=Ji();o?cr(l,t.applyTransform(s,!0),n.measuredBox):cr(l,i,n.layoutBox);const c=!ux(a);let u=!1;if(!t.resumeFrom){const d=t.getClosestProjectingParent();if(d&&!d.resumeFrom){const{snapshot:h,layout:f}=d;if(h&&f){const p=Re();ur(p,n.layoutBox,h.layoutBox);const g=Re();ur(g,i,f.layoutBox),dx(p,g)||(u=!0),d.options.layoutRoot&&(t.relativeTarget=g,t.relativeTargetOrigin=p,t.relativeParent=d)}}}t.notifyListeners("didUpdate",{layout:i,snapshot:n,delta:l,layoutDelta:a,hasLayoutChanged:c,hasRelativeTargetChanged:u})}else if(t.isLead()){const{onExitComplete:i}=t.options;i&&i()}t.options.transition=void 0}function fC(t){ci.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function pC(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function mC(t){t.clearSnapshot()}function Gp(t){t.clearMeasurements()}function gC(t){t.isLayoutDirty=!1}function yC(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function Qp(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function vC(t){t.resolveTargetDelta()}function xC(t){t.calcProjection()}function bC(t){t.resetRotation()}function wC(t){t.removeLeadSnapshot()}function qp(t,e,n){t.translate=ve(e.translate,0,n),t.scale=ve(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function Zp(t,e,n,i){t.min=ve(e.min,n.min,i),t.max=ve(e.max,n.max,i)}function SC(t,e,n,i){Zp(t.x,e.x,n.x,i),Zp(t.y,e.y,n.y,i)}function _C(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const kC={duration:.45,ease:[.4,0,.1,1]},Jp=t=>typeof navigator<"u"&&navigator.userAgent.toLowerCase().includes(t),em=Jp("applewebkit/")&&!Jp("chrome/")?Math.round:ke;function tm(t){t.min=em(t.min),t.max=em(t.max)}function PC(t){tm(t.x),tm(t.y)}function fx(t,e,n){return t==="position"||t==="preserve-aspect"&&!Iu(Up(e),Up(n),.2)}const CC=hx({attachResizeListener:(t,e)=>sn(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),vc={current:void 0},px=hx({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!vc.current){const t=new CC({});t.mount(window),t.setOptions({layoutScroll:!0}),vc.current=t}return vc.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),MC={pan:{Feature:WP},drag:{Feature:HP,ProjectionNode:px,MeasureLayout:ax}},TC=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function EC(t){const e=TC.exec(t);if(!e)return[,];const[,n,i]=e;return[n,i]}function Fu(t,e,n=1){const[i,s]=EC(t);if(!i)return;const r=window.getComputedStyle(e).getPropertyValue(i);if(r){const o=r.trim();return Qv(o)?parseFloat(o):o}else return Tu(s)?Fu(s,e,n+1):s}function RC(t,{...e},n){const i=t.current;if(!(i instanceof Element))return{target:e,transitionEnd:n};n&&(n={...n}),t.values.forEach(s=>{const r=s.get();if(!Tu(r))return;const o=Fu(r,i);o&&s.set(o)});for(const s in e){const r=e[s];if(!Tu(r))continue;const o=Fu(r,i);o&&(e[s]=o,n||(n={}),n[s]===void 0&&(n[s]=r))}return{target:e,transitionEnd:n}}const DC=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),mx=t=>DC.has(t),AC=t=>Object.keys(t).some(mx),nm=t=>t===Li||t===$,im=(t,e)=>parseFloat(t.split(", ")[e]),sm=(t,e)=>(n,{transform:i})=>{if(i==="none"||!i)return 0;const s=i.match(/^matrix3d\((.+)\)$/);if(s)return im(s[1],e);{const r=i.match(/^matrix\((.+)\)$/);return r?im(r[1],t):0}},LC=new Set(["x","y","z"]),OC=qr.filter(t=>!LC.has(t));function IC(t){const e=[];return OC.forEach(n=>{const i=t.getValue(n);i!==void 0&&(e.push([n,i.get()]),i.set(n.startsWith("scale")?1:0))}),e.length&&t.render(),e}const gs={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:sm(4,13),y:sm(5,14)};gs.translateX=gs.x;gs.translateY=gs.y;const NC=(t,e,n)=>{const i=e.measureViewportBox(),s=e.current,r=getComputedStyle(s),{display:o}=r,a={};o==="none"&&e.setStaticValue("display",t.display||"block"),n.forEach(c=>{a[c]=gs[c](i,r)}),e.render();const l=e.measureViewportBox();return n.forEach(c=>{const u=e.getValue(c);u&&u.jump(a[c]),t[c]=gs[c](l,r)}),t},jC=(t,e,n={},i={})=>{e={...e},i={...i};const s=Object.keys(e).filter(mx);let r=[],o=!1;const a=[];if(s.forEach(l=>{const c=t.getValue(l);if(!t.hasValue(l))return;let u=n[l],d=Ls(u);const h=e[l];let f;if(Va(h)){const p=h.length,g=h[0]===null?1:0;u=h[g],d=Ls(u);for(let x=g;x<p&&h[x]!==null;x++)f?uh(Ls(h[x])===f):f=Ls(h[x])}else f=Ls(h);if(d!==f)if(nm(d)&&nm(f)){const p=c.get();typeof p=="string"&&c.set(parseFloat(p)),typeof h=="string"?e[l]=parseFloat(h):Array.isArray(h)&&f===$&&(e[l]=h.map(parseFloat))}else d!=null&&d.transform&&(f!=null&&f.transform)&&(u===0||h===0)?u===0?c.set(f.transform(u)):e[l]=d.transform(h):(o||(r=IC(t),o=!0),a.push(l),i[l]=i[l]!==void 0?i[l]:e[l],c.jump(h))}),a.length){const l=a.indexOf("height")>=0?window.pageYOffset:null,c=NC(e,t,a);return r.length&&r.forEach(([u,d])=>{t.getValue(u).set(d)}),t.render(),wl&&l!==null&&window.scrollTo({top:l}),{target:c,transitionEnd:i}}else return{target:e,transitionEnd:i}};function VC(t,e,n,i){return AC(e)?jC(t,e,n,i):{target:e,transitionEnd:i}}const FC=(t,e,n,i)=>{const s=RC(t,e,i);return e=s.target,i=s.transitionEnd,VC(t,e,n,i)},zu={current:null},gx={current:!1};function zC(){if(gx.current=!0,!!wl)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>zu.current=t.matches;t.addListener(e),e()}else zu.current=!1}function BC(t,e,n){const{willChange:i}=e;for(const s in e){const r=e[s],o=n[s];if(ut(r))t.addValue(s,r),Ha(i)&&i.add(s);else if(ut(o))t.addValue(s,ms(r,{owner:t})),Ha(i)&&i.remove(s);else if(o!==r)if(t.hasValue(s)){const a=t.getValue(s);!a.hasAnimated&&a.set(r)}else{const a=t.getStaticValue(s);t.addValue(s,ms(a!==void 0?a:r,{owner:t}))}}for(const s in n)e[s]===void 0&&t.removeValue(s);return e}const rm=new WeakMap,yx=Object.keys(Nr),HC=yx.length,om=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],WC=th.length;class $C{constructor({parent:e,props:n,presenceContext:i,reducedMotionConfig:s,visualState:r},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>le.render(this.render,!1,!0);const{latestValues:a,renderState:l}=r;this.latestValues=a,this.baseTarget={...a},this.initialValues=n.initial?{...a}:{},this.renderState=l,this.parent=e,this.props=n,this.presenceContext=i,this.depth=e?e.depth+1:0,this.reducedMotionConfig=s,this.options=o,this.isControllingVariants=_l(n),this.isVariantNode=tv(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:c,...u}=this.scrapeMotionValuesFromProps(n,{});for(const d in u){const h=u[d];a[d]!==void 0&&ut(h)&&(h.set(a[d],!1),Ha(c)&&c.add(d))}}scrapeMotionValuesFromProps(e,n){return{}}mount(e){this.current=e,rm.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,i)=>this.bindToMotionValue(i,n)),gx.current||zC(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:zu.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){rm.delete(this.current),this.projection&&this.projection.unmount(),mn(this.notifyUpdate),mn(this.render),this.valueSubscriptions.forEach(e=>e()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features)this.features[e].unmount();this.current=null}bindToMotionValue(e,n){const i=Ai.has(e),s=n.on("change",o=>{this.latestValues[e]=o,this.props.onUpdate&&le.update(this.notifyUpdate,!1,!0),i&&this.projection&&(this.projection.isTransformDirty=!0)}),r=n.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(e,()=>{s(),r()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}loadFeatures({children:e,...n},i,s,r){let o,a;for(let l=0;l<HC;l++){const c=yx[l],{isEnabled:u,Feature:d,ProjectionNode:h,MeasureLayout:f}=Nr[c];h&&(o=h),u(n)&&(!this.features[c]&&d&&(this.features[c]=new d(this)),f&&(a=f))}if((this.type==="html"||this.type==="svg")&&!this.projection&&o){this.projection=new o(this.latestValues,this.parent&&this.parent.projection);const{layoutId:l,layout:c,drag:u,dragConstraints:d,layoutScroll:h,layoutRoot:f}=n;this.projection.setOptions({layoutId:l,layout:c,alwaysMeasureLayout:!!u||d&&qi(d),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof c=="string"?c:"both",initialPromotionConfig:r,layoutScroll:h,layoutRoot:f})}return a}updateFeatures(){for(const e in this.features){const n=this.features[e];n.isMounted?n.update():(n.mount(),n.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Re()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}makeTargetAnimatable(e,n=!0){return this.makeTargetAnimatableFromInstance(e,this.props,n)}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let i=0;i<om.length;i++){const s=om[i];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const r=e["on"+s];r&&(this.propEventSubscriptions[s]=this.on(s,r))}this.prevMotionValues=BC(this,this.scrapeMotionValuesFromProps(e,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(e=!1){if(e)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const i=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(i.initial=this.props.initial),i}const n={};for(let i=0;i<WC;i++){const s=th[i],r=this.props[s];(Ir(r)||r===!1)&&(n[s]=r)}return n}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){n!==this.values.get(e)&&(this.removeValue(e),this.bindToMotionValue(e,n)),this.values.set(e,n),this.latestValues[e]=n.get()}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let i=this.values.get(e);return i===void 0&&n!==void 0&&(i=ms(n,{owner:this}),this.addValue(e,i)),i}readValue(e){var n;return this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(n=this.getBaseTargetFromProps(this.props,e))!==null&&n!==void 0?n:this.readValueFromInstance(this.current,e,this.options)}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:i}=this.props,s=typeof i=="string"||typeof i=="object"?(n=ch(this.props,i))===null||n===void 0?void 0:n[e]:void 0;if(i&&s!==void 0)return s;const r=this.getBaseTargetFromProps(this.props,e);return r!==void 0&&!ut(r)?r:this.initialValues[e]!==void 0&&s===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new xh),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class vx extends $C{sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:i}){delete n[e],delete i[e]}makeTargetAnimatableFromInstance({transition:e,transitionEnd:n,...i},{transformValues:s},r){let o=aP(i,e||{},this);if(s&&(n&&(n=s(n)),i&&(i=s(i)),o&&(o=s(o))),r){rP(this,i,o);const a=FC(this,i,o,n);n=a.transitionEnd,i=a.target}return{transition:e,transitionEnd:n,...i}}}function UC(t){return window.getComputedStyle(t)}class YC extends vx{constructor(){super(...arguments),this.type="html"}readValueFromInstance(e,n){if(Ai.has(n)){const i=ph(n);return i&&i.default||0}else{const i=UC(e),s=(rv(n)?i.getPropertyValue(n):i[n])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(e,{transformPagePoint:n}){return rx(e,n)}build(e,n,i,s){sh(e,n,i,s.transformTemplate)}scrapeMotionValuesFromProps(e,n){return lh(e,n)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;ut(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}renderInstance(e,n,i,s){dv(e,n,i,s)}}class KC extends vx{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Ai.has(n)){const i=ph(n);return i&&i.default||0}return n=hv.has(n)?n:Jd(n),e.getAttribute(n)}measureInstanceViewportBox(){return Re()}scrapeMotionValuesFromProps(e,n){return pv(e,n)}build(e,n,i,s){oh(e,n,i,this.isSVGTag,s.transformTemplate)}renderInstance(e,n,i,s){fv(e,n,i,s)}mount(e){this.isSVGTag=ah(e.tagName),super.mount(e)}}const XC=(t,e)=>ih(t)?new KC(e,{enableHardwareAcceleration:!1}):new YC(e,{enableHardwareAcceleration:!0}),GC={layout:{ProjectionNode:px,MeasureLayout:ax}},QC={...SP,...H_,...MC,...GC},oe=qS((t,e)=>E_(t,e,QC,XC));function xx(){const t=_.useRef(!1);return Zd(()=>(t.current=!0,()=>{t.current=!1}),[]),t}function qC(){const t=xx(),[e,n]=_.useState(0),i=_.useCallback(()=>{t.current&&n(e+1)},[e]);return[_.useCallback(()=>le.postRender(i),[i]),e]}class ZC extends _.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const i=this.props.sizeRef.current;i.height=n.offsetHeight||0,i.width=n.offsetWidth||0,i.top=n.offsetTop,i.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function JC({children:t,isPresent:e}){const n=_.useId(),i=_.useRef(null),s=_.useRef({width:0,height:0,top:0,left:0});return _.useInsertionEffect(()=>{const{width:r,height:o,top:a,left:l}=s.current;if(e||!i.current||!r||!o)return;i.current.dataset.motionPopId=n;const c=document.createElement("style");return document.head.appendChild(c),c.sheet&&c.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${r}px !important;
            height: ${o}px !important;
            top: ${a}px !important;
            left: ${l}px !important;
          }
        `),()=>{document.head.removeChild(c)}},[e]),_.createElement(ZC,{isPresent:e,childRef:i,sizeRef:s},_.cloneElement(t,{ref:i}))}const xc=({children:t,initial:e,isPresent:n,onExitComplete:i,custom:s,presenceAffectsLayout:r,mode:o})=>{const a=mv(eM),l=_.useId(),c=_.useMemo(()=>({id:l,initial:e,isPresent:n,custom:s,onExitComplete:u=>{a.set(u,!0);for(const d of a.values())if(!d)return;i&&i()},register:u=>(a.set(u,!1),()=>a.delete(u))}),r?void 0:[n]);return _.useMemo(()=>{a.forEach((u,d)=>a.set(d,!1))},[n]),_.useEffect(()=>{!n&&!a.size&&i&&i()},[n]),o==="popLayout"&&(t=_.createElement(JC,{isPresent:n},t)),_.createElement(bl.Provider,{value:c},t)};function eM(){return new Map}function tM(t){return _.useEffect(()=>()=>t(),[])}const ui=t=>t.key||"";function nM(t,e){t.forEach(n=>{const i=ui(n);e.set(i,n)})}function iM(t){const e=[];return _.Children.forEach(t,n=>{_.isValidElement(n)&&e.push(n)}),e}const sM=({children:t,custom:e,initial:n=!0,onExitComplete:i,exitBeforeEnter:s,presenceAffectsLayout:r=!0,mode:o="sync"})=>{const a=_.useContext(nh).forceRender||qC()[0],l=xx(),c=iM(t);let u=c;const d=_.useRef(new Map).current,h=_.useRef(u),f=_.useRef(new Map).current,p=_.useRef(!0);if(Zd(()=>{p.current=!1,nM(c,f),h.current=u}),tM(()=>{p.current=!0,f.clear(),d.clear()}),p.current)return _.createElement(_.Fragment,null,u.map(m=>_.createElement(xc,{key:ui(m),isPresent:!0,initial:n?void 0:!1,presenceAffectsLayout:r,mode:o},m)));u=[...u];const g=h.current.map(ui),x=c.map(ui),y=g.length;for(let m=0;m<y;m++){const v=g[m];x.indexOf(v)===-1&&!d.has(v)&&d.set(v,void 0)}return o==="wait"&&d.size&&(u=[]),d.forEach((m,v)=>{if(x.indexOf(v)!==-1)return;const w=f.get(v);if(!w)return;const S=g.indexOf(v);let C=m;if(!C){const P=()=>{d.delete(v);const k=Array.from(f.keys()).filter(M=>!x.includes(M));if(k.forEach(M=>f.delete(M)),h.current=c.filter(M=>{const T=ui(M);return T===v||k.includes(T)}),!d.size){if(l.current===!1)return;a(),i&&i()}};C=_.createElement(xc,{key:ui(w),isPresent:!1,onExitComplete:P,custom:e,presenceAffectsLayout:r,mode:o},w),d.set(v,C)}u.splice(S,0,C)}),u=u.map(m=>{const v=m.key;return d.has(v)?m:_.createElement(xc,{key:ui(m),isPresent:!0,presenceAffectsLayout:r,mode:o},m)}),_.createElement(_.Fragment,null,d.size?u:u.map(m=>_.cloneElement(m)))};function rM(){const t=vl(),[e,n]=_.useState(""),[i,s]=_.useState(!1),[r,o]=_.useState(!0),[a,l]=_.useState(!1);_.useEffect(()=>{const h=localStorage.getItem("chatHistory"),f=localStorage.getItem("userName");f&&n(f),h&&s(!0);const p=setTimeout(()=>{o(!1)},800);return()=>clearTimeout(p)},[]),_.useEffect(()=>{const h=setInterval(()=>{l(!0),setTimeout(()=>l(!1),2e3)},1e4);return()=>clearInterval(h)},[]);const c={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{type:"spring",stiffness:250,damping:20,delay:.3}},hover:{y:-5,boxShadow:"0 10px 25px rgba(0, 0, 0, 0.12)"}},u={hidden:{opacity:0,y:10},visible:h=>({opacity:1,y:0,transition:{type:"spring",stiffness:250,damping:20,delay:.6+h*.1}}),hover:{scale:1.05,transition:{duration:.2}},tap:{scale:.95}},d={normal:{rotate:0,scale:1},wave:{rotate:[0,10,-10,10,0],scale:[1,1.1,1.1,1.1,1],transition:{duration:1.5}}};return r?b.jsx("div",{className:"min-h-screen flex items-center justify-center",children:b.jsxs("div",{className:"loader-container",children:[b.jsx("div",{className:"spinner"}),b.jsx("p",{className:"mt-4 text-primary-color",children:"טוען את האפליקציה..."})]})}):b.jsxs(oe.div,{initial:{opacity:0},animate:{opacity:1},className:"min-h-screen flex flex-col justify-center items-center py-8 px-4",children:[b.jsxs(oe.div,{variants:c,initial:"hidden",animate:"visible",whileHover:"hover",className:"card-modern w-full max-w-md mb-8",children:[b.jsxs("div",{className:"card-header-gradient relative overflow-hidden",children:[b.jsx(oe.div,{className:"absolute inset-0 bg-blue-600 opacity-20",animate:{background:["radial-gradient(circle at 20% 20%, rgba(255, 255, 255, 0.3) 0%, rgba(255, 255, 255, 0) 70%)","radial-gradient(circle at 80% 80%, rgba(255, 255, 255, 0.3) 0%, rgba(255, 255, 255, 0) 70%)"]},transition:{duration:8,repeat:1/0,repeatType:"reverse"}}),b.jsxs("div",{className:"relative z-10 py-6",children:[b.jsxs(oe.div,{className:"mb-4 relative mx-auto w-32 h-32",variants:d,animate:a?"wave":"normal",children:[b.jsx("div",{className:"avatar-modern avatar-modern-xl overflow-hidden",children:b.jsx("img",{src:"/src/assets/soldierWithPins.png",alt:"חיילת",className:"w-full h-full object-cover"})}),b.jsx("div",{className:"absolute -top-1 -right-1 bg-green-500 w-4 h-4 rounded-full border-2 border-white"})]}),b.jsx("h1",{className:"text-2xl font-bold mb-1 text-white",children:e?`ברוך שובך, ${e}!`:"ברוכים הבאים לחיילתAI"}),b.jsx("p",{className:"text-gray-100 text-sm",children:'מערכת תמיכה נפשית לחיילים ומשרתי צה"ל'})]})]}),b.jsxs("div",{className:"card-content",children:[b.jsxs("p",{className:"text-center mb-6",children:["האפליקציה כאן כדי לבדוק מה שלומך כל יום, להקשיב, לאבחן ולהציע עזרה במידת הצורך.",b.jsx("span",{className:"block mt-2 text-primary-color font-medium",children:"יחד דואגים שאף אחד לא נשאר לבד 💙"})]}),b.jsxs("div",{className:"flex flex-col gap-4",children:[b.jsxs(oe.button,{variants:u,custom:0,initial:"hidden",animate:"visible",whileHover:"hover",whileTap:"tap",onClick:()=>t("/chat"),className:"btn-modern btn-primary-modern w-full",children:[b.jsx("span",{className:"text-xl",children:"💬"}),i?"המשך שיחה":"התחל שיחה"]}),b.jsxs(oe.button,{variants:u,custom:1,initial:"hidden",animate:"visible",whileHover:"hover",whileTap:"tap",onClick:()=>t("/assessment"),className:"btn-modern btn-secondary-modern w-full",children:[b.jsx("span",{className:"text-xl",children:"📋"}),"הערכת מצב יומית"]}),i&&b.jsxs(oe.button,{variants:u,custom:2,initial:"hidden",animate:"visible",whileHover:"hover",whileTap:"tap",onClick:()=>t("/stats"),className:"btn-modern btn-outline-modern w-full",children:[b.jsx("span",{className:"text-xl",children:"📊"}),"היסטוריה וסטטיסטיקות"]})]})]}),b.jsx("div",{className:"card-footer flex justify-center",children:b.jsxs("div",{className:"flex space-x-2 rtl:space-x-reverse",children:[b.jsx("span",{className:"badge-modern badge-primary-modern badge-modern-pill",children:"AI"}),b.jsx("span",{className:"badge-modern badge-secondary-modern badge-modern-pill",children:'צה"ל'}),b.jsx("span",{className:"badge-modern badge-success-modern badge-modern-pill",children:"תמיכה נפשית"})]})})]}),b.jsxs(oe.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:1.2},className:"glass-effect p-3 rounded-lg text-center text-sm text-gray-600 max-w-md",children:[b.jsxs("div",{className:"flex items-center justify-center gap-2 mb-1",children:[b.jsx("span",{className:"w-2 h-2 bg-green-500 rounded-full"}),b.jsx("p",{children:'פיתוח ע"י צוות חיילתAI - כל הנתונים נשמרים באופן מאובטח'})]}),b.jsxs("p",{className:"text-xs opacity-75",children:["גרסה 1.0 - עדכון אחרון: ",new Date().toLocaleDateString()]})]})]})}class oM{constructor(){this.apiKey="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",this.conversationHistory=[],this.lastResponses=[],this.isFirstMessage=!0,this.userInfo={name:"",role:"",lastSentiment:"neutral",emotionalState:"normal",personalDetails:{},topicsDiscussed:[],warningFlags:[],contactRecommended:!1,sessionStartTime:new Date().toISOString()},console.log("🚀 AIService נטען!"),this.loadFromLocalStorage(),this.distressKeywords={severe:["אובדני","להתאבד","לא רוצה לחיות","אין טעם בחיים","עדיף למות","אני רוצה למות","לגמור עם הכל","לשים קץ","לפגוע בעצמי","אין סיבה לחיות"],moderate:["דיכאון","חרדה","פוסט-טראומה","פלאשבק","הלם קרב","לא יכול יותר","מצוקה","מדוכא","אין לי כוח","לא מסוגל","סיוטים","טראומה","חרדות"],mild:["עצוב","לחוץ","מתוח","קשה לי","עייף","בודד","לבד","געגועים","מתגעגע","לא נרדם","מפחד","חושש","דואג","מוטרד"]},this.emotionKeywords={happy:["שמח","מרוצה","נהנה","אוהב","מצוין","טוב","נפלא","נהדר","מאושר","מתרגש"],sad:["עצוב","מדוכא","נעלב","אכזבה","אומלל","לא טוב","רע","מדוכדך","שבור"],angry:["כועס","זועם","עצבני","מתוסכל","מתעצבן","מעצבן","נמאס לי","מרגיז"],fearful:["מפחד","חושש","חרד","מודאג","מבוהל","דואג","חרדה","פאניקה"],surprised:["מופתע","המום","לא מאמין","וואו","מדהים","מזעזע","לא ציפיתי"],disgusted:["גועל","דוחה","מגעיל","סלידה","בחילה"],tired:["עייף","מותש","תשוש","אין כוח","סחוט","מותש","צריך לישון"]},this.topicKeywords={family:["משפחה","אמא","אבא","אח","אחות","ילדים","הורים","בית","אישה","בעל","חברה","זוגיות"],military:["צבא",'צה"ל',"שירות","מפקד","קצין","חייל","חיילת","מילואים","מבצע","קרבי","יחידה","בסיס"],relationships:["זוגיות","חברה","חבר","אהבה","יחסים","רומנטי","דייט","נישואין","פרידה","גירושין"],health:["בריאות","כואב","רופא","תרופה","טיפול","כאב","חולה","פציעה","פרוצדורה","ניתוח"],sleep:["שינה","ישן","נרדם","לישון","ערני","עייף","מיטה","להירדם","נדודי שינה","סיוטים"],career:["עבודה","קריירה","לימודים","תפקיד","משרה","השכלה","אוניברסיטה","הכשרה","קידום"],mentalHealth:["מתח","לחץ","חרדה","דיכאון","מצב רוח","טיפול","נפשי","פסיכולוג",'קב"ן',"מרגיש"]},this._initializeResponseTemplates()}_initializeResponseTemplates(){this.responseTemplates={greeting:["היי! איך אתה מרגיש היום?","שלום! מה שלומך היום?","ברוך הבא חזרה! איך עובר עליך היום?","נעים לראות אותך! איך אתה מרגיש?","בוקר טוב/צהריים טובים/ערב טוב! איך מתחיל/עובר/מסתיים היום שלך?","היי שם! איך הולך?"],nameAcknowledgement:["{name}, נעים להכיר אותך! איך אוכל לעזור היום?","תודה ששיתפת, {name}! איך אתה מרגיש היום?","נעים להכיר, {name}! ספר לי קצת על עצמך.","{name}, שם יפה! איך אני יכולה לתמוך בך היום?","שמחה להכיר אותך, {name}! מה מעסיק אותך לאחרונה?"],positiveFeedback:["אני שמחה לשמוע שאתה מרגיש טוב!","זה נהדר לשמוע, {name}!","איזה יופי! משמח לשמוע.","זה ממש חדשות טובות!","כיף לשמוע שאתה במצב רוח טוב!"],negativeFeedback:["אני מצטערת לשמוע שקשה לך. רוצה לספר לי יותר?","זה נשמע לא פשוט, {name}. אני כאן בשבילך.","קשה להתמודד עם תחושות כאלה. אתה רוצה לדבר על זה?","אני מבינה שזה קשה. מה עוזר לך להתמודד בדרך כלל?","תודה ששיתפת אותי בתחושות שלך. רוצה לספר לי מה גורם לך להרגיש כך?"],neutralResponse:["אני מבינה. איך אני יכולה לעזור לך היום?","תודה ששיתפת. יש משהו ספציפי שהיית רוצה לדבר עליו?","אוקיי, {name}. על מה היית רוצה להתייעץ היום?","אני כאן בשבילך. על מה נדבר היום?","הבנתי. איך אתה מרגיש עם זה?"],askingMore:["תוכל לספר לי עוד על זה?","מעניין, אשמח לשמוע יותר.","איך זה משפיע עליך ביום-יום?","מה עוד קורה בהקשר הזה?","{name}, תוכל להרחיב על הנקודה הזו?","מה גורם לך להרגיש ככה?"],support:["אני כאן בשבילך, {name}.","אתה לא לבד בהתמודדות הזו.","אני מקשיבה ומבינה אותך.","תודה שאתה משתף אותי, זה אומץ אמיתי.","אני מעריכה את הכנות שלך."],sleepIssues:[`שינה טובה חיונית לבריאות הנפשית והפיזית. הנה כמה טכניקות שיכולות לעזור:

• שגרת לילה קבועה - לך לישון ותקום באותה שעה
• הימנע ממסכים (טלפון, מחשב) לפחות שעה לפני השינה
• תרגילי נשימה עמוקה יכולים לעזור להירגע
• סביבה חשוכה ושקטה
• הימנע מקפאין אחר הצהריים

האם ניסית חלק מהטיפים האלה?`,`קשיי שינה נפוצים מאוד בקרב חיילים. {name}, אתה יכול לנסות:

1. שגרת ערב קבועה
2. כתיבת מחשבות מטרידות לפני השינה
3. הפחתת קפאין ואלכוהול
4. תרגילי נשימה והרפיה

מה בדרך כלל עוזר לך להירדם?`,`נדודי שינה יכולים להיות מתסכלים מאוד. כמה דברים שכדאי לנסות:

• תרגול הרפיית שרירים הדרגתית מכף רגל ועד ראש
• האזנה לקולות רקע מרגיעים
• שתיית חליטת צמחים מרגיעה (קמומיל, לבנדר)
• קריאה קלילה לפני השינה

איזה מהטיפים האלה נשמע לך הכי מתאים לנסות?`],anxietyHelp:[`כשאתה מרגיש חרדה, אפשר לנסות את שיטת 5-4-3-2-1:
• מצא 5 דברים שאתה רואה
• 4 דברים שאתה יכול לגעת בהם
• 3 דברים שאתה שומע
• 2 דברים שאתה מריח
• 1 דבר שאתה טועם

זה יכול לעזור להחזיר אותך לרגע הנוכחי. האם תרצה לנסות את זה עכשיו?`,`חרדה יכולה להיות מאוד מאתגרת, {name}. טכניקת נשימה פשוטה שיכולה לעזור היא 4-7-8:
• שאיפה דרך האף לספירה של 4
• עצירת הנשימה לספירה של 7
• נשיפה איטית דרך הפה לספירה של 8
• חזרה על התהליך 3-5 פעמים

זה יכול לעזור להרגיע את מערכת העצבים שלך.`,`כשאתה מרגיש חרדה, אפשר לנסות עיגון פיזי:
• הרגש את הרגליים שלך על הרצפה
• הישען על משטח מוצק כמו קיר או כיסא
• החזק משהו קר (כמו קוביית קרח) או משהו בעל מרקם מיוחד

אלו שיטות שעוזרות להחזיר את המיקוד לגוף ולרגע הנוכחי. מה עוזר לך להתמודד עם חרדה?`],homesickness:["געגועים לבית ולמשפחה הם חלק טבעי לגמרי מהשירות הצבאי, {name}. רבים מרגישים כך. האם אתה מצליח לשמור על קשר באופן קבוע עם המשפחה? לפעמים אפילו שיחה קצרה יכולה לעשות פלאים למצב הרוח.","הגעגועים למשפחה ולחברים יכולים להיות קשים מאוד. משהו שעוזר לרבים הוא לשתף את החברים ליחידה בתחושות - סביר להניח שהם מרגישים בדיוק כמוך. האם יש לך חברים קרובים ביחידה שאתה יכול לדבר איתם?","געגועים הם ביטוי לאהבה ולקשרים החזקים שיש לך, {name}. דרך טובה להתמודד היא ליצור 'פינת בית' קטנה אפילו בתנאים הצבאיים - תמונה, פריט אישי, או כל דבר שמזכיר לך את הבית. האם יש לך פריטים כאלה איתך?"],followUp:["איך עובר עליך היום, {name}?","מה שלומך מאז שדיברנו לאחרונה?","האם הדברים שדיברנו עליהם בשיחה הקודמת עזרו במשהו?","איך הרגשת אחרי השיחה שלנו?","אני שמחה לראות אותך שוב. איך היית מאז ששוחחנו?"],distress:{severe:['{name}, אני מודאגת ממה שאתה משתף איתי. אני רוצה שתדע שאתה לא לבד, ויש אנשים שאכפת להם ממך ויכולים לעזור. האם תסכים לדבר עם הקב"ן או לפנות למוקד נט"ל בטלפון 1-800-363-363 שפעיל 24/7?',"תודה ששיתפת אותי בתחושות הקשות שלך. זה מעיד על אומץ רב. אני חושבת שחשוב מאוד שתדבר עם איש מקצוע בהקדם. האם אתה מוכן לפנות לעזרה מקצועית? אני יכולה לעזור לך לחשוב איך לעשות את זה בצורה הנוחה ביותר עבורך.",'אני שומעת שאתה במצוקה עמוקה, ואני רוצה לעזור לך, {name}. במצבים כאלה, חשוב מאוד לדבר עם מישהו שיכול לספק תמיכה מקצועית. האם תסכים לפנות לקב"ן או למפקד שלך כדי לקבל עזרה?'],moderate:['אני שומעת שאתה עובר תקופה מאתגרת, {name}. האם שקלת לדבר עם הקב"ן או גורם מקצועי אחר? הם מיומנים בעזרה במצבים כאלו.',"תודה ששיתפת את התחושות האלה איתי. תחושות כאלה יכולות להיות מאוד מציפות. לפעמים, שיחה עם איש מקצוע יכולה לתת כלים נוספים להתמודדות. האם חשבת על אפשרות כזו?","מה שאתה מתאר נשמע קשה להתמודדות לבד. האם יש לך מישהו קרוב - חבר, בן משפחה או איש מקצוע - שאתה יכול לשתף? לפעמים שיתוף יכול להקל משמעותית."],mild:["נשמע שאתה מתמודד עם לא מעט קשיים לאחרונה. האם יש משהו ספציפי שאני יכולה לעזור לך לחשוב עליו?","תקופות של קושי הן חלק מהחיים, אבל זה לא אומר שצריך להתמודד לבד. מה עוזר לך להרגיש טוב יותר בדרך כלל?","אני מבינה שזה לא קל עכשיו. האם יש מישהו שאתה יכול לדבר איתו על התחושות האלה? לפעמים שיתוף עם אדם קרוב יכול להקל משמעותית."]}},this.topicResponses={military:["השירות הצבאי יכול להיות מאתגר ומתגמל כאחד. איך אתה מתמודד עם האתגרים של השירות?","החוויה הצבאית שונה עבור כל אחד. האם יש משהו ספציפי בשירות שלך שאתה מתמודד איתו עכשיו?","יחסים עם מפקדים וחברים ליחידה יכולים להשפיע מאוד על חווית השירות. איך היחסים שלך עם האנשים ביחידה?"],family:["המשפחה היא עוגן חשוב, במיוחד בתקופות מאתגרות. כמה פעמים אתה מצליח להיות בקשר עם המשפחה?","הקשר עם המשפחה יכול להיות מקור לתמיכה ולפעמים גם למתח. איך המשפחה שלך מתייחסת לשירות שלך?","געגועים למשפחה הם טבעיים לגמרי. האם מצאת דרכים לשמור על קשר משמעותי למרות המרחק?"],relationships:["מערכות יחסים בזמן השירות הצבאי יכולות להיות מורכבות. האם יש לך מערכת יחסים עכשיו? איך אתם מתמודדים עם השירות?","לשמר קשר זוגי במהלך השירות דורש מאמץ מיוחד. מה עוזר לכם לשמור על הקשר?","לפעמים האתגרים של השירות יכולים להשפיע על היחסים. האם השירות משפיע על הקשרים האישיים שלך?"],health:["בריאות פיזית משפיעה מאוד על המצב הנפשי. איך אתה שומר על הבריאות שלך במהלך השירות?","כאבים או פציעות יכולים להשפיע מאוד על החוויה הצבאית. האם יש לך גישה לטיפול רפואי כשאתה צריך?","שמירה על אורח חיים בריא בצבא יכולה להיות אתגר. האם אתה מצליח לשמור על תזונה נכונה ופעילות גופנית?"],sleep:["שינה טובה היא אחד הדברים החשובים ביותר לבריאות הנפשית והפיזית. האם אתה מצליח לישון מספיק?","קשיי שינה נפוצים מאוד במהלך השירות הצבאי. האם יש משהו ספציפי שמפריע לך לישון?","סדר יום לא קבוע יכול להשפיע מאוד על איכות השינה. האם יש לך שגרת לילה כלשהי שעוזרת לך להירדם?"],mentalHealth:["לחץ ומתח הם חלק בלתי נפרד מהשירות הצבאי. מה עוזר לך להתמודד עם המתח?","שמירה על בריאות נפשית חשובה לא פחות מבריאות פיזית. האם אתה עושה דברים שעוזרים לך לשמור על איזון נפשי?","לפעמים קשה לשים לב לשינויים במצב הרוח. האם שמת לב לשינויים במצב הרוח שלך לאחרונה?"]},this.introductionResponses=["היי! אני חיילתAI. בוא נתחיל בשיחה קצרה להכיר אותך 😊 איך אתה מרגיש היום?","ברוך הבא! אני כאן כדי לתמוך בך. אשמח להכיר אותך טוב יותר. איך קוראים לך?","שלום! נעים להכיר. אני חיילתAI, האסיסטנטית הדיגיטלית שתלווה אותך. איך עובר עליך היום?","היי שם! חיילתAI לשירותך. אני כאן כדי להקשיב, לתמוך ולעזור. איך אתה מרגיש היום?","ברוכים הבאים לחיילתAI! אני אסיסטנטית דיגיטלית שנועדה לתמוך בך במהלך השירות. נעים להכיר, איך אפשר לקרוא לך?"],this.nameAskingResponses=["אשמח להכיר אותך טוב יותר. איך קוראים לך?","עוד לא יצא לי לשמוע את השם שלך. איך אתה מעדיף שאקרא לך?","לפני שנמשיך בשיחה, איך תרצה שאפנה אליך?","אני מרגישה שהשיחה שלנו תהיה יותר אישית אם אדע את שמך. איך קוראים לך?","אני חושבת שהגיע הזמן שאכיר אותך בשמך. איך אוכל לקרוא לך?"],this.greetingResponses=["היי! איך אתה מרגיש היום?","שלום! מה שלומך היום?","ברוך הבא חזרה! איך עובר עליך היום?","נעים לראות אותך שוב! איך מתחיל היום שלך?","שלום שלום! מה חדש אצלך?","היי שם! איך הולך היום?"]}loadFromLocalStorage(){try{const e=localStorage.getItem("userInfo");e&&(this.userInfo={...this.userInfo,...JSON.parse(e)},console.log("✅ טעינת מידע משתמש מ-localStorage:",this.userInfo));const n=localStorage.getItem("conversationHistory");n?(this.conversationHistory=JSON.parse(n),console.log(`✅ טעינת היסטוריית שיחה מ-localStorage: ${this.conversationHistory.length} הודעות`),this.conversationHistory.length>0&&(this.isFirstMessage=!1)):console.log("⚠️ לא נמצאה היסטוריית שיחה ב-localStorage")}catch(e){console.warn("❌ שגיאה בטעינה מ-localStorage:",e)}}saveToLocalStorage(){try{localStorage.setItem("userInfo",JSON.stringify(this.userInfo)),localStorage.setItem("conversationHistory",JSON.stringify(this.conversationHistory)),console.log("✅ מידע נשמר ב-localStorage")}catch(e){console.warn("❌ שגיאה בשמירה ל-localStorage:",e)}}initializeChat(e="",n="חייל סדיר",i="neutral"){console.log("🔄 מאתחל שיחה חדשה עם:",{userName:e,role:n,sentiment:i});const s=this.introductionResponses[Math.floor(Math.random()*this.introductionResponses.length)];return this.conversationHistory=[{role:"system",content:this.getSystemPrompt(e,n,i)},{role:"assistant",content:s}],this.userInfo={name:e,role:n,lastSentiment:i,emotionalState:"normal",personalDetails:{},topicsDiscussed:[],warningFlags:[],contactRecommended:!1,sessionStartTime:new Date().toISOString()},this.isFirstMessage=!0,this.lastResponses=[],this.saveToLocalStorage(),this.conversationHistory[1].content}updateUserInfo(e={}){return console.log("🔄 מעדכן מידע משתמש:",e),this.userInfo={...this.userInfo,...e},this.saveToLocalStorage(),this.checkIfProfessionalHelpNeeded(),this.userInfo}getSystemPrompt(e,n,i){return`
    אתה חיילתAI - מערכת תמיכה נפשית לחיילים בצה"ל (צבא ההגנה לישראל). 
    אתה מדבר בעברית בלבד ומשתמש בשפה ידידותית, אמפתית וברורה.
    ${e?`שם המשתמש הוא ${e}.`:""}
    ${n?`הוא ${n}.`:""}

    מטרתך:
    1. להקשיב לחיילים ולספק תמיכה רגשית ראשונית
    2. לזהות סימני מצוקה נפשית ולהציע עזרה
    3. לעודד שיחה פתוחה על קשיים וחוויות
    4. להציע אסטרטגיות התמודדות פרקטיות ומותאמות אישית
    5. להפנות לעזרה מקצועית (קב"ן) במקרה הצורך

    הנחיות חשובות לשיחה טבעית:
    - עליך לדבר כמו אדם אמיתי, עם אמפתיה וחום, ולא כמו בוט
    - מדבר בעברית פשוטה וטבעית, בגוף שני
    - מגיב באופן ספציפי לתוכן שהמשתמש שיתף, תוך שימוש בפרטים מהשיחה
    - משתמש בשם המשתמש באופן טבעי מדי פעם (אם ידוע)
    - מציג סקרנות, שואל שאלות פתוחות ומעמיקות
    - נותן מרחב לשיתוף רגשות ומחשבות
    - מציע פתרונות מעשיים ואסטרטגיות התמודדות
    - נמנע מתשובות שחוקות או גנריות
    - אם המשתמש שואל שאלה, עונה באופן ישיר ואחר כך מעמיק
    - משתמש במשפטים קצרים וברורים, והימנע ממשפטים מסורבלים
    - מציג ערנות והתעניינות אמיתית

    נושאים חשובים לשים לב:
    - שינה וערנות
    - חרדה, מתח ודרכי התמודדות
    - געגועים למשפחה וחברים
    - יחסים ביחידה ומול המפקדים
    - מוטיבציה ותחושת משמעות
    - התמודדות עם קשיים במהלך השירות
    - סימני מצוקה נפשית או תשישות קרב

    דרכי תגובה במצבי מצוקה:
    - מצוקה קלה: הקשבה אמפתית והצעת טכניקות להתמודדות
    - מצוקה בינונית: הקשבה, תמיכה וציון שקב"ן יכול לעזור
    - מצוקה חמורה (דיבור על פגיעה עצמית, אובדנות): עידוד מידי לפנייה לקב"ן/מפקד/נט"ל

    זכור תמיד שאתה לא איש מקצוע בתחום בריאות הנפש, אלא כלי תמיכה ראשוני.
    
    תמיד ענה בעברית, גם אם פונים אליך באנגלית או בשפה אחרת.
    `}analyzeSentiment(e){const n=e.toLowerCase();let i={positive:0,negative:0,neutral:0,anxious:0,sad:0,angry:0};for(const l of this.emotionKeywords.happy)n.includes(l)&&(i.positive+=1);for(const l of this.emotionKeywords.sad)n.includes(l)&&(i.negative+=1,i.sad+=1);for(const l of this.emotionKeywords.angry)n.includes(l)&&(i.negative+=1,i.angry+=1);for(const l of this.emotionKeywords.fearful)n.includes(l)&&(i.negative+=1,i.anxious+=1);const s=["לא טוב","לא בסדר","לא נעים","לא נחמד","לא מרגיש טוב","אין לי חשק","אין לי כוח","אין לי מצב רוח","קשה לי","מתקשה"];for(const l of s)n.includes(l)&&(i.negative+=1);let r="neutral",o=0;for(const[l,c]of Object.entries(i))c>o&&l!=="neutral"&&(o=c,r=l);o===0&&(r="neutral");let a="neutral";return i.positive>i.negative?a="positive":i.negative>i.positive&&(a="negative"),this.userInfo.lastSentiment=a,r==="anxious"?this.userInfo.emotionalState="worried":r==="sad"?this.userInfo.emotionalState="sad":r==="angry"?this.userInfo.emotionalState="angry":r==="positive"?this.userInfo.emotionalState="happy":this.userInfo.emotionalState="normal",this.saveToLocalStorage(),console.log("🔍 ניתוח רגשות:",{sentiment:a,dominantEmotion:r,scores:i}),{sentiment:a,dominantEmotion:r,emotionScores:i}}analyzeTopics(e){const n=e.toLowerCase(),i=[],s={};for(const[a,l]of Object.entries(this.topicKeywords)){let c=0,u=[];for(const d of l)n.includes(d)&&(c+=1,u.push(d));c>0&&(i.push(a),s[a]={score:c,matchedKeywords:u})}let r=null,o=0;for(const[a,l]of Object.entries(s))l.score>o&&(o=l.score,r=a);if(i.length>0){const a=[...new Set([...this.userInfo.topicsDiscussed,...i])];this.userInfo.topicsDiscussed=a,this.saveToLocalStorage(),console.log("🔍 נושאים שזוהו:",i,"נושא דומיננטי:",r)}return{allTopics:i,scores:s,dominantTopic:r}}analyzeDistressLevel(e){const n=e.toLowerCase();let i="none",s=[];for(const r of this.distressKeywords.severe)n.includes(r)&&(i="severe",s.push(r));if(i==="none")for(const r of this.distressKeywords.moderate)n.includes(r)&&(i="moderate",s.push(r));if(i==="none")for(const r of this.distressKeywords.mild)n.includes(r)&&(i="mild",s.push(r));if(i!=="none"&&s.length>0){const r={level:i,keywords:s,timestamp:new Date().toISOString(),messageText:e.substring(0,100)+(e.length>100?"...":"")};this.userInfo.warningFlags.push(r),this.saveToLocalStorage(),(i==="severe"||i==="moderate"&&this.userInfo.warningFlags.length>2)&&(this.userInfo.contactRecommended=!0),console.log("⚠️ זוהתה רמת מצוקה:",{distressLevel:i,detectedKeywords:s})}return{level:i,keywords:s}}extractPersonalDetails(e){const n={},i={age:{regex:/(?:אני בן|גיל שלי|בן)[ ]?(\d{1,2})[ ]?(?:שנים|שנה)?/i,field:"age"},role:{regex:/(?:אני|משרת כ|תפקיד שלי)[ ]?(?:חייל ב|חייל|לוחם ב|לוחם|משרת ב?)[ ]?([א-ת\s]{2,25})/i,field:"role"},hometown:{regex:/(?:אני מ|גר ב|מ|מתגורר ב)[ ]?([א-ת\s]{2,20})/i,field:"hometown"}};for(const[s,r]of Object.entries(i)){const o=e.match(r.regex);o&&o[1]&&(n[r.field]=o[1].trim())}return Object.keys(n).length>0&&(this.userInfo.personalDetails={...this.userInfo.personalDetails,...n},this.saveToLocalStorage(),console.log("👤 נמצאו פרטים אישיים:",n)),n}extractUserName(e){if(this.userInfo.name)return null;const n=["בסדר","טוב","מצוין","ככה ככה","נחמד","עייף","שמח","מעולה","אני בסדר","אני טוב","אני מצוין","בסדר גמור","סבבה","נהדר","אחלה","פצצה","לא","כן","אולי","מה","איך","למה","מתי","איפה"],i=e.toLowerCase().trim();for(const o of n)if(i===o.toLowerCase()||i.startsWith(o.toLowerCase()+" ")||i==="אני "+o.toLowerCase())return console.log("⚠️ זוהה ביטוי שאינו שם:",i),null;const s=[/(?:^|\s)שמי\s+([א-ת]{2,20})(?:\s|$)/i,/(?:^|\s)קוראים\s+לי\s+([א-ת]{2,20})(?:\s|$)/i,/(?:^|\s)השם\s+שלי\s+(?:הוא\s+)?([א-ת]{2,20})(?:\s|$)/i,/(?:^|\s)תקרא\s+לי\s+([א-ת]{2,20})(?:\s|$)/i];for(const o of s){const a=e.match(o);if(a&&a[1]){const l=a[1].trim();return console.log("👤 זוהה שם משתמש:",l),l}}const r=e.match(/(?:^|\s)אני\s+([א-ת]{2,20})(?:\s|$)/i);if(r&&r[1]){const o=r[1].trim();if(!n.some(a=>a.toLowerCase()===o.toLowerCase()))return console.log("👤 זוהה שם אפשרי אחרי 'אני':",o),o}if(e.trim().split(/\s+/).length===1&&e.length>1&&e.length<20&&/^[א-ת]+$/.test(e.trim())){const o=e.trim();if(!n.some(a=>a.toLowerCase()===o.toLowerCase()))return console.log("👤 זוהה שם אפשרי משורה בודדת:",o),o}return null}getPersonalizedResponse(e,n,i,s){if(s&&s.level==="severe"){const o=this.responseTemplates.distress.severe;return this.getUniqueResponse(o)}if(s&&s.level==="moderate"){const o=this.responseTemplates.distress.moderate;return this.getUniqueResponse(o)}if(s&&s.level==="mild"){const o=this.responseTemplates.distress.mild;return this.getUniqueResponse(o)}if(i&&i.dominantTopic){const o=this.topicResponses[i.dominantTopic];if(o)return this.getUniqueResponse(o)}const r=e.toLowerCase();return r.includes("לא ישן")||r.includes("שינה")||r.includes("עייף")||r.includes("להירדם")?this.getUniqueResponse(this.responseTemplates.sleepIssues):r.includes("לחץ")||r.includes("מתח")||r.includes("חרדה")||r.includes("מלחיץ")?this.getUniqueResponse(this.responseTemplates.anxietyHelp):r.includes("בית")||r.includes("משפחה")||r.includes("מתגעגע")||r.includes("געגוע")?this.getUniqueResponse(this.responseTemplates.homesickness):n.sentiment==="positive"?this.getUniqueResponse(this.responseTemplates.positiveFeedback):n.sentiment==="negative"?this.getUniqueResponse(this.responseTemplates.negativeFeedback):this.getUniqueResponse(this.responseTemplates.neutralResponse)}getUniqueResponse(e){if(!e||e.length===0)return"אני מבינה. איך אני יכולה לעזור לך היום?";const n=e.filter(s=>!this.lastResponses.includes(s));if(n.length===0)return this.lastResponses=[],e[Math.floor(Math.random()*e.length)];const i=n[Math.floor(Math.random()*n.length)];return this.lastResponses.push(i),this.lastResponses.length>3&&this.lastResponses.shift(),this.replacePlaceholders(i)}replacePlaceholders(e){return this.userInfo.name?e=e.replace(/\{name\}/g,this.userInfo.name):(e=e.replace(/\{name\}, /g,""),e=e.replace(/\{name\}/g,"")),e}checkIfProfessionalHelpNeeded(){const e=this.userInfo.warningFlags.filter(i=>i.level==="severe").length,n=this.userInfo.warningFlags.filter(i=>i.level==="moderate").length;return(e>0||n>=3)&&(this.userInfo.contactRecommended=!0,console.log("⚠️ מומלץ על פנייה לעזרה מקצועית")),this.userInfo.contactRecommended}adaptResponseToConversationFlow(e){const n=this.conversationHistory.filter(i=>i.role==="user").length;if(n<3&&!e.includes("?")){const i=["איך זה גורם לך להרגיש?","איך אתה מתמודד עם זה?","האם תוכל לספר לי עוד?","מה אתה חושב על זה?","איך זה משפיע עליך ביום-יום?"];e+=" "+i[Math.floor(Math.random()*i.length)]}if(n>5&&Math.random()<.3){const i=["בהמשך למה שדיברנו קודם, ","אני זוכרת שסיפרת לי על כך ש","אם אני מקשרת לשיחה שלנו, ","כפי שהזכרת קודם, "];e=i[Math.floor(Math.random()*i.length)]+e.toLowerCase()}return e}checkAutoResponseToQuestion(e){const n=this.conversationHistory.filter(r=>r.role==="assistant").pop();if(!n||!n.content.includes("?"))return null;const s=e.toLowerCase().trim();if(n.content.includes("האם ניסית חלק מהטיפים האלה?")||n.content.includes("מה בדרך כלל עוזר לך להירדם?")||n.content.includes("איזה מהטיפים האלה נשמע לך הכי מתאים לנסות?")){if(s.includes("כן")||s.includes("ניסיתי")||s.includes("עוזר לי"))return"אני שמחה לשמוע שניסית. האם יש משהו ספציפי שעובד טוב במיוחד עבורך? אשמח לשמוע מה הניסיון שלך כדי שאוכל ללמוד ולעזור טוב יותר גם לאחרים.";if(s.includes("לא")||s.includes("לא ניסיתי"))return"אני מבינה שלא תמיד קל ליישם טיפים כאלה, במיוחד בסביבה צבאית. אולי כדאי לנסות את הדברים הפשוטים קודם, כמו הפחתת קפאין אחר הצהריים והימנעות ממסכים לפני השינה. אפילו שינוי קטן יכול לעשות הבדל. תרצה לנסות אחד מהטיפים ולעדכן אותי בהמשך?"}if(n.content.includes("האם תרצה לנסות את זה עכשיו?")||n.content.includes("מה עוזר לך להתמודד עם חרדה?")){if(s.includes("כן")||s.includes("בטח")||s.includes("אשמח"))return`מעולה! אז בוא ננסה את תרגיל 5-4-3-2-1 יחד:

1. ציין 5 דברים שאתה יכול לראות סביבך כרגע
2. 4 דברים שאתה יכול לגעת בהם
3. 3 דברים שאתה יכול לשמוע
4. 2 דברים שאתה יכול להריח
5. דבר אחד שאתה יכול לטעום

אתה יכול פשוט לציין אותם לעצמך בשקט או לכתוב לי. איך אתה מרגיש אחרי התרגיל?`;if(s.includes("לא")||s.includes("פעם אחרת"))return"אין בעיה, אני מבינה. התרגילים האלה זמינים עבורך בכל עת שתרצה להשתמש בהם. האם יש שיטה אחרת שעוזרת לך להירגע כשאתה חש חרדה או מתח?"}if(n.content.includes("האם אתה מצליח לשמור על קשר באופן קבוע עם המשפחה?")||n.content.includes("האם יש לך חברים קרובים ביחידה שאתה יכול לדבר איתם?")||n.content.includes("האם יש לך פריטים כאלה איתך?")){if(s.includes("כן")||s.includes("יש לי")||s.includes("מצליח"))return"זה נהדר לשמוע! שמירה על קשרים חברתיים ומשפחתיים היא אחת האסטרטגיות החשובות ביותר להתמודדות עם לחצים. האם יש משהו נוסף שעוזר לך להתמודד עם הגעגועים?";if(s.includes("לא")||s.includes("קשה לי")||s.includes("אין לי"))return"אני מבינה כמה זה יכול להיות קשה. האם היית רוצה לחשוב יחד על דרכים לשפר את המצב? לפעמים אפילו קשר קצר אבל קבוע יכול לעשות הבדל משמעותי בתחושת הגעגוע."}return n.content.includes("איך אתה מתמודד עם האתגרים של השירות?")||n.content.includes("האם יש משהו ספציפי בשירות שלך שאתה מתמודד איתו עכשיו?")||n.content.includes("איך היחסים שלך עם האנשים ביחידה?")?"תודה ששיתפת. השירות הצבאי יכול להיות מאתגר במיוחד. האם תרצה לספר לי יותר על הדברים שעוזרים לך להתמודד? לפעמים שיתוף החוויות האישיות יכול להקל.":null}async fetchOpenAIResponse(e){var n;console.log("🔄 שולח בקשה ל-OpenAI:",e);try{if(!this.apiKey)return console.warn("⚠️ מפתח API של OpenAI לא הוגדר. עובר למצב מקומי."),await this.getSmartMockResponse(e);const i=[{role:"system",content:this.getSystemPrompt(this.userInfo.name,this.userInfo.role,this.userInfo.lastSentiment)}],s=this.conversationHistory.slice(-10).filter(a=>a.role==="user"||a.role==="assistant");i.push(...s),i.push({role:"user",content:e}),console.log("📤 שולח ל-OpenAI את ההיסטוריה והשאלה החדשה:",{messageCount:i.length,systemPromptLength:i[0].content.length,latestUserMessage:e});const r=await fetch("https://api.openai.com/v1/chat/completions",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${this.apiKey}`},body:JSON.stringify({model:"gpt-3.5-turbo",messages:i,temperature:.7,max_tokens:1e3})});if(!r.ok){const a=await r.json();throw console.error("❌ OpenAI API Error:",a),new Error(`שגיאת API: ${((n=a.error)==null?void 0:n.message)||"שגיאה לא ידועה"}`)}const o=await r.json();if(o.choices&&o.choices.length>0&&o.choices[0].message)return console.log("✅ התקבלה תשובה מ-OpenAI:",{content:o.choices[0].message.content.substring(0,50)+"..."}),o.choices[0].message.content;throw console.error("❌ תשובה לא תקינה מה-API:",o),new Error("תשובה לא תקינה מה-API")}catch(i){return console.error("❌ שגיאה בתקשורת עם OpenAI:",i),console.log("🔄 עובר למצב מקומי"),await this.getSmartMockResponse(e)}}async getSmartMockResponse(e){console.log("🤖 מייצר תשובה מקומית למצב גיבוי"),await new Promise(u=>setTimeout(u,500));const n=this.analyzeSentiment(e),i=this.analyzeTopics(e),s=this.analyzeDistressLevel(e);this.extractPersonalDetails(e);const r=this.extractUserName(e);if(r&&!this.userInfo.name)return this.userInfo.name=r,this.saveToLocalStorage(),this.getUniqueResponse(this.responseTemplates.nameAcknowledgement);const o=this.checkAutoResponseToQuestion(e);if(o)return console.log("🤖 זוהתה תשובה לשאלה אוטומטית, מחזיר תגובה מותאמת"),o;const a=e.toLowerCase();if(a.includes("מצלמה")||a.includes("וידאו")||a.includes("לראות אותך"))return"האם תרצה לפתוח שיחת וידאו? אוכל לראות ולשמוע אותך ולתת תגובות קוליות. זה יכול להיות נחמד לשוחח פנים אל פנים.";if(["שלום","היי","הלו","בוקר טוב","ערב טוב","צהריים טובים","מה נשמע","מה קורה"].some(u=>a.includes(u))&&e.length<30)return this.getUniqueResponse(this.responseTemplates.greeting);let c=this.getPersonalizedResponse(e,n,i,s);return c=this.adaptResponseToConversationFlow(c),c}async sendMessage(e){if(console.log("📨 התקבלה הודעה חדשה מהמשתמש:",e),!e||e.trim()==="")return"אני לא בטוחה שהבנתי את ההודעה שלך. אשמח אם תשתף אותי במחשבות או שאלות שיש לך.";if(this.conversationHistory.push({role:"user",content:e}),this.analyzeSentiment(e),this.analyzeTopics(e),this.analyzeDistressLevel(e),this.extractPersonalDetails(e),this.isFirstMessage){this.isFirstMessage=!1,console.log("🆕 זוהתה הודעה ראשונה בשיחה");const i=this.extractUserName(e);if(i){this.userInfo.name=i,this.saveToLocalStorage();const s=`שמחה להכיר אותך, ${i}! איך אתה מרגיש היום? אשמח לדעת מה אתה עושה ביום-יום בצבא או במילואים.`;return this.conversationHistory.push({role:"assistant",content:s}),this.saveToLocalStorage(),s}}if(!this.userInfo.name){const i=this.extractUserName(e);i&&(this.userInfo.name=i,this.saveToLocalStorage())}const n=this.checkAutoResponseToQuestion(e);if(n)return console.log("🤖 זוהתה תשובה לשאלה אוטומטית, מחזיר תגובה מותאמת"),this.conversationHistory.push({role:"assistant",content:n}),this.saveToLocalStorage(),n;checkIfProfessionalHelpNeeded();{const i=this.userInfo.warningFlags.filter(r=>r.level==="severe").length,s=this.userInfo.warningFlags.filter(r=>r.level==="moderate").length;return(i>0||s>=3)&&(this.userInfo.contactRecommended=!0,console.log("⚠️ מומלץ על פנייה לעזרה מקצועית")),this.userInfo.contactRecommended}}checkAutoResponseToQuestion(e){const n=this.conversationHistory.filter(r=>r.role==="assistant").pop();if(!n||!n.content.includes("?"))return null;const s=e.toLowerCase().trim();if(n.content.includes("האם ניסית חלק מהטיפים האלה?")||n.content.includes("מה בדרך כלל עוזר לך להירדם?")||n.content.includes("איזה מהטיפים האלה נשמע לך הכי מתאים לנסות?")){if(s.includes("כן")||s.includes("ניסיתי")||s.includes("עוזר לי"))return"אני שמחה לשמוע שניסית. האם יש משהו ספציפי שעובד טוב במיוחד עבורך? אשמח לשמוע מה הניסיון שלך כדי שאוכל ללמוד ולעזור טוב יותר גם לאחרים.";if(s.includes("לא")||s.includes("לא ניסיתי"))return"אני מבינה שלא תמיד קל ליישם טיפים כאלה, במיוחד בסביבה צבאית. אולי כדאי לנסות את הדברים הפשוטים קודם, כמו הפחתת קפאין אחר הצהריים והימנעות ממסכים לפני השינה. אפילו שינוי קטן יכול לעשות הבדל. תרצה לנסות אחד מהטיפים ולעדכן אותי בהמשך?"}if(n.content.includes("האם תרצה לנסות את זה עכשיו?")||n.content.includes("מה עוזר לך להתמודד עם חרדה?")){if(s.includes("כן")||s.includes("בטח")||s.includes("אשמח"))return`מעולה! אז בוא ננסה את תרגיל 5-4-3-2-1 יחד:

1. ציין 5 דברים שאתה יכול לראות סביבך כרגע
2. 4 דברים שאתה יכול לגעת בהם
3. 3 דברים שאתה יכול לשמוע
4. 2 דברים שאתה יכול להריח
5. דבר אחד שאתה יכול לטעום

אתה יכול פשוט לציין אותם לעצמך בשקט או לכתוב לי. איך אתה מרגיש אחרי התרגיל?`;if(s.includes("לא")||s.includes("פעם אחרת"))return"אין בעיה, אני מבינה. התרגילים האלה זמינים עבורך בכל עת שתרצה להשתמש בהם. האם יש שיטה אחרת שעוזרת לך להירגע כשאתה חש חרדה או מתח?"}if(n.content.includes("האם אתה מצליח לשמור על קשר באופן קבוע עם המשפחה?")||n.content.includes("האם יש לך חברים קרובים ביחידה שאתה יכול לדבר איתם?")||n.content.includes("האם יש לך פריטים כאלה איתך?")){if(s.includes("כן")||s.includes("יש לי")||s.includes("מצליח"))return"זה נהדר לשמוע! שמירה על קשרים חברתיים ומשפחתיים היא אחת האסטרטגיות החשובות ביותר להתמודדות עם לחצים. האם יש משהו נוסף שעוזר לך להתמודד עם הגעגועים?";if(s.includes("לא")||s.includes("קשה לי")||s.includes("אין לי"))return"אני מבינה כמה זה יכול להיות קשה. האם היית רוצה לחשוב יחד על דרכים לשפר את המצב? לפעמים אפילו קשר קצר אבל קבוע יכול לעשות הבדל משמעותי בתחושת הגעגוע."}return n.content.includes("איך אתה מתמודד עם האתגרים של השירות?")||n.content.includes("האם יש משהו ספציפי בשירות שלך שאתה מתמודד איתו עכשיו?")||n.content.includes("איך היחסים שלך עם האנשים ביחידה?")?"תודה ששיתפת. השירות הצבאי יכול להיות מאתגר במיוחד. האם תרצה לספר לי יותר על הדברים שעוזרים לך להתמודד? לפעמים שיתוף החוויות האישיות יכול להקל.":null}async fetchOpenAIResponse(e){var n;console.log("🔄 שולח בקשה ל-OpenAI:",e);try{if(!this.apiKey)return console.warn("⚠️ מפתח API של OpenAI לא הוגדר. עובר למצב מקומי."),await this.getSmartMockResponse(e);const i=[{role:"system",content:this.getSystemPrompt(this.userInfo.name,this.userInfo.role,this.userInfo.lastSentiment)}],s=this.conversationHistory.slice(-10).filter(a=>a.role==="user"||a.role==="assistant");i.push(...s),i.push({role:"user",content:e}),console.log("📤 שולח ל-OpenAI את ההיסטוריה והשאלה החדשה:",{messageCount:i.length,systemPromptLength:i[0].content.length,latestUserMessage:e});const r=await fetch("https://api.openai.com/v1/chat/completions",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${this.apiKey}`},body:JSON.stringify({model:"gpt-3.5-turbo",messages:i,temperature:.7,max_tokens:1e3})});if(!r.ok){const a=await r.json();throw console.error("❌ OpenAI API Error:",a),new Error(`שגיאת API: ${((n=a.error)==null?void 0:n.message)||"שגיאה לא ידועה"}`)}const o=await r.json();if(o.choices&&o.choices.length>0&&o.choices[0].message)return console.log("✅ התקבלה תשובה מ-OpenAI:",{content:o.choices[0].message.content.substring(0,50)+"..."}),o.choices[0].message.content;throw console.error("❌ תשובה לא תקינה מה-API:",o),new Error("תשובה לא תקינה מה-API")}catch(i){return console.error("❌ שגיאה בתקשורת עם OpenAI:",i),console.log("🔄 עובר למצב מקומי"),await this.getSmartMockResponse(e)}}async getSmartMockResponse(e){console.log("🤖 מייצר תשובה מקומית למצב גיבוי"),await new Promise(u=>setTimeout(u,500));const n=this.analyzeSentiment(e),i=this.analyzeTopics(e),s=this.analyzeDistressLevel(e);this.extractPersonalDetails(e);const r=this.extractUserName(e);if(r&&!this.userInfo.name)return this.userInfo.name=r,this.saveToLocalStorage(),this.getUniqueResponse(this.responseTemplates.nameAcknowledgement);const o=this.checkAutoResponseToQuestion(e);if(o)return console.log("🤖 זוהתה תשובה לשאלה אוטומטית, מחזיר תגובה מותאמת"),o;const a=e.toLowerCase();if(a.includes("מצלמה")||a.includes("וידאו")||a.includes("לראות אותך"))return"האם תרצה לפתוח שיחת וידאו? אוכל לראות ולשמוע אותך ולתת תגובות קוליות. זה יכול להיות נחמד לשוחח פנים אל פנים.";if(["שלום","היי","הלו","בוקר טוב","ערב טוב","צהריים טובים","מה נשמע","מה קורה"].some(u=>a.includes(u))&&e.length<30)return this.getUniqueResponse(this.responseTemplates.greeting);let c=this.getPersonalizedResponse(e,n,i,s);return c=this.adaptResponseToConversationFlow(c),c}async sendMessage(e){if(console.log("📨 התקבלה הודעה חדשה מהמשתמש:",e),!e||e.trim()==="")return"אני לא בטוחה שהבנתי את ההודעה שלך. אשמח אם תשתף אותי במחשבות או שאלות שיש לך.";this.conversationHistory.push({role:"user",content:e}),this.analyzeSentiment(e),this.analyzeTopics(e);const n=this.analyzeDistressLevel(e);if(this.extractPersonalDetails(e),this.isFirstMessage){this.isFirstMessage=!1,console.log("🆕 זוהתה הודעה ראשונה בשיחה");const s=this.extractUserName(e);if(s){this.userInfo.name=s,this.saveToLocalStorage();const r=`שמחה להכיר אותך, ${s}! איך אתה מרגיש היום? אשמח לדעת מה אתה עושה ביום-יום בצבא או במילואים.`;return this.conversationHistory.push({role:"assistant",content:r}),this.saveToLocalStorage(),r}}if(!this.userInfo.name){const s=this.extractUserName(e);s&&(this.userInfo.name=s,this.saveToLocalStorage())}const i=this.checkAutoResponseToQuestion(e);if(i)return console.log("🤖 זוהתה תשובה לשאלה אוטומטית, מחזיר תגובה מותאמת"),this.conversationHistory.push({role:"assistant",content:i}),this.saveToLocalStorage(),i;try{if(n.level==="severe"){this.userInfo.contactRecommended=!0,this.saveToLocalStorage();const r=this.responseTemplates.distress.severe,o=this.replacePlaceholders(this.getUniqueResponse(r));return this.conversationHistory.push({role:"assistant",content:o}),this.saveToLocalStorage(),o}if(!this.userInfo.name&&this.conversationHistory.length>=4){const r=this.conversationHistory.filter(o=>o.role==="assistant").pop();if(r&&!this.nameAskingResponses.some(o=>r.content.includes(o))&&Math.random()<.25){const o=this.getUniqueResponse(this.nameAskingResponses);return this.conversationHistory.push({role:"assistant",content:o}),this.saveToLocalStorage(),o}}console.log("🔄 מבקש תשובה מ-OpenAI");const s=await this.fetchOpenAIResponse(e);return this.conversationHistory.push({role:"assistant",content:s}),this.saveToLocalStorage(),s}catch(s){console.error("❌ שגיאה כללית בטיפול בהודעה:",s);const r=await this.getSmartMockResponse(e);return this.conversationHistory.push({role:"assistant",content:r}),this.saveToLocalStorage(),r}}clearConversation(){console.log("🧹 מנקה היסטוריית שיחה");const e=this.userInfo.name,n=this.userInfo.role;return this.conversationHistory=[],this.userInfo={name:e,role:n,lastSentiment:"neutral",emotionalState:"normal",personalDetails:{},topicsDiscussed:[],warningFlags:[],contactRecommended:!1,sessionStartTime:new Date().toISOString()},this.saveToLocalStorage(),this.initializeChat(e,n,"neutral")}getUserStatusSummary(){const e={name:this.userInfo.name||"לא ידוע",role:this.userInfo.role||"לא ידוע",emotionalState:this.translateEmotionalState(this.userInfo.emotionalState),topicsDiscussed:this.translateTopics(this.userInfo.topicsDiscussed),warningLevel:this.calculateOverallWarningLevel(),contactRecommended:this.userInfo.contactRecommended,messageCount:this.conversationHistory.filter(n=>n.role==="user").length,sessionDuration:this.calculateSessionDuration()};return console.log("📊 סיכום מצב המשתמש:",e),e}calculateSessionDuration(){if(!this.userInfo.sessionStartTime)return"לא ידוע";const e=new Date(this.userInfo.sessionStartTime),i=new Date-e,s=Math.floor(i/6e4),r=Math.floor(s/60);return r>0?`${r} שעות ו-${s%60} דקות`:`${s} דקות`}translateEmotionalState(e){return{normal:"רגיל",stressed:"לחוץ",worried:"מודאג",happy:"שמח",sad:"עצוב",angry:"כועס",fearful:"חרד"}[e]||"לא ידוע"}translateTopics(e){const n={family:"משפחה",military:"צבא",relationships:"יחסים",health:"בריאות",sleep:"שינה",career:"קריירה",mentalHealth:"בריאות נפשית"};return e.map(i=>n[i]||i)}calculateOverallWarningLevel(){if(this.userInfo.warningFlags.length===0)return"נמוכה";const e=this.userInfo.warningFlags.filter(i=>i.level==="severe").length,n=this.userInfo.warningFlags.filter(i=>i.level==="moderate").length;return e>0?"גבוהה":n>=3?"בינונית-גבוהה":n>0?"בינונית":"נמוכה"}}const Ft=new oM;class aM{constructor(){if(this.speechRecognition=null,this.isRecognitionSupported="webkitSpeechRecognition"in window||"SpeechRecognition"in window,this.isSynthesisSupported="speechSynthesis"in window,this.voices=[],this.isSpeaking=!1,this.defaultVoiceRate=1,this.defaultVoicePitch=1.2,this.voiceVolume=1,this.selectedVoice=null,this.useFemaleVoice=!0,this.isInitialized=!1,this.languageCode="he-IL",this.fallbackLanguage="en-US",this.recoveryTimer=null,this.retryCount=0,this.maxRetries=3,this.isSynthesisSupported&&(this.loadVoices(),typeof speechSynthesis<"u"&&speechSynthesis.onvoiceschanged!==void 0))try{speechSynthesis.onvoiceschanged=this.loadVoices.bind(this)}catch(e){console.warn("Error setting onvoiceschanged handler:",e)}}async checkRecognitionSupport(){try{if(!this.isRecognitionSupported)return{supported:!1,message:"הדפדפן שלך לא תומך בזיהוי דיבור"};if(navigator.permissions&&(await navigator.permissions.query({name:"microphone"})).state==="denied")return{supported:!1,message:"אין הרשאת גישה למיקרופון"};try{const e=window.webkitSpeechRecognition||window.SpeechRecognition,n=new e;return n.lang=this.languageCode,n.start(),setTimeout(()=>{try{n.stop()}catch{}},500),{supported:!0,message:"יש תמיכה בזיהוי דיבור"}}catch(e){return console.warn("Error testing speech recognition:",e),{supported:!1,message:"שגיאה בהפעלת זיהוי דיבור: "+e.message}}}catch(e){return console.error("Error checking recognition support:",e),{supported:!1,message:"שגיאה כללית בבדיקת תמיכה: "+e.message}}}loadVoices(){if(typeof speechSynthesis>"u"){console.warn("speechSynthesis API is not available");return}try{this.voices=speechSynthesis.getVoices()||[],this.findBestFemaleVoice(),this.voices.length>0?(console.log("קולות זמינים:",this.voices.map(e=>`${e.name} (${e.lang})`)),this.selectedVoice&&console.log(`נבחר קול: ${this.selectedVoice.name} (${this.selectedVoice.lang})`)):(console.warn("לא נטענו קולות. ייתכן שהמערכת עדיין טוענת אותם."),setTimeout(()=>{this.voices=speechSynthesis.getVoices()||[],this.findBestFemaleVoice()},1e3))}catch(e){console.error("Error loading voices:",e)}}findBestFemaleVoice(){if(!this.voices||this.voices.length===0)return;const e=r=>{if(!r||!r.name)return!1;const o=r.name.toLowerCase();return o.includes("female")||o.includes("woman")||o.includes("girl")||o.includes("ava")||o.includes("samantha")||o.includes("alice")||o.includes("victoria")||o.includes("karen")||o.includes("נשי")||o.includes("נקבה")};let n=this.voices.find(r=>r.lang&&r.lang.includes("he")&&e(r));if(n){this.selectedVoice=n;return}let i=this.voices.find(r=>r.lang&&r.lang.includes("he"));if(i){this.selectedVoice=i;return}const s=[this.voices.find(r=>r.name&&r.name.includes("Google")&&e(r)),this.voices.find(r=>r.lang&&r.lang.includes("en-GB")&&e(r)),this.voices.find(r=>r.lang&&r.lang.includes("en-US")&&e(r)),this.voices.find(r=>r.lang&&r.lang.includes("es")&&e(r)),this.voices.find(r=>r.lang&&r.lang.includes("fr")&&e(r)),this.voices.find(e)].filter(Boolean);if(s.length>0){this.selectedVoice=s[0];return}this.voices.length>0&&(this.selectedVoice=this.voices[0])}startRecognition(e,n,i=!0){if(!this.isRecognitionSupported)return n&&n({code:"not-supported",message:"זיהוי דיבור אינו נתמך בדפדפן זה"}),!1;try{if(this.speechRecognition){try{this.speechRecognition.stop()}catch(r){console.warn("Error stopping previous recognition:",r)}this.speechRecognition=null}const s=window.webkitSpeechRecognition||window.SpeechRecognition;return this.speechRecognition=new s,this.speechRecognition.lang=this.languageCode,this.speechRecognition.continuous=!i,this.speechRecognition.interimResults=!0,this.speechRecognition.maxAlternatives=3,this.speechRecognition.onresult=r=>{if(!r||!r.results)return;let o="",a="",l=0;try{for(let c=r.resultIndex;c<r.results.length;++c){const u=r.results[c];u&&(u.isFinal?(a+=u[0].transcript,l=u[0].confidence):o+=u[0].transcript)}e&&e({finalTranscript:a,interimTranscript:o,confidence:l})}catch(c){console.error("Error processing recognition results:",c)}},this.speechRecognition.onerror=r=>{if(console.warn("Recognition error:",r.error),r.error==="language-not-supported"||r.error==="not-allowed"){this.retryWithDifferentLanguage(e,n,i);return}n&&n({code:r.error,message:this.getErrorMessage(r.error)}),!i&&this.retryCount<this.maxRetries?(this.retryCount++,this.recoveryTimer=setTimeout(()=>{console.log(`Attempting to restart recognition (retry ${this.retryCount}/${this.maxRetries})`),this.startRecognition(e,n,i)},1e3)):this.retryCount=0},this.speechRecognition.onend=()=>{if(!i)try{this.speechRecognition.start()}catch(r){console.warn("Error restarting continuous recognition:",r),this.retryCount<this.maxRetries?(this.retryCount++,this.recoveryTimer=setTimeout(()=>{this.startRecognition(e,n,i)},1e3)):(this.retryCount=0,n&&n({code:"restart-failed",message:"לא ניתן להפעיל מחדש את זיהוי הדיבור"}))}},this.speechRecognition.start(),this.retryCount=0,!0}catch(s){return console.error("Error starting speech recognition:",s),n&&n({code:"general-error",message:"שגיאה בהפעלת זיהוי הדיבור: "+s.message}),!1}}retryWithDifferentLanguage(e,n,i){this.languageCode==="he-IL"?(console.log("Hebrew recognition failed, trying English"),this.languageCode=this.fallbackLanguage):this.languageCode===this.fallbackLanguage?(console.log("English recognition failed, trying Arabic"),this.languageCode="ar-SA"):(console.log("All language recognition failed, going back to Hebrew"),this.languageCode="he-IL"),setTimeout(()=>{this.startRecognition(e,n,i)},300)}getErrorMessage(e){return{"not-allowed":"אין הרשאה לשימוש במיקרופון. נא לאשר גישה למיקרופון בהגדרות הדפדפן.","not-supported":"הדפדפן שלך לא תומך בזיהוי דיבור.",network:"בעיית רשת. נא לבדוק את חיבור האינטרנט שלך.","no-speech":"לא זיהיתי דיבור. אנא נסה לדבר חזק וברור יותר.","audio-capture":"לא נמצא מיקרופון. אנא וודא שהמיקרופון מחובר ופועל.",aborted:"ההקלטה הופסקה.","language-not-supported":"השפה שנבחרה אינה נתמכת, מנסה שפה אחרת.","service-not-allowed":"שירות זיהוי הדיבור לא מאושר על ידי הדפדפן.","bad-grammar":"בעיה במנוע זיהוי הדיבור.","no-match":"לא הצלחתי להבין מה אמרת. אנא נסה שוב."}[e]||`שגיאה בזיהוי דיבור: ${e}`}startContinuousListening(e,n){return this.startRecognition(e,n,!1)}startListening(e,n){return this.startRecognition(e,n,!0)}stopListening(){if(this.recoveryTimer&&(clearTimeout(this.recoveryTimer),this.recoveryTimer=null),this.speechRecognition){try{this.speechRecognition.stop()}catch(e){console.warn("Error stopping speech recognition:",e)}this.speechRecognition=null}this.retryCount=0}stopContinuousListening(){this.stopListening()}speak(e,n={}){return new Promise((i,s)=>{if(!this.isSynthesisSupported){console.error("הקראת טקסט אינה נתמכת בדפדפן זה"),this.speakAlternative(e,n).then(i).catch(s);return}this.stopSpeaking();try{const r=new SpeechSynthesisUtterance(e);r.lang="he-IL",(!this.selectedVoice||this.voices.length===0)&&typeof speechSynthesis<"u"&&(this.voices=speechSynthesis.getVoices()||[],this.findBestFemaleVoice()),this.selectedVoice&&(r.voice=this.selectedVoice),r.rate=n.rate||this.defaultVoiceRate,r.pitch=n.pitch||this.defaultVoicePitch,r.volume=n.volume||this.voiceVolume,r.onend=()=>{this.isSpeaking=!1,n.onEnd&&n.onEnd(),i()},r.onerror=o=>{console.error("Speech synthesis error:",o),this.isSpeaking=!1,this.speakAlternative(e,n).then(i).catch(()=>{n.onError&&n.onError(o),s(o)})},this.isSpeaking=!0,window.speechSynthesis.speak(r),e.length>100&&this.fixChromeSpeechBug()}catch(r){console.error("Error in speech synthesis:",r),this.speakAlternative(e,n).then(i).catch(()=>{n.onError&&n.onError(r),s(r)})}})}speakAlternative(e,n={}){return new Promise((i,s)=>{try{const r=new Audio;r.volume=n.volume||this.voiceVolume;const o=new(window.AudioContext||window.webkitAudioContext),a=o.createOscillator(),l=o.createGain();a.connect(l),l.connect(o.destination),a.type="sine",a.frequency.value=800,l.gain.value=.3,this.isSpeaking=!0,a.start(),setTimeout(()=>{a.stop(),this.isSpeaking=!1,n.onEnd&&n.onEnd(),i()},300)}catch(r){console.error("Alternative speech method failed:",r),n.onError&&n.onError(r),s(r)}})}fixChromeSpeechBug(){if(typeof speechSynthesis>"u"||!/Chrome|Edge/.test(navigator.userAgent))return;window.speechSynthesis.pause(),window.speechSynthesis.resume();const n=setInterval(()=>{if(!this.isSpeaking){clearInterval(n);return}window.speechSynthesis.pause(),window.speechSynthesis.resume()},1e4)}stopSpeaking(){if(typeof speechSynthesis<"u")try{(this.isSpeaking||speechSynthesis.speaking)&&(speechSynthesis.cancel(),this.isSpeaking=!1)}catch(e){console.warn("Error stopping speech synthesis:",e)}}changeVoiceSettings(e){if(e.pitch!==void 0&&(this.defaultVoicePitch=e.pitch),e.rate!==void 0&&(this.defaultVoiceRate=e.rate),e.volume!==void 0&&(this.voiceVolume=e.volume),e.useFemaleVoice!==void 0&&(this.useFemaleVoice=e.useFemaleVoice,this.findBestFemaleVoice()),e.voiceName&&this.voices){const n=this.voices.find(i=>i.name===e.voiceName);n&&(this.selectedVoice=n)}return{pitch:this.defaultVoicePitch,rate:this.defaultVoiceRate,volume:this.voiceVolume,selectedVoice:this.selectedVoice?`${this.selectedVoice.name} (${this.selectedVoice.lang})`:"default"}}isCurrentlySpeaking(){return this.isSpeaking}isVoiceRecognitionSupported(){return this.isRecognitionSupported}isVoiceSynthesisSupported(){return this.isSynthesisSupported}getAvailableVoices(){return typeof speechSynthesis<"u"&&(this.voices=speechSynthesis.getVoices()||[]),this.voices.filter(e=>e&&e.name).map(e=>({name:e.name,lang:e.lang||"unknown",isFemale:this.detectFemaleVoice(e.name)}))}detectFemaleVoice(e){if(!e)return!1;const n=e.toLowerCase();return n.includes("female")||n.includes("woman")||n.includes("girl")||n.includes("ava")||n.includes("samantha")||n.includes("alice")||n.includes("victoria")||n.includes("karen")||n.includes("נשי")||n.includes("נקבה")||n.includes("אישה")||e.includes("alice")||e.includes("victoria")||e.includes("karen")||e.includes("נשי")||e.includes("נקבה")}getVoiceName(e){return e?`${e.name} (${e.lang})`:"ברירת מחדל"}canControlVolume(){return"AudioContext"in window||"webkitAudioContext"in window}canPlayAudio(){try{const e=new Audio;return e&&typeof e.play=="function"}catch(e){return console.warn("Browser can't create Audio element:",e),!1}}preventDoubleSpeak(e,n={}){if(this.isSpeaking){this.stopSpeaking(),setTimeout(()=>{this.speak(e,n)},100);return}this.speak(e,n)}prepareRecognition(){if(this.isInitialized)return!0;if(!this.isRecognitionSupported)return console.warn("Speech recognition is not supported in this browser"),!1;try{const e=window.webkitSpeechRecognition||window.SpeechRecognition,n=new e;return n.lang=this.languageCode,n.start(),setTimeout(()=>{try{n.stop(),this.isInitialized=!0}catch{}},100),!0}catch(e){return console.warn("Error preparing speech recognition:",e),!1}}isRecognitionInitialized(){return this.isInitialized}getCurrentLanguage(){return this.languageCode}setRecognitionLanguage(e){return!e||typeof e!="string"||e.length<2?(console.warn("Invalid language code:",e),!1):(this.languageCode=e,console.log(`Recognition language set to: ${e}`),!0)}setSpeechLanguage(e){if(!e||typeof e!="string"||e.length<2)return console.warn("Invalid language code:",e),!1;const n=this.voices.find(i=>i.lang&&i.lang.includes(e.substring(0,2)));return n?(this.selectedVoice=n,console.log(`Speech language set to: ${e} with voice: ${n.name}`),!0):(console.warn(`No voice found for language: ${e}`),!1)}getCurrentVoiceInfo(){return{name:this.selectedVoice?this.selectedVoice.name:"default",lang:this.selectedVoice?this.selectedVoice.lang:"unknown",isFemale:this.selectedVoice?this.detectFemaleVoice(this.selectedVoice.name):!1,rate:this.defaultVoiceRate,pitch:this.defaultVoicePitch,volume:this.voiceVolume}}setVoiceByName(e){(!this.voices||this.voices.length===0)&&(this.voices=speechSynthesis.getVoices()||[]);const n=this.voices.find(i=>i.name===e);return n?(this.selectedVoice=n,console.log(`Voice set to: ${n.name}`),!0):(console.warn(`Voice not found: ${e}`),!1)}async pause(e=500){return new Promise(n=>setTimeout(n,e))}async speakLetterByLetter(e,n={}){const i=e.split(""),s=n.delay||300;for(const r of i)await this.speak(r,n),await this.pause(s)}}const Ce=new aM,lM=({onClose:t,userName:e,onResetConversation:n})=>{const[i,s]=_.useState(!0),[r,o]=_.useState(!0),[a,l]=_.useState(!1),[c,u]=_.useState(!1),[d,h]=_.useState(null),[f,p]=_.useState("");_.useState("");const[g,x]=_.useState([]),[y,m]=_.useState(!1),[v,w]=_.useState(!1),[S,C]=_.useState("closed"),[P,k]=_.useState("open"),[M,T]=_.useState("none"),[A,j]=_.useState(!1),[Y,U]=_.useState("neutral"),z=_.useRef(null);_.useRef(null);const V=_.useRef(null),K=_.useRef(null),E=_.useRef(null),L=_.useRef(null);_.useRef(null),_.useEffect(()=>(c?E.current=setInterval(()=>{C(W=>{const H=["slightly-open","open","wide-open","closed"],Se=Math.floor(Math.random()*H.length);return H[Se]})},150):E.current&&(clearInterval(E.current),E.current=null,C("closed")),()=>{E.current&&(clearInterval(E.current),E.current=null)}),[c]),_.useEffect(()=>((()=>{L.current=setInterval(()=>{k("closed"),setTimeout(()=>{k("open")},150)},3e3+Math.random()*2e3)})(),()=>{L.current&&(clearInterval(L.current),L.current=null)}),[]),_.useEffect(()=>((async()=>{try{const H=await navigator.mediaDevices.getUserMedia({video:!0,audio:!0});V.current=H,z.current&&(z.current.srcObject=H),h(!0)}catch(H){console.error("Error accessing media devices:",H),h(!1)}})(),()=>{V.current&&V.current.getTracks().forEach(H=>H.stop()),Ce.stopSpeaking(),Ce.stopListening()}),[]);const N=()=>{document.fullscreenElement?document.exitFullscreen&&(document.exitFullscreen(),w(!1)):K.current.requestFullscreen&&(K.current.requestFullscreen(),w(!0))};_.useEffect(()=>{const W=()=>{w(!!document.fullscreenElement)};return document.addEventListener("fullscreenchange",W),()=>{document.removeEventListener("fullscreenchange",W)}},[]),_.useEffect(()=>{if(g.length>0){const W=[...g].reverse().find(H=>H.from==="bot");if(W){let H="neutral";const Se=W.text.toLowerCase();Se.includes("שמח")||Se.includes("נפלא")||Se.includes("מצוין")?H="happy":Se.includes("מצטער")||Se.includes("סליחה")?H="sad":(Se.includes("מודאג")||Se.includes("חשוב")||Se.includes("רציני"))&&(H="concerned"),U(H)}}},[g]),_.useEffect(()=>{const W=e?`שלום ${e}, נעים להכיר אותך פנים אל פנים. איך אני יכולה לעזור לך היום?`:"שלום! נעים להכיר אותך פנים אל פנים. איך אני יכולה לעזור לך היום?";x([{from:"bot",text:W}]),setTimeout(()=>{G(W)},1e3)},[e]);const F=()=>{a?(Ce.stopListening(),l(!1),f&&Ee(f)):(p(""),Ce.startListening(H=>{p(H.finalTranscript||H.interimTranscript),H.finalTranscript&&H.finalTranscript.length>2&&(Ee(H.finalTranscript),Ce.stopListening(),l(!1),p(""))},H=>{console.error("Voice recognition error:",H),l(!1),x(Se=>[...Se,{from:"system",text:`שגיאה: ${H.message||"בעיה בזיהוי קולי"}`}])})&&l(!0))},G=W=>{u(!0),Ce.speak(W,{onEnd:()=>{u(!1)},onError:H=>{console.error("Speech error:",H),u(!1),x(Se=>[...Se,{from:"system",text:"לא ניתן להקריא את ההודעה. נסה שוב מאוחר יותר."}])}})},Ee=async W=>{if(W.trim()){x(H=>[...H,{from:"user",text:W}]),m(!0);try{const H=await Ft.sendMessage(W);x(Se=>[...Se,{from:"bot",text:H}]),G(H)}catch(H){console.error("Error getting response:",H);const Se="סליחה, היתה בעיה בקבלת תשובה. אפשר לנסות שוב?";x(Al=>[...Al,{from:"bot",text:Se}]),G(Se)}finally{m(!1)}}},we=()=>{V.current&&(V.current.getVideoTracks().forEach(W=>{W.enabled=!i}),s(!i))},Ae=()=>{V.current&&(V.current.getAudioTracks().forEach(W=>{W.enabled=!r}),o(!r))},ce=()=>{if(window.confirm("האם אתה בטוח שברצונך להתחיל שיחה חדשה?")){x([]),p(""),n&&n();const W="שיחה חדשה התחילה. איך אני יכולה לעזור לך?";x([{from:"bot",text:W}]),G(W)}},qe=W=>{T(W),j(!1)},Ii=()=>{let W={},H={};switch(Y){case"happy":W={transform:"scale(0.9)",borderRadius:"30% 30% 50% 50%"},H={borderRadius:"50% 50% 30% 30%"};break;case"sad":W={transform:"scale(0.9) rotate(10deg)"},H={borderRadius:"30% 30% 50% 50%",transform:"rotate(180deg) translateY(-5px)"};break;case"concerned":W={transform:"scaleY(0.7)"},H={transform:"scaleX(0.8)",height:"20%"};break}return b.jsxs("div",{className:"relative w-full h-full bg-pink-50 rounded-lg overflow-hidden",children:[b.jsx("img",{src:"/src/assets/soldierWithPins.png",alt:"חיילת",className:"absolute inset-0 w-full h-full object-cover"}),b.jsx("div",{className:"absolute",style:{top:"40%",left:"40%",width:"20%",height:"10%"},children:b.jsxs("div",{className:"relative w-full h-full",children:[b.jsx(oe.div,{className:"absolute inset-0 bg-white rounded-full",style:W,initial:{scaleY:1},animate:{scaleY:P==="closed"?.1:1},transition:{duration:.1}}),b.jsxs("div",{className:"absolute inset-0 flex justify-around items-center overflow-hidden",children:[b.jsx("div",{className:"bg-blue-900 rounded-full w-1/4 h-1/2"}),b.jsx("div",{className:"bg-blue-900 rounded-full w-1/4 h-1/2"})]})]})}),b.jsx("div",{className:"absolute",style:{bottom:"30%",left:"40%",width:"20%",height:"10%"},children:b.jsx(oe.div,{className:"bg-pink-800 rounded-full w-full",style:H,animate:{height:S==="closed"?"10%":S==="slightly-open"?"30%":S==="open"?"50%":"70%"},transition:{duration:.1}})})]})},ei={none:{},grayscale:{filter:"grayscale(1)"},sepia:{filter:"sepia(0.8)"},warm:{filter:"sepia(0.3) brightness(1.1) saturate(1.3)"},cool:{filter:"hue-rotate(180deg) brightness(1.1) contrast(1.1)"},blur:{filter:"blur(3px)"}};return b.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:b.jsxs(oe.div,{ref:K,className:"bg-white rounded-xl w-full max-w-4xl overflow-hidden shadow-xl",initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},transition:{duration:.3},children:[b.jsxs("div",{className:"p-4 bg-gradient-to-r from-blue-600 to-pink-500 text-white flex justify-between items-center",children:[b.jsx("h3",{className:"text-lg font-medium",children:"שיחת וידאו עם חיילתAI"}),b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx("button",{onClick:N,className:"text-white hover:text-blue-200 p-1 rounded hover:bg-white/10",title:v?"צא ממסך מלא":"מסך מלא",children:v?"⊞":"⛶"}),b.jsx("button",{onClick:t,className:"text-white hover:text-red-200 p-1 rounded hover:bg-white/10",title:"סגור",children:"✕"})]})]}),b.jsxs("div",{className:"p-4",children:[d===!1&&b.jsxs("div",{className:"bg-red-100 text-red-700 p-3 rounded mb-4 text-center",children:["נדרשת הרשאה למצלמה ולמיקרופון כדי להשתמש בשיחת וידאו.",b.jsx("button",{onClick:()=>window.location.reload(),className:"bg-red-600 text-white px-3 py-1 rounded mt-2",children:"נסה שוב"})]}),b.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[b.jsxs("div",{className:"w-full md:w-1/2",children:[b.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[b.jsxs("div",{className:"aspect-video bg-gray-900 rounded-lg overflow-hidden relative",children:[b.jsx("video",{ref:z,autoPlay:!0,muted:!0,playsInline:!0,className:`w-full h-full object-cover ${i?"":"hidden"}`,style:ei[M]||{}}),!i&&b.jsx("div",{className:"absolute inset-0 flex items-center justify-center text-white",children:b.jsx("div",{className:"text-4xl",children:"🎥 ❌"})}),A&&b.jsxs("div",{className:"absolute bottom-2 left-2 right-2 flex flex-wrap justify-center gap-1 bg-black/50 p-1 rounded",children:[b.jsx("button",{onClick:()=>qe("none"),className:`text-xs px-2 py-1 rounded ${M==="none"?"bg-blue-500 text-white":"bg-white/30 text-white"}`,children:"רגיל"}),b.jsx("button",{onClick:()=>qe("grayscale"),className:`text-xs px-2 py-1 rounded ${M==="grayscale"?"bg-blue-500 text-white":"bg-white/30 text-white"}`,children:"שחור-לבן"}),b.jsx("button",{onClick:()=>qe("sepia"),className:`text-xs px-2 py-1 rounded ${M==="sepia"?"bg-blue-500 text-white":"bg-white/30 text-white"}`,children:"וינטג'"}),b.jsx("button",{onClick:()=>qe("warm"),className:`text-xs px-2 py-1 rounded ${M==="warm"?"bg-blue-500 text-white":"bg-white/30 text-white"}`,children:"חם"}),b.jsx("button",{onClick:()=>qe("cool"),className:`text-xs px-2 py-1 rounded ${M==="cool"?"bg-blue-500 text-white":"bg-white/30 text-white"}`,children:"קר"})]})]}),b.jsx("div",{className:"aspect-video bg-blue-100 rounded-lg overflow-hidden",children:Ii()})]}),b.jsxs("div",{className:"mt-3 flex justify-center gap-3",children:[b.jsx("button",{onClick:we,className:`rounded-full p-3 ${i?"bg-blue-500 text-white":"bg-red-500 text-white"} hover:opacity-90 transition`,title:i?"כבה מצלמה":"הפעל מצלמה",children:i?"🎥":"🎥 ❌"}),b.jsx("button",{onClick:Ae,className:`rounded-full p-3 ${r?"bg-blue-500 text-white":"bg-red-500 text-white"} hover:opacity-90 transition`,title:r?"השתק מיקרופון":"הפעל מיקרופון",children:r?"🎤":"🎤 ❌"}),b.jsx("button",{onClick:F,className:`rounded-full p-3 ${a?"bg-red-500 animate-pulse text-white":"bg-green-500 text-white"} hover:opacity-90 transition`,title:a?"עצור הקלטה":"התחל הקלטה",children:a?"⏹️":"🗣️"}),b.jsx("button",{onClick:()=>j(!A),className:`rounded-full p-3 ${A?"bg-purple-500 text-white":"bg-gray-200 text-gray-700"} hover:opacity-90 transition`,title:"פילטרים",children:"🎨"})]})]}),b.jsxs("div",{className:"w-full md:w-1/2 flex flex-col",children:[b.jsx("div",{className:"bg-gray-100 rounded-lg p-3 flex-1 h-64 md:h-auto overflow-y-auto",children:g.length===0?b.jsx("div",{className:"flex items-center justify-center h-full text-gray-500",children:b.jsx("span",{children:"שיחה חדשה עם חיילתAI"})}):b.jsxs("div",{className:"space-y-3 flex flex-col",children:[g.map((W,H)=>b.jsxs("div",{className:`p-2 rounded-lg max-w-[85%] ${W.from==="user"?"bg-blue-500 text-white self-end":W.from==="bot"?"bg-pink-100 text-gray-800 self-start":"bg-red-100 text-red-800 self-start"}`,children:[W.text,b.jsx("div",{className:"text-xs opacity-60 mt-1 text-right",children:new Date().toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]},H)),y&&b.jsx("div",{className:"bg-pink-100 text-gray-800 self-start p-2 rounded-lg",children:b.jsxs("div",{className:"flex gap-1 justify-end",children:[b.jsx("div",{className:"w-2 h-2 bg-pink-500 rounded-full animate-bounce"}),b.jsx("div",{className:"w-2 h-2 bg-pink-500 rounded-full animate-bounce",style:{animationDelay:"0.2s"}}),b.jsx("div",{className:"w-2 h-2 bg-pink-500 rounded-full animate-bounce",style:{animationDelay:"0.4s"}})]})})]})}),b.jsxs("div",{className:"mt-3",children:[b.jsxs("div",{className:"relative",children:[b.jsx("input",{type:"text",value:f,onChange:W=>p(W.target.value),onKeyPress:W=>W.key==="Enter"&&f.trim()&&Ee(f),className:"w-full p-3 pr-12 rounded-lg border border-gray-300 focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:a?"מקליט...":"הקלד הודעה או לחץ על כפתור ההקלטה...",disabled:a}),b.jsx("button",{onClick:()=>f.trim()&&Ee(f),disabled:!f.trim()||a,className:"absolute right-2 top-1/2 transform -translate-y-1/2 text-blue-500 disabled:text-gray-400",title:"שלח הודעה",children:"➤"})]}),b.jsxs("div",{className:"mt-2 flex justify-between",children:[b.jsx("button",{onClick:ce,className:"text-sm text-red-600 hover:text-red-800",children:"התחל שיחה חדשה"}),f&&!a&&b.jsx("span",{className:"text-xs text-gray-500",children:"לחץ על Enter לשליחה"}),a&&b.jsx("span",{className:"text-xs text-red-500 animate-pulse",children:"מקליט..."})]})]})]})]})]})]})})};function cM(){const t=vl(),[e,n]=_.useState([]),[i,s]=_.useState(""),[r,o]=_.useState(""),[a,l]=_.useState(!1),[c,u]=_.useState(!1),[d,h]=_.useState(!1),[f,p]=_.useState(!1),[g,x]=_.useState(!1),[y,m]=_.useState(""),[v,w]=_.useState(!1),[S,C]=_.useState(!1),[P,k]=_.useState(null),[M,T]=_.useState(!1),[A,j]=_.useState([]),Y=_.useRef(null),U=_.useRef(null),z=_.useRef(null),V=window.innerWidth>768;_.useEffect(()=>{(async()=>{try{l(!0);const B=localStorage.getItem("chatHistory"),Q=localStorage.getItem("userName"),se=localStorage.getItem("darkMode")==="true";C(se),document.body.classList.toggle("dark-theme",se);const te=Ce.isVoiceSynthesisSupported&&Ce.isVoiceRecognitionSupported;if(p(typeof te=="function"?te()&&localStorage.getItem("voiceMode")==="true":localStorage.getItem("voiceMode")==="true"),Q&&(o(Q),Ft.updateUserInfo({name:Q})),B){const so=JSON.parse(B);n(so),so.length>0&&setTimeout(()=>{N(),setTimeout(()=>{const jh={from:"bot",text:Q?`היי ${Q}, נחמד לראות אותך שוב! איך אני יכולה לעזור לך היום?`:"היי שם! נחמד לראות אותך שוב. איך אני יכולה לעזור לך היום?"};if(n(Ll=>[...Ll,jh]),l(!1),E(),f)try{Ce.speak(jh.text)}catch(Ll){console.warn("Error speaking:",Ll)}},1500)},800),u(!0)}else K(Q);F()}catch(B){console.error("Error loading chat history:",B),K()}})()},[]);const K=async(O="")=>{try{N();const B=await Ft.initializeChat(O);n([{from:"bot",text:"היי! אני חיילתAI. אני כאן כדי לתמוך ולהקשיב 😊"},{from:"bot",text:"איך אתה מרגיש היום?"}]),u(!0),l(!1)}catch(B){console.error("Error initializing chat:",B),n([{from:"bot",text:"היי! אני חיילתAI. אני כאן כדי לתמוך ולהקשיב 😊"},{from:"bot",text:"איך אתה מרגיש היום?"}]),u(!0),l(!1)}};_.useEffect(()=>{E()},[e,a]);const E=()=>{Y.current?Y.current.scrollIntoView({behavior:"smooth"}):U.current&&(U.current.scrollTop=U.current.scrollHeight)};_.useEffect(()=>{if(e.length>0&&c)try{localStorage.setItem("chatHistory",JSON.stringify(e))}catch(O){console.warn("Error saving chat history:",O)}},[e,c]),_.useEffect(()=>()=>{L()},[g]);const L=()=>{if(g)try{Ce.stopListening()}catch(O){console.warn("Error stopping listening:",O)}try{Ce.stopSpeaking()}catch(O){console.warn("Error stopping speaking:",O)}},N=()=>{l(!0),P&&clearTimeout(P);const O=e[e.length-1],B=O?Math.min(1500,Math.max(800,O.text.length*15)):1e3,Q=setTimeout(()=>{l(!1)},B);k(Q)},F=()=>{const B=["איך אני יכול להתמודד עם לחץ במהלך המשמרת?","קשה לי להירדם בלילה, מה אפשר לעשות?","מתגעגע למשפחה, איך מתמודדים עם זה?","יש לי קושי עם המפקד שלי, איך לגשת לזה?"].sort(()=>.5-Math.random());j(B.slice(0,3))},G=O=>{try{const B=["טוב","מצוין","נהדר","שמח","רגוע","נפלא","מדהים","כיף"],Q=["רע","עצוב","קשה","מדוכא","עייף","לחוץ","מתוח","לא טוב"];let se="neutral";for(const te of B)if(O.toLowerCase().includes(te)){se="positive";break}for(const te of Q)if(O.toLowerCase().includes(te)){se="negative";break}return localStorage.setItem("userSentiment",se),Ft.updateUserInfo&&Ft.updateUserInfo({lastSentiment:se}),se}catch(B){return console.warn("Error analyzing sentiment:",B),"neutral"}},Ee=()=>{h(!1),N(),setTimeout(()=>{const O={from:"bot",text:"שיחת הווידאו הסתיימה. אני שמחה שדיברנו פנים אל פנים! האם יש עוד משהו שתרצה לשתף או לשאול?"};if(n(B=>[...B,O]),l(!1),f)try{Ce.speak(O.text)}catch(B){console.warn("Error speaking:",B)}},1e3)},we=O=>{s(B=>B+O),w(!1),z.current&&z.current.focus()},Ae=async()=>{if(!i.trim()&&!y||a)return;const O=y||i.trim();if(m(""),s(""),O.toLowerCase().includes("מצלמה")||O.toLowerCase().includes("וידאו")||O.toLowerCase().includes("לראות אותך")){const Q={from:"user",text:O};n(se=>[...se,Q]),N(),setTimeout(()=>{const se={from:"bot",text:"האם תרצה לפתוח שיחת וידאו? אוכל לראות ולשמוע אותך ולתת תגובות קוליות."};if(n(te=>[...te,se]),l(!1),f)try{Ce.speak(se.text)}catch(te){console.warn("Error speaking:",te)}},1e3);return}const B={from:"user",text:O};if(n(Q=>[...Q,B]),G(O),e.length<=3&&O.length>1&&!r){const Q=ce(O);Q&&(localStorage.setItem("userName",Q),o(Q),Ft.updateUserInfo&&Ft.updateUserInfo({name:Q}))}N();try{const Q=await Ft.sendMessage(O);if(!c)return;const se={from:"bot",text:Q};if(n(te=>[...te,se]),l(!1),f)try{Ce.speak(Q)}catch(te){console.warn("Error speaking:",te)}F()}catch(Q){console.error("Error getting AI response:",Q);const se={from:"bot",text:"סליחה, נתקלתי בבעיה בעת הניסיון להשיב. האם תוכל לנסות שוב?"};if(n(te=>[...te,se]),l(!1),f)try{Ce.speak(se.text)}catch(te){console.warn("Error speaking:",te)}}},ce=O=>{const B=[/שמי ([א-ת]+)/i,/קוראים לי ([א-ת]+)/i,/אני ([א-ת]+)/i];for(const se of B){const te=O.match(se);if(te&&te[1])return te[1].trim()}const Q=O.trim().split(/\s+/);return Q.length===1&&Q[0].length>1?Q[0]:null},qe=()=>{if(g){try{Ce.stopListening()}catch(O){console.warn("Error stopping listening:",O)}x(!1),y&&(s(y),setTimeout(()=>Ae(),300))}else try{Ce.startListening(B=>{B.finalTranscript?m(B.finalTranscript):B.interimTranscript&&m(B.interimTranscript),B.finalTranscript&&B.finalTranscript.length>2&&setTimeout(()=>{s(B.finalTranscript),Ae()},300)},B=>{console.error("Voice recognition error:",B),x(!1),B.code!=="not-allowed"&&(N(),setTimeout(()=>{const Q={from:"bot",text:"נתקלתי בבעיה בזיהוי הדיבור. נסה שוב או המשך בהקלדה."};n(se=>[...se,Q]),l(!1)},800))})?(x(!0),f||(p(!0),localStorage.setItem("voiceMode","true"))):e.slice(-3).some(se=>se.from==="bot"&&se.text.includes("לא ניתן להפעיל זיהוי קול"))||(N(),setTimeout(()=>{const se={from:"bot",text:"לא ניתן להפעיל זיהוי קול. ייתכן שהדפדפן שלך אינו תומך בתכונה זו או שלא אישרת גישה למיקרופון."};n(te=>[...te,se]),l(!1)},800))}catch(O){console.error("Error starting voice recognition:",O),N(),setTimeout(()=>{const B={from:"bot",text:"לא הצלחתי להפעיל את זיהוי הדיבור. נסה להשתמש בהקלדה."};n(Q=>[...Q,B]),l(!1)},800)}},Ii=()=>{const O=!f;if(p(O),localStorage.setItem("voiceMode",O.toString()),f)try{Ce.stopSpeaking()}catch(B){console.warn("Error stopping speaking:",B)}N(),setTimeout(()=>{const B={from:"bot",text:O?"מצב קולי הופעל. אני אקריא את התשובות שלי בקול רם.":"מצב קולי כובה."};if(n(Q=>[...Q,B]),l(!1),O)try{Ce.speak(B.text)}catch(Q){console.warn("Error speaking:",Q)}},800)},ei=O=>{O.key==="Enter"&&!O.shiftKey&&(O.preventDefault(),Ae())},W=()=>{window.confirm("האם אתה בטוח שברצונך למחוק את היסטוריית השיחה?")&&(L(),localStorage.removeItem("chatHistory"),Ft.clearConversation&&Ft.clearConversation(),N(),setTimeout(()=>{const O=[{from:"bot",text:"היי! אני חיילתAI. שמחה לפתוח בשיחה חדשה 😊"},{from:"bot",text:"איך אתה מרגיש היום?"}];if(n(O),l(!1),f)try{Ce.speak(O[0].text+" "+O[1].text)}catch(B){console.warn("Error speaking:",B)}F()},1e3))},H=()=>{if(!f){Ii();return}const O=[...e].reverse().find(B=>B.from==="bot");if(O)try{Ce.speak(O.text)}catch(B){console.warn("Error speaking:",B),e.slice(-3).some(te=>te.from==="bot"&&te.text.includes("לא הצלחתי להקריא"))||(N(),setTimeout(()=>{const te={from:"bot",text:"לא הצלחתי להקריא את ההודעה. נסה להפעיל את מצב הקולי."};n(so=>[...so,te]),l(!1)},800))}},Se=()=>{const O=!S;C(O),localStorage.setItem("darkMode",O.toString()),document.body.classList.toggle("dark-theme",O)},Al=O=>{s(O),T(!1),z.current&&z.current.focus()},g1=["😊","😁","😔","😢","😎","❤️","👍","👎","🙏","🤔","😴","🥱","🤢","😷","🤒"];return c?b.jsxs("div",{className:`p-4 max-w-xl mx-auto min-h-screen flex flex-col ${S?"dark-theme":""}`,children:[b.jsxs("div",{className:"flex justify-between items-center mb-4 bg-white dark:bg-gray-800 p-3 rounded-lg shadow-md",children:[b.jsxs("button",{onClick:()=>t("/"),className:"btn-modern btn-outline-modern",children:[b.jsx("span",{className:"mr-1",children:"🏠"})," חזרה"]}),b.jsx("h2",{className:"text-xl md:text-2xl font-bold text-center",children:"💬 שיחה עם חיילתAI"}),b.jsxs("div",{className:"flex gap-1",children:[b.jsx("button",{onClick:Se,className:"text-gray-500 dark:text-gray-300 text-sm p-2 rounded-full hover:bg-gray-100 dark:hover:bg-gray-700",title:S?"מצב בהיר":"מצב חשוך",children:S?"☀️":"🌙"}),b.jsx("button",{onClick:W,className:"text-gray-500 dark:text-gray-300 text-sm p-2 rounded-full hover:bg-gray-100 dark:hover:bg-gray-700",title:"מחק היסטוריה",children:"🗑️"})]})]}),b.jsx("div",{className:"flex justify-center mb-4",children:b.jsxs("div",{className:"relative",children:[b.jsx(oe.img,{src:"/src/assets/soldierWithPins.png",alt:"חיילת תומכת",className:"avatar-improved w-24 md:w-32 h-24 md:h-32",initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},transition:{duration:.6,ease:"easeOut"},onClick:H,title:"לחץ כדי לשמוע את ההודעה האחרונה שוב",style:{cursor:"pointer"},whileHover:{scale:1.05}}),f&&b.jsx(oe.div,{className:"absolute -bottom-2 left-1/2 transform -translate-x-1/2 bg-pink-500 text-white px-2 py-1 text-xs rounded-full font-bold",animate:{opacity:[.7,1,.7]},transition:{repeat:1/0,duration:2},children:"מצב קולי פעיל"})]})}),b.jsx("div",{ref:U,className:"flex-grow overflow-y-auto border rounded-lg p-3 md:p-4 bg-white dark:bg-gray-800 shadow-md mb-4",style:{maxHeight:V?"calc(100vh - 300px)":"calc(100vh - 270px)"},children:b.jsxs("div",{className:"space-y-3 md:space-y-4",children:[b.jsx(sM,{children:e.map((O,B)=>b.jsxs(oe.div,{className:`message-improved ${O.from==="bot"?"message-bot-improved":"message-user-improved"}`,initial:{opacity:0,y:20,scale:.95},animate:{opacity:1,y:0,scale:1},transition:{duration:.3},children:[O.text,b.jsx("div",{className:"text-xs opacity-50 mt-1 text-left",children:new Date().toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]},B))}),a&&b.jsx(oe.div,{className:"message-improved message-bot-improved",initial:{opacity:0},animate:{opacity:1},children:b.jsxs("div",{className:"typing-indicator",children:[b.jsx("div",{className:"typing-dot"}),b.jsx("div",{className:"typing-dot"}),b.jsx("div",{className:"typing-dot"})]})}),g&&y&&b.jsxs(oe.div,{className:"message-improved message-user-improved",initial:{opacity:0},animate:{opacity:1},children:[b.jsx("div",{className:"text-sm opacity-70 mb-1",children:"מקליט..."}),b.jsx("div",{children:y||"..."})]}),b.jsx("div",{ref:Y})]})}),M&&A.length>0&&b.jsxs(oe.div,{className:"mb-2",initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.3},children:[b.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400 mb-1 mr-1",children:"שאלות מוצעות:"}),b.jsx("div",{className:"flex flex-wrap gap-2",children:A.map((O,B)=>b.jsx("button",{onClick:()=>Al(O),className:"text-sm bg-blue-50 dark:bg-gray-700 text-blue-600 dark:text-blue-300 py-1 px-3 rounded-full hover:bg-blue-100 dark:hover:bg-gray-600 transition",children:O},B))})]}),b.jsxs("div",{className:"p-3 bg-white dark:bg-gray-800 rounded-lg shadow-md",children:[b.jsxs("div",{className:"flex gap-2 mb-2 relative",children:[b.jsxs("div",{className:"input-group-improved flex-1",children:[b.jsx("button",{onClick:()=>w(!v),className:"p-2 text-gray-500 dark:text-gray-300 hover:text-gray-700 dark:hover:text-gray-100",title:"הוסף אימוג'י",children:"😊"}),b.jsx("input",{ref:z,className:"input-improved dark:bg-transparent dark:text-white",placeholder:g?"מקליט...":"כתוב הודעה...",value:i,onChange:O=>s(O.target.value),onKeyDown:ei,onFocus:()=>T(!0),onBlur:()=>setTimeout(()=>T(!1),200),disabled:g}),b.jsx("button",{onClick:qe,className:`p-2 ${g?"text-red-600 animate-pulse":"text-gray-500 dark:text-gray-300 hover:text-gray-700 dark:hover:text-gray-100"}`,title:g?"עצור הקלטה":"הקלט הודעה קולית",children:g?"⏹️":"🎤"})]}),b.jsx("button",{onClick:Ae,className:"btn-modern btn-primary-modern",disabled:!i.trim()&&!y||a,children:"שלח"}),v&&b.jsx(oe.div,{className:"absolute bottom-full right-0 bg-white dark:bg-gray-700 shadow-lg p-2 rounded-lg mb-2 border border-gray-200 dark:border-gray-600 grid grid-cols-5 gap-2 max-w-xs z-10",initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0},children:g1.map(O=>b.jsx("button",{onClick:()=>we(O),className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-600 rounded",children:O},O))})]}),b.jsxs("div",{className:"flex flex-wrap justify-center gap-2 mt-3",children:[b.jsxs("button",{onClick:()=>h(!0),className:"btn-modern btn-outline-modern",children:[b.jsx("span",{className:"ml-1",children:"📹"})," ",V?"פתח שיחת וידאו":"וידאו"]}),b.jsxs("button",{onClick:Ii,className:`btn-modern ${f?"btn-secondary-modern":"btn-outline-modern"}`,children:[b.jsx("span",{className:"ml-1",children:"🔊"})," ",V?"מצב קולי":"קול"]}),b.jsxs("button",{onClick:W,className:"btn-modern btn-outline-modern",children:[b.jsx("span",{className:"ml-1",children:"🔄"})," ",V?"התחל מחדש":"ניקוי"]})]}),b.jsx("div",{className:"text-center text-gray-500 dark:text-gray-400 text-xs mt-3",children:b.jsx("p",{children:"כל הנתונים נשמרים רק במכשיר שלך ומוגנים בפרטיות מלאה"})})]}),d&&b.jsx(lM,{onClose:Ee,userName:r,onResetConversation:W})]}):b.jsx("div",{className:"flex items-center justify-center min-h-screen",children:b.jsxs("div",{className:"text-center",children:[b.jsx("div",{className:"w-16 h-16 border-4 border-primary border-t-transparent rounded-full animate-spin mx-auto mb-4"}),b.jsx("p",{className:"text-gray-700 dark:text-gray-300",children:"טוען את השיחה..."})]})})}/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function to(t){return t+.5|0}const Tn=(t,e,n)=>Math.max(Math.min(t,n),e);function Ys(t){return Tn(to(t*2.55),0,255)}function Hn(t){return Tn(to(t*255),0,255)}function Jt(t){return Tn(to(t/2.55)/100,0,1)}function am(t){return Tn(to(t*100),0,100)}const wt={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},Bu=[..."0123456789ABCDEF"],uM=t=>Bu[t&15],dM=t=>Bu[(t&240)>>4]+Bu[t&15],Mo=t=>(t&240)>>4===(t&15),hM=t=>Mo(t.r)&&Mo(t.g)&&Mo(t.b)&&Mo(t.a);function fM(t){var e=t.length,n;return t[0]==="#"&&(e===4||e===5?n={r:255&wt[t[1]]*17,g:255&wt[t[2]]*17,b:255&wt[t[3]]*17,a:e===5?wt[t[4]]*17:255}:(e===7||e===9)&&(n={r:wt[t[1]]<<4|wt[t[2]],g:wt[t[3]]<<4|wt[t[4]],b:wt[t[5]]<<4|wt[t[6]],a:e===9?wt[t[7]]<<4|wt[t[8]]:255})),n}const pM=(t,e)=>t<255?e(t):"";function mM(t){var e=hM(t)?uM:dM;return t?"#"+e(t.r)+e(t.g)+e(t.b)+pM(t.a,e):void 0}const gM=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function bx(t,e,n){const i=e*Math.min(n,1-n),s=(r,o=(r+t/30)%12)=>n-i*Math.max(Math.min(o-3,9-o,1),-1);return[s(0),s(8),s(4)]}function yM(t,e,n){const i=(s,r=(s+t/60)%6)=>n-n*e*Math.max(Math.min(r,4-r,1),0);return[i(5),i(3),i(1)]}function vM(t,e,n){const i=bx(t,1,.5);let s;for(e+n>1&&(s=1/(e+n),e*=s,n*=s),s=0;s<3;s++)i[s]*=1-e-n,i[s]+=e;return i}function xM(t,e,n,i,s){return t===s?(e-n)/i+(e<n?6:0):e===s?(n-t)/i+2:(t-e)/i+4}function bh(t){const n=t.r/255,i=t.g/255,s=t.b/255,r=Math.max(n,i,s),o=Math.min(n,i,s),a=(r+o)/2;let l,c,u;return r!==o&&(u=r-o,c=a>.5?u/(2-r-o):u/(r+o),l=xM(n,i,s,u,r),l=l*60+.5),[l|0,c||0,a]}function wh(t,e,n,i){return(Array.isArray(e)?t(e[0],e[1],e[2]):t(e,n,i)).map(Hn)}function Sh(t,e,n){return wh(bx,t,e,n)}function bM(t,e,n){return wh(vM,t,e,n)}function wM(t,e,n){return wh(yM,t,e,n)}function wx(t){return(t%360+360)%360}function SM(t){const e=gM.exec(t);let n=255,i;if(!e)return;e[5]!==i&&(n=e[6]?Ys(+e[5]):Hn(+e[5]));const s=wx(+e[2]),r=+e[3]/100,o=+e[4]/100;return e[1]==="hwb"?i=bM(s,r,o):e[1]==="hsv"?i=wM(s,r,o):i=Sh(s,r,o),{r:i[0],g:i[1],b:i[2],a:n}}function _M(t,e){var n=bh(t);n[0]=wx(n[0]+e),n=Sh(n),t.r=n[0],t.g=n[1],t.b=n[2]}function kM(t){if(!t)return;const e=bh(t),n=e[0],i=am(e[1]),s=am(e[2]);return t.a<255?`hsla(${n}, ${i}%, ${s}%, ${Jt(t.a)})`:`hsl(${n}, ${i}%, ${s}%)`}const lm={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},cm={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function PM(){const t={},e=Object.keys(cm),n=Object.keys(lm);let i,s,r,o,a;for(i=0;i<e.length;i++){for(o=a=e[i],s=0;s<n.length;s++)r=n[s],a=a.replace(r,lm[r]);r=parseInt(cm[o],16),t[a]=[r>>16&255,r>>8&255,r&255]}return t}let To;function CM(t){To||(To=PM(),To.transparent=[0,0,0,0]);const e=To[t.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const MM=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function TM(t){const e=MM.exec(t);let n=255,i,s,r;if(e){if(e[7]!==i){const o=+e[7];n=e[8]?Ys(o):Tn(o*255,0,255)}return i=+e[1],s=+e[3],r=+e[5],i=255&(e[2]?Ys(i):Tn(i,0,255)),s=255&(e[4]?Ys(s):Tn(s,0,255)),r=255&(e[6]?Ys(r):Tn(r,0,255)),{r:i,g:s,b:r,a:n}}}function EM(t){return t&&(t.a<255?`rgba(${t.r}, ${t.g}, ${t.b}, ${Jt(t.a)})`:`rgb(${t.r}, ${t.g}, ${t.b})`)}const bc=t=>t<=.0031308?t*12.92:Math.pow(t,1/2.4)*1.055-.055,ji=t=>t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4);function RM(t,e,n){const i=ji(Jt(t.r)),s=ji(Jt(t.g)),r=ji(Jt(t.b));return{r:Hn(bc(i+n*(ji(Jt(e.r))-i))),g:Hn(bc(s+n*(ji(Jt(e.g))-s))),b:Hn(bc(r+n*(ji(Jt(e.b))-r))),a:t.a+n*(e.a-t.a)}}function Eo(t,e,n){if(t){let i=bh(t);i[e]=Math.max(0,Math.min(i[e]+i[e]*n,e===0?360:1)),i=Sh(i),t.r=i[0],t.g=i[1],t.b=i[2]}}function Sx(t,e){return t&&Object.assign(e||{},t)}function um(t){var e={r:0,g:0,b:0,a:255};return Array.isArray(t)?t.length>=3&&(e={r:t[0],g:t[1],b:t[2],a:255},t.length>3&&(e.a=Hn(t[3]))):(e=Sx(t,{r:0,g:0,b:0,a:1}),e.a=Hn(e.a)),e}function DM(t){return t.charAt(0)==="r"?TM(t):SM(t)}class Vr{constructor(e){if(e instanceof Vr)return e;const n=typeof e;let i;n==="object"?i=um(e):n==="string"&&(i=fM(e)||CM(e)||DM(e)),this._rgb=i,this._valid=!!i}get valid(){return this._valid}get rgb(){var e=Sx(this._rgb);return e&&(e.a=Jt(e.a)),e}set rgb(e){this._rgb=um(e)}rgbString(){return this._valid?EM(this._rgb):void 0}hexString(){return this._valid?mM(this._rgb):void 0}hslString(){return this._valid?kM(this._rgb):void 0}mix(e,n){if(e){const i=this.rgb,s=e.rgb;let r;const o=n===r?.5:n,a=2*o-1,l=i.a-s.a,c=((a*l===-1?a:(a+l)/(1+a*l))+1)/2;r=1-c,i.r=255&c*i.r+r*s.r+.5,i.g=255&c*i.g+r*s.g+.5,i.b=255&c*i.b+r*s.b+.5,i.a=o*i.a+(1-o)*s.a,this.rgb=i}return this}interpolate(e,n){return e&&(this._rgb=RM(this._rgb,e._rgb,n)),this}clone(){return new Vr(this.rgb)}alpha(e){return this._rgb.a=Hn(e),this}clearer(e){const n=this._rgb;return n.a*=1-e,this}greyscale(){const e=this._rgb,n=to(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=n,this}opaquer(e){const n=this._rgb;return n.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return Eo(this._rgb,2,e),this}darken(e){return Eo(this._rgb,2,-e),this}saturate(e){return Eo(this._rgb,1,e),this}desaturate(e){return Eo(this._rgb,1,-e),this}rotate(e){return _M(this._rgb,e),this}}/*!
 * Chart.js v4.4.8
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function Xt(){}const AM=(()=>{let t=0;return()=>t++})();function q(t){return t==null}function de(t){if(Array.isArray&&Array.isArray(t))return!0;const e=Object.prototype.toString.call(t);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function J(t){return t!==null&&Object.prototype.toString.call(t)==="[object Object]"}function Pe(t){return(typeof t=="number"||t instanceof Number)&&isFinite(+t)}function dt(t,e){return Pe(t)?t:e}function X(t,e){return typeof t>"u"?e:t}const LM=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100:+t/e,_x=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100*e:+t;function re(t,e,n){if(t&&typeof t.call=="function")return t.apply(n,e)}function ne(t,e,n,i){let s,r,o;if(de(t))if(r=t.length,i)for(s=r-1;s>=0;s--)e.call(n,t[s],s);else for(s=0;s<r;s++)e.call(n,t[s],s);else if(J(t))for(o=Object.keys(t),r=o.length,s=0;s<r;s++)e.call(n,t[o[s]],o[s])}function $a(t,e){let n,i,s,r;if(!t||!e||t.length!==e.length)return!1;for(n=0,i=t.length;n<i;++n)if(s=t[n],r=e[n],s.datasetIndex!==r.datasetIndex||s.index!==r.index)return!1;return!0}function Ua(t){if(de(t))return t.map(Ua);if(J(t)){const e=Object.create(null),n=Object.keys(t),i=n.length;let s=0;for(;s<i;++s)e[n[s]]=Ua(t[n[s]]);return e}return t}function kx(t){return["__proto__","prototype","constructor"].indexOf(t)===-1}function OM(t,e,n,i){if(!kx(t))return;const s=e[t],r=n[t];J(s)&&J(r)?Fr(s,r,i):e[t]=Ua(r)}function Fr(t,e,n){const i=de(e)?e:[e],s=i.length;if(!J(t))return t;n=n||{};const r=n.merger||OM;let o;for(let a=0;a<s;++a){if(o=i[a],!J(o))continue;const l=Object.keys(o);for(let c=0,u=l.length;c<u;++c)r(l[c],t,o,n)}return t}function dr(t,e){return Fr(t,e,{merger:IM})}function IM(t,e,n){if(!kx(t))return;const i=e[t],s=n[t];J(i)&&J(s)?dr(i,s):Object.prototype.hasOwnProperty.call(e,t)||(e[t]=Ua(s))}const dm={"":t=>t,x:t=>t.x,y:t=>t.y};function NM(t){const e=t.split("."),n=[];let i="";for(const s of e)i+=s,i.endsWith("\\")?i=i.slice(0,-1)+".":(n.push(i),i="");return n}function jM(t){const e=NM(t);return n=>{for(const i of e){if(i==="")break;n=n&&n[i]}return n}}function Kn(t,e){return(dm[e]||(dm[e]=jM(e)))(t)}function _h(t){return t.charAt(0).toUpperCase()+t.slice(1)}const zr=t=>typeof t<"u",Xn=t=>typeof t=="function",hm=(t,e)=>{if(t.size!==e.size)return!1;for(const n of t)if(!e.has(n))return!1;return!0};function VM(t){return t.type==="mouseup"||t.type==="click"||t.type==="contextmenu"}const pe=Math.PI,fe=2*pe,FM=fe+pe,Ya=Number.POSITIVE_INFINITY,zM=pe/180,Te=pe/2,ni=pe/4,fm=pe*2/3,En=Math.log10,Kt=Math.sign;function hr(t,e,n){return Math.abs(t-e)<n}function pm(t){const e=Math.round(t);t=hr(t,e,t/1e3)?e:t;const n=Math.pow(10,Math.floor(En(t))),i=t/n;return(i<=1?1:i<=2?2:i<=5?5:10)*n}function BM(t){const e=[],n=Math.sqrt(t);let i;for(i=1;i<n;i++)t%i===0&&(e.push(i),e.push(t/i));return n===(n|0)&&e.push(n),e.sort((s,r)=>s-r).pop(),e}function HM(t){return typeof t=="symbol"||typeof t=="object"&&t!==null&&!(Symbol.toPrimitive in t||"toString"in t||"valueOf"in t)}function ys(t){return!HM(t)&&!isNaN(parseFloat(t))&&isFinite(t)}function WM(t,e){const n=Math.round(t);return n-e<=t&&n+e>=t}function Px(t,e,n){let i,s,r;for(i=0,s=t.length;i<s;i++)r=t[i][n],isNaN(r)||(e.min=Math.min(e.min,r),e.max=Math.max(e.max,r))}function Lt(t){return t*(pe/180)}function kh(t){return t*(180/pe)}function mm(t){if(!Pe(t))return;let e=1,n=0;for(;Math.round(t*e)/e!==t;)e*=10,n++;return n}function Cx(t,e){const n=e.x-t.x,i=e.y-t.y,s=Math.sqrt(n*n+i*i);let r=Math.atan2(i,n);return r<-.5*pe&&(r+=fe),{angle:r,distance:s}}function Hu(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function $M(t,e){return(t-e+FM)%fe-pe}function ft(t){return(t%fe+fe)%fe}function Br(t,e,n,i){const s=ft(t),r=ft(e),o=ft(n),a=ft(r-s),l=ft(o-s),c=ft(s-r),u=ft(s-o);return s===r||s===o||i&&r===o||a>l&&c<u}function Ve(t,e,n){return Math.max(e,Math.min(n,t))}function UM(t){return Ve(t,-32768,32767)}function rn(t,e,n,i=1e-6){return t>=Math.min(e,n)-i&&t<=Math.max(e,n)+i}function Ph(t,e,n){n=n||(o=>t[o]<e);let i=t.length-1,s=0,r;for(;i-s>1;)r=s+i>>1,n(r)?s=r:i=r;return{lo:s,hi:i}}const on=(t,e,n,i)=>Ph(t,n,i?s=>{const r=t[s][e];return r<n||r===n&&t[s+1][e]===n}:s=>t[s][e]<n),YM=(t,e,n)=>Ph(t,n,i=>t[i][e]>=n);function KM(t,e,n){let i=0,s=t.length;for(;i<s&&t[i]<e;)i++;for(;s>i&&t[s-1]>n;)s--;return i>0||s<t.length?t.slice(i,s):t}const Mx=["push","pop","shift","splice","unshift"];function XM(t,e){if(t._chartjs){t._chartjs.listeners.push(e);return}Object.defineProperty(t,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),Mx.forEach(n=>{const i="_onData"+_h(n),s=t[n];Object.defineProperty(t,n,{configurable:!0,enumerable:!1,value(...r){const o=s.apply(this,r);return t._chartjs.listeners.forEach(a=>{typeof a[i]=="function"&&a[i](...r)}),o}})})}function gm(t,e){const n=t._chartjs;if(!n)return;const i=n.listeners,s=i.indexOf(e);s!==-1&&i.splice(s,1),!(i.length>0)&&(Mx.forEach(r=>{delete t[r]}),delete t._chartjs)}function Tx(t){const e=new Set(t);return e.size===t.length?t:Array.from(e)}const Ex=function(){return typeof window>"u"?function(t){return t()}:window.requestAnimationFrame}();function Rx(t,e){let n=[],i=!1;return function(...s){n=s,i||(i=!0,Ex.call(window,()=>{i=!1,t.apply(e,n)}))}}function GM(t,e){let n;return function(...i){return e?(clearTimeout(n),n=setTimeout(t,e,i)):t.apply(this,i),e}}const Ch=t=>t==="start"?"left":t==="end"?"right":"center",Ye=(t,e,n)=>t==="start"?e:t==="end"?n:(e+n)/2,QM=(t,e,n,i)=>t===(i?"left":"right")?n:t==="center"?(e+n)/2:e;function Dx(t,e,n){const i=e.length;let s=0,r=i;if(t._sorted){const{iScale:o,vScale:a,_parsed:l}=t,c=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null,u=o.axis,{min:d,max:h,minDefined:f,maxDefined:p}=o.getUserBounds();if(f){if(s=Math.min(on(l,u,d).lo,n?i:on(e,u,o.getPixelForValue(d)).lo),c){const g=l.slice(0,s+1).reverse().findIndex(x=>!q(x[a.axis]));s-=Math.max(0,g)}s=Ve(s,0,i-1)}if(p){let g=Math.max(on(l,o.axis,h,!0).hi+1,n?0:on(e,u,o.getPixelForValue(h),!0).hi+1);if(c){const x=l.slice(g-1).findIndex(y=>!q(y[a.axis]));g+=Math.max(0,x)}r=Ve(g,s,i)-s}else r=i-s}return{start:s,count:r}}function Ax(t){const{xScale:e,yScale:n,_scaleRanges:i}=t,s={xmin:e.min,xmax:e.max,ymin:n.min,ymax:n.max};if(!i)return t._scaleRanges=s,!0;const r=i.xmin!==e.min||i.xmax!==e.max||i.ymin!==n.min||i.ymax!==n.max;return Object.assign(i,s),r}const Ro=t=>t===0||t===1,ym=(t,e,n)=>-(Math.pow(2,10*(t-=1))*Math.sin((t-e)*fe/n)),vm=(t,e,n)=>Math.pow(2,-10*t)*Math.sin((t-e)*fe/n)+1,fr={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>-t*(t-2),easeInOutQuad:t=>(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1),easeInCubic:t=>t*t*t,easeOutCubic:t=>(t-=1)*t*t+1,easeInOutCubic:t=>(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2),easeInQuart:t=>t*t*t*t,easeOutQuart:t=>-((t-=1)*t*t*t-1),easeInOutQuart:t=>(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2),easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>(t-=1)*t*t*t*t+1,easeInOutQuint:t=>(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2),easeInSine:t=>-Math.cos(t*Te)+1,easeOutSine:t=>Math.sin(t*Te),easeInOutSine:t=>-.5*(Math.cos(pe*t)-1),easeInExpo:t=>t===0?0:Math.pow(2,10*(t-1)),easeOutExpo:t=>t===1?1:-Math.pow(2,-10*t)+1,easeInOutExpo:t=>Ro(t)?t:t<.5?.5*Math.pow(2,10*(t*2-1)):.5*(-Math.pow(2,-10*(t*2-1))+2),easeInCirc:t=>t>=1?t:-(Math.sqrt(1-t*t)-1),easeOutCirc:t=>Math.sqrt(1-(t-=1)*t),easeInOutCirc:t=>(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1),easeInElastic:t=>Ro(t)?t:ym(t,.075,.3),easeOutElastic:t=>Ro(t)?t:vm(t,.075,.3),easeInOutElastic(t){return Ro(t)?t:t<.5?.5*ym(t*2,.1125,.45):.5+.5*vm(t*2-1,.1125,.45)},easeInBack(t){return t*t*((1.70158+1)*t-1.70158)},easeOutBack(t){return(t-=1)*t*((1.70158+1)*t+1.70158)+1},easeInOutBack(t){let e=1.70158;return(t/=.5)<1?.5*(t*t*(((e*=1.525)+1)*t-e)):.5*((t-=2)*t*(((e*=1.525)+1)*t+e)+2)},easeInBounce:t=>1-fr.easeOutBounce(1-t),easeOutBounce(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},easeInOutBounce:t=>t<.5?fr.easeInBounce(t*2)*.5:fr.easeOutBounce(t*2-1)*.5+.5};function Mh(t){if(t&&typeof t=="object"){const e=t.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function xm(t){return Mh(t)?t:new Vr(t)}function wc(t){return Mh(t)?t:new Vr(t).saturate(.5).darken(.1).hexString()}const qM=["x","y","borderWidth","radius","tension"],ZM=["color","borderColor","backgroundColor"];function JM(t){t.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),t.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),t.set("animations",{colors:{type:"color",properties:ZM},numbers:{type:"number",properties:qM}}),t.describe("animations",{_fallback:"animation"}),t.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function eT(t){t.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const bm=new Map;function tT(t,e){e=e||{};const n=t+JSON.stringify(e);let i=bm.get(n);return i||(i=new Intl.NumberFormat(t,e),bm.set(n,i)),i}function no(t,e,n){return tT(e,n).format(t)}const Lx={values(t){return de(t)?t:""+t},numeric(t,e,n){if(t===0)return"0";const i=this.chart.options.locale;let s,r=t;if(n.length>1){const c=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(c<1e-4||c>1e15)&&(s="scientific"),r=nT(t,n)}const o=En(Math.abs(r)),a=isNaN(o)?1:Math.max(Math.min(-1*Math.floor(o),20),0),l={notation:s,minimumFractionDigits:a,maximumFractionDigits:a};return Object.assign(l,this.options.ticks.format),no(t,i,l)},logarithmic(t,e,n){if(t===0)return"0";const i=n[e].significand||t/Math.pow(10,Math.floor(En(t)));return[1,2,3,5,10,15].includes(i)||e>.8*n.length?Lx.numeric.call(this,t,e,n):""}};function nT(t,e){let n=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(n)>=1&&t!==Math.floor(t)&&(n=t-Math.floor(t)),n}var Ml={formatters:Lx};function iT(t){t.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,n)=>n.lineWidth,tickColor:(e,n)=>n.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:Ml.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),t.route("scale.ticks","color","","color"),t.route("scale.grid","color","","borderColor"),t.route("scale.border","color","","borderColor"),t.route("scale.title","color","","color"),t.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),t.describe("scales",{_fallback:"scale"}),t.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const Ti=Object.create(null),Wu=Object.create(null);function pr(t,e){if(!e)return t;const n=e.split(".");for(let i=0,s=n.length;i<s;++i){const r=n[i];t=t[r]||(t[r]=Object.create(null))}return t}function Sc(t,e,n){return typeof e=="string"?Fr(pr(t,e),n):Fr(pr(t,""),e)}class sT{constructor(e,n){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=i=>i.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(i,s)=>wc(s.backgroundColor),this.hoverBorderColor=(i,s)=>wc(s.borderColor),this.hoverColor=(i,s)=>wc(s.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(n)}set(e,n){return Sc(this,e,n)}get(e){return pr(this,e)}describe(e,n){return Sc(Wu,e,n)}override(e,n){return Sc(Ti,e,n)}route(e,n,i,s){const r=pr(this,e),o=pr(this,i),a="_"+n;Object.defineProperties(r,{[a]:{value:r[n],writable:!0},[n]:{enumerable:!0,get(){const l=this[a],c=o[s];return J(l)?Object.assign({},c,l):X(l,c)},set(l){this[a]=l}}})}apply(e){e.forEach(n=>n(this))}}var ge=new sT({_scriptable:t=>!t.startsWith("on"),_indexable:t=>t!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[JM,eT,iT]);function rT(t){return!t||q(t.size)||q(t.family)?null:(t.style?t.style+" ":"")+(t.weight?t.weight+" ":"")+t.size+"px "+t.family}function Ka(t,e,n,i,s){let r=e[s];return r||(r=e[s]=t.measureText(s).width,n.push(s)),r>i&&(i=r),i}function oT(t,e,n,i){i=i||{};let s=i.data=i.data||{},r=i.garbageCollect=i.garbageCollect||[];i.font!==e&&(s=i.data={},r=i.garbageCollect=[],i.font=e),t.save(),t.font=e;let o=0;const a=n.length;let l,c,u,d,h;for(l=0;l<a;l++)if(d=n[l],d!=null&&!de(d))o=Ka(t,s,r,o,d);else if(de(d))for(c=0,u=d.length;c<u;c++)h=d[c],h!=null&&!de(h)&&(o=Ka(t,s,r,o,h));t.restore();const f=r.length/2;if(f>n.length){for(l=0;l<f;l++)delete s[r[l]];r.splice(0,f)}return o}function ii(t,e,n){const i=t.currentDevicePixelRatio,s=n!==0?Math.max(n/2,.5):0;return Math.round((e-s)*i)/i+s}function wm(t,e){!e&&!t||(e=e||t.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,t.width,t.height),e.restore())}function $u(t,e,n,i){Ox(t,e,n,i,null)}function Ox(t,e,n,i,s){let r,o,a,l,c,u,d,h;const f=e.pointStyle,p=e.rotation,g=e.radius;let x=(p||0)*zM;if(f&&typeof f=="object"&&(r=f.toString(),r==="[object HTMLImageElement]"||r==="[object HTMLCanvasElement]")){t.save(),t.translate(n,i),t.rotate(x),t.drawImage(f,-f.width/2,-f.height/2,f.width,f.height),t.restore();return}if(!(isNaN(g)||g<=0)){switch(t.beginPath(),f){default:s?t.ellipse(n,i,s/2,g,0,0,fe):t.arc(n,i,g,0,fe),t.closePath();break;case"triangle":u=s?s/2:g,t.moveTo(n+Math.sin(x)*u,i-Math.cos(x)*g),x+=fm,t.lineTo(n+Math.sin(x)*u,i-Math.cos(x)*g),x+=fm,t.lineTo(n+Math.sin(x)*u,i-Math.cos(x)*g),t.closePath();break;case"rectRounded":c=g*.516,l=g-c,o=Math.cos(x+ni)*l,d=Math.cos(x+ni)*(s?s/2-c:l),a=Math.sin(x+ni)*l,h=Math.sin(x+ni)*(s?s/2-c:l),t.arc(n-d,i-a,c,x-pe,x-Te),t.arc(n+h,i-o,c,x-Te,x),t.arc(n+d,i+a,c,x,x+Te),t.arc(n-h,i+o,c,x+Te,x+pe),t.closePath();break;case"rect":if(!p){l=Math.SQRT1_2*g,u=s?s/2:l,t.rect(n-u,i-l,2*u,2*l);break}x+=ni;case"rectRot":d=Math.cos(x)*(s?s/2:g),o=Math.cos(x)*g,a=Math.sin(x)*g,h=Math.sin(x)*(s?s/2:g),t.moveTo(n-d,i-a),t.lineTo(n+h,i-o),t.lineTo(n+d,i+a),t.lineTo(n-h,i+o),t.closePath();break;case"crossRot":x+=ni;case"cross":d=Math.cos(x)*(s?s/2:g),o=Math.cos(x)*g,a=Math.sin(x)*g,h=Math.sin(x)*(s?s/2:g),t.moveTo(n-d,i-a),t.lineTo(n+d,i+a),t.moveTo(n+h,i-o),t.lineTo(n-h,i+o);break;case"star":d=Math.cos(x)*(s?s/2:g),o=Math.cos(x)*g,a=Math.sin(x)*g,h=Math.sin(x)*(s?s/2:g),t.moveTo(n-d,i-a),t.lineTo(n+d,i+a),t.moveTo(n+h,i-o),t.lineTo(n-h,i+o),x+=ni,d=Math.cos(x)*(s?s/2:g),o=Math.cos(x)*g,a=Math.sin(x)*g,h=Math.sin(x)*(s?s/2:g),t.moveTo(n-d,i-a),t.lineTo(n+d,i+a),t.moveTo(n+h,i-o),t.lineTo(n-h,i+o);break;case"line":o=s?s/2:Math.cos(x)*g,a=Math.sin(x)*g,t.moveTo(n-o,i-a),t.lineTo(n+o,i+a);break;case"dash":t.moveTo(n,i),t.lineTo(n+Math.cos(x)*(s?s/2:g),i+Math.sin(x)*g);break;case!1:t.closePath();break}t.fill(),e.borderWidth>0&&t.stroke()}}function an(t,e,n){return n=n||.5,!e||t&&t.x>e.left-n&&t.x<e.right+n&&t.y>e.top-n&&t.y<e.bottom+n}function Tl(t,e){t.save(),t.beginPath(),t.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),t.clip()}function El(t){t.restore()}function aT(t,e,n,i,s){if(!e)return t.lineTo(n.x,n.y);if(s==="middle"){const r=(e.x+n.x)/2;t.lineTo(r,e.y),t.lineTo(r,n.y)}else s==="after"!=!!i?t.lineTo(e.x,n.y):t.lineTo(n.x,e.y);t.lineTo(n.x,n.y)}function lT(t,e,n,i){if(!e)return t.lineTo(n.x,n.y);t.bezierCurveTo(i?e.cp1x:e.cp2x,i?e.cp1y:e.cp2y,i?n.cp2x:n.cp1x,i?n.cp2y:n.cp1y,n.x,n.y)}function cT(t,e){e.translation&&t.translate(e.translation[0],e.translation[1]),q(e.rotation)||t.rotate(e.rotation),e.color&&(t.fillStyle=e.color),e.textAlign&&(t.textAlign=e.textAlign),e.textBaseline&&(t.textBaseline=e.textBaseline)}function uT(t,e,n,i,s){if(s.strikethrough||s.underline){const r=t.measureText(i),o=e-r.actualBoundingBoxLeft,a=e+r.actualBoundingBoxRight,l=n-r.actualBoundingBoxAscent,c=n+r.actualBoundingBoxDescent,u=s.strikethrough?(l+c)/2:c;t.strokeStyle=t.fillStyle,t.beginPath(),t.lineWidth=s.decorationWidth||2,t.moveTo(o,u),t.lineTo(a,u),t.stroke()}}function dT(t,e){const n=t.fillStyle;t.fillStyle=e.color,t.fillRect(e.left,e.top,e.width,e.height),t.fillStyle=n}function Ei(t,e,n,i,s,r={}){const o=de(e)?e:[e],a=r.strokeWidth>0&&r.strokeColor!=="";let l,c;for(t.save(),t.font=s.string,cT(t,r),l=0;l<o.length;++l)c=o[l],r.backdrop&&dT(t,r.backdrop),a&&(r.strokeColor&&(t.strokeStyle=r.strokeColor),q(r.strokeWidth)||(t.lineWidth=r.strokeWidth),t.strokeText(c,n,i,r.maxWidth)),t.fillText(c,n,i,r.maxWidth),uT(t,n,i,c,r),i+=Number(s.lineHeight);t.restore()}function Hr(t,e){const{x:n,y:i,w:s,h:r,radius:o}=e;t.arc(n+o.topLeft,i+o.topLeft,o.topLeft,1.5*pe,pe,!0),t.lineTo(n,i+r-o.bottomLeft),t.arc(n+o.bottomLeft,i+r-o.bottomLeft,o.bottomLeft,pe,Te,!0),t.lineTo(n+s-o.bottomRight,i+r),t.arc(n+s-o.bottomRight,i+r-o.bottomRight,o.bottomRight,Te,0,!0),t.lineTo(n+s,i+o.topRight),t.arc(n+s-o.topRight,i+o.topRight,o.topRight,0,-Te,!0),t.lineTo(n+o.topLeft,i)}const hT=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,fT=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function pT(t,e){const n=(""+t).match(hT);if(!n||n[1]==="normal")return e*1.2;switch(t=+n[2],n[3]){case"px":return t;case"%":t/=100;break}return e*t}const mT=t=>+t||0;function Th(t,e){const n={},i=J(e),s=i?Object.keys(e):e,r=J(t)?i?o=>X(t[o],t[e[o]]):o=>t[o]:()=>t;for(const o of s)n[o]=mT(r(o));return n}function Ix(t){return Th(t,{top:"y",right:"x",bottom:"y",left:"x"})}function wi(t){return Th(t,["topLeft","topRight","bottomLeft","bottomRight"])}function Qe(t){const e=Ix(t);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function Ie(t,e){t=t||{},e=e||ge.font;let n=X(t.size,e.size);typeof n=="string"&&(n=parseInt(n,10));let i=X(t.style,e.style);i&&!(""+i).match(fT)&&(console.warn('Invalid font style specified: "'+i+'"'),i=void 0);const s={family:X(t.family,e.family),lineHeight:pT(X(t.lineHeight,e.lineHeight),n),size:n,style:i,weight:X(t.weight,e.weight),string:""};return s.string=rT(s),s}function Ks(t,e,n,i){let s=!0,r,o,a;for(r=0,o=t.length;r<o;++r)if(a=t[r],a!==void 0&&(e!==void 0&&typeof a=="function"&&(a=a(e),s=!1),n!==void 0&&de(a)&&(a=a[n%a.length],s=!1),a!==void 0))return i&&!s&&(i.cacheable=!1),a}function gT(t,e,n){const{min:i,max:s}=t,r=_x(e,(s-i)/2),o=(a,l)=>n&&a===0?0:a+l;return{min:o(i,-Math.abs(r)),max:o(s,r)}}function Jn(t,e){return Object.assign(Object.create(t),e)}function Eh(t,e=[""],n,i,s=()=>t[0]){const r=n||t;typeof i>"u"&&(i=Fx("_fallback",t));const o={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:t,_rootScopes:r,_fallback:i,_getTarget:s,override:a=>Eh([a,...t],e,r,i)};return new Proxy(o,{deleteProperty(a,l){return delete a[l],delete a._keys,delete t[0][l],!0},get(a,l){return jx(a,l,()=>kT(l,e,t,a))},getOwnPropertyDescriptor(a,l){return Reflect.getOwnPropertyDescriptor(a._scopes[0],l)},getPrototypeOf(){return Reflect.getPrototypeOf(t[0])},has(a,l){return _m(a).includes(l)},ownKeys(a){return _m(a)},set(a,l,c){const u=a._storage||(a._storage=s());return a[l]=u[l]=c,delete a._keys,!0}})}function vs(t,e,n,i){const s={_cacheable:!1,_proxy:t,_context:e,_subProxy:n,_stack:new Set,_descriptors:Nx(t,i),setContext:r=>vs(t,r,n,i),override:r=>vs(t.override(r),e,n,i)};return new Proxy(s,{deleteProperty(r,o){return delete r[o],delete t[o],!0},get(r,o,a){return jx(r,o,()=>vT(r,o,a))},getOwnPropertyDescriptor(r,o){return r._descriptors.allKeys?Reflect.has(t,o)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(t,o)},getPrototypeOf(){return Reflect.getPrototypeOf(t)},has(r,o){return Reflect.has(t,o)},ownKeys(){return Reflect.ownKeys(t)},set(r,o,a){return t[o]=a,delete r[o],!0}})}function Nx(t,e={scriptable:!0,indexable:!0}){const{_scriptable:n=e.scriptable,_indexable:i=e.indexable,_allKeys:s=e.allKeys}=t;return{allKeys:s,scriptable:n,indexable:i,isScriptable:Xn(n)?n:()=>n,isIndexable:Xn(i)?i:()=>i}}const yT=(t,e)=>t?t+_h(e):e,Rh=(t,e)=>J(e)&&t!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function jx(t,e,n){if(Object.prototype.hasOwnProperty.call(t,e)||e==="constructor")return t[e];const i=n();return t[e]=i,i}function vT(t,e,n){const{_proxy:i,_context:s,_subProxy:r,_descriptors:o}=t;let a=i[e];return Xn(a)&&o.isScriptable(e)&&(a=xT(e,a,t,n)),de(a)&&a.length&&(a=bT(e,a,t,o.isIndexable)),Rh(e,a)&&(a=vs(a,s,r&&r[e],o)),a}function xT(t,e,n,i){const{_proxy:s,_context:r,_subProxy:o,_stack:a}=n;if(a.has(t))throw new Error("Recursion detected: "+Array.from(a).join("->")+"->"+t);a.add(t);let l=e(r,o||i);return a.delete(t),Rh(t,l)&&(l=Dh(s._scopes,s,t,l)),l}function bT(t,e,n,i){const{_proxy:s,_context:r,_subProxy:o,_descriptors:a}=n;if(typeof r.index<"u"&&i(t))return e[r.index%e.length];if(J(e[0])){const l=e,c=s._scopes.filter(u=>u!==l);e=[];for(const u of l){const d=Dh(c,s,t,u);e.push(vs(d,r,o&&o[t],a))}}return e}function Vx(t,e,n){return Xn(t)?t(e,n):t}const wT=(t,e)=>t===!0?e:typeof t=="string"?Kn(e,t):void 0;function ST(t,e,n,i,s){for(const r of e){const o=wT(n,r);if(o){t.add(o);const a=Vx(o._fallback,n,s);if(typeof a<"u"&&a!==n&&a!==i)return a}else if(o===!1&&typeof i<"u"&&n!==i)return null}return!1}function Dh(t,e,n,i){const s=e._rootScopes,r=Vx(e._fallback,n,i),o=[...t,...s],a=new Set;a.add(i);let l=Sm(a,o,n,r||n,i);return l===null||typeof r<"u"&&r!==n&&(l=Sm(a,o,r,l,i),l===null)?!1:Eh(Array.from(a),[""],s,r,()=>_T(e,n,i))}function Sm(t,e,n,i,s){for(;n;)n=ST(t,e,n,i,s);return n}function _T(t,e,n){const i=t._getTarget();e in i||(i[e]={});const s=i[e];return de(s)&&J(n)?n:s||{}}function kT(t,e,n,i){let s;for(const r of e)if(s=Fx(yT(r,t),n),typeof s<"u")return Rh(t,s)?Dh(n,i,t,s):s}function Fx(t,e){for(const n of e){if(!n)continue;const i=n[t];if(typeof i<"u")return i}}function _m(t){let e=t._keys;return e||(e=t._keys=PT(t._scopes)),e}function PT(t){const e=new Set;for(const n of t)for(const i of Object.keys(n).filter(s=>!s.startsWith("_")))e.add(i);return Array.from(e)}function zx(t,e,n,i){const{iScale:s}=t,{key:r="r"}=this._parsing,o=new Array(i);let a,l,c,u;for(a=0,l=i;a<l;++a)c=a+n,u=e[c],o[a]={r:s.parse(Kn(u,r),c)};return o}const CT=Number.EPSILON||1e-14,xs=(t,e)=>e<t.length&&!t[e].skip&&t[e],Bx=t=>t==="x"?"y":"x";function MT(t,e,n,i){const s=t.skip?e:t,r=e,o=n.skip?e:n,a=Hu(r,s),l=Hu(o,r);let c=a/(a+l),u=l/(a+l);c=isNaN(c)?0:c,u=isNaN(u)?0:u;const d=i*c,h=i*u;return{previous:{x:r.x-d*(o.x-s.x),y:r.y-d*(o.y-s.y)},next:{x:r.x+h*(o.x-s.x),y:r.y+h*(o.y-s.y)}}}function TT(t,e,n){const i=t.length;let s,r,o,a,l,c=xs(t,0);for(let u=0;u<i-1;++u)if(l=c,c=xs(t,u+1),!(!l||!c)){if(hr(e[u],0,CT)){n[u]=n[u+1]=0;continue}s=n[u]/e[u],r=n[u+1]/e[u],a=Math.pow(s,2)+Math.pow(r,2),!(a<=9)&&(o=3/Math.sqrt(a),n[u]=s*o*e[u],n[u+1]=r*o*e[u])}}function ET(t,e,n="x"){const i=Bx(n),s=t.length;let r,o,a,l=xs(t,0);for(let c=0;c<s;++c){if(o=a,a=l,l=xs(t,c+1),!a)continue;const u=a[n],d=a[i];o&&(r=(u-o[n])/3,a[`cp1${n}`]=u-r,a[`cp1${i}`]=d-r*e[c]),l&&(r=(l[n]-u)/3,a[`cp2${n}`]=u+r,a[`cp2${i}`]=d+r*e[c])}}function RT(t,e="x"){const n=Bx(e),i=t.length,s=Array(i).fill(0),r=Array(i);let o,a,l,c=xs(t,0);for(o=0;o<i;++o)if(a=l,l=c,c=xs(t,o+1),!!l){if(c){const u=c[e]-l[e];s[o]=u!==0?(c[n]-l[n])/u:0}r[o]=a?c?Kt(s[o-1])!==Kt(s[o])?0:(s[o-1]+s[o])/2:s[o-1]:s[o]}TT(t,s,r),ET(t,r,e)}function Do(t,e,n){return Math.max(Math.min(t,n),e)}function DT(t,e){let n,i,s,r,o,a=an(t[0],e);for(n=0,i=t.length;n<i;++n)o=r,r=a,a=n<i-1&&an(t[n+1],e),r&&(s=t[n],o&&(s.cp1x=Do(s.cp1x,e.left,e.right),s.cp1y=Do(s.cp1y,e.top,e.bottom)),a&&(s.cp2x=Do(s.cp2x,e.left,e.right),s.cp2y=Do(s.cp2y,e.top,e.bottom)))}function AT(t,e,n,i,s){let r,o,a,l;if(e.spanGaps&&(t=t.filter(c=>!c.skip)),e.cubicInterpolationMode==="monotone")RT(t,s);else{let c=i?t[t.length-1]:t[0];for(r=0,o=t.length;r<o;++r)a=t[r],l=MT(c,a,t[Math.min(r+1,o-(i?0:1))%o],e.tension),a.cp1x=l.previous.x,a.cp1y=l.previous.y,a.cp2x=l.next.x,a.cp2y=l.next.y,c=a}e.capBezierPoints&&DT(t,n)}function Ah(){return typeof window<"u"&&typeof document<"u"}function Lh(t){let e=t.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function Xa(t,e,n){let i;return typeof t=="string"?(i=parseInt(t,10),t.indexOf("%")!==-1&&(i=i/100*e.parentNode[n])):i=t,i}const Rl=t=>t.ownerDocument.defaultView.getComputedStyle(t,null);function LT(t,e){return Rl(t).getPropertyValue(e)}const OT=["top","right","bottom","left"];function Si(t,e,n){const i={};n=n?"-"+n:"";for(let s=0;s<4;s++){const r=OT[s];i[r]=parseFloat(t[e+"-"+r+n])||0}return i.width=i.left+i.right,i.height=i.top+i.bottom,i}const IT=(t,e,n)=>(t>0||e>0)&&(!n||!n.shadowRoot);function NT(t,e){const n=t.touches,i=n&&n.length?n[0]:t,{offsetX:s,offsetY:r}=i;let o=!1,a,l;if(IT(s,r,t.target))a=s,l=r;else{const c=e.getBoundingClientRect();a=i.clientX-c.left,l=i.clientY-c.top,o=!0}return{x:a,y:l,box:o}}function di(t,e){if("native"in t)return t;const{canvas:n,currentDevicePixelRatio:i}=e,s=Rl(n),r=s.boxSizing==="border-box",o=Si(s,"padding"),a=Si(s,"border","width"),{x:l,y:c,box:u}=NT(t,n),d=o.left+(u&&a.left),h=o.top+(u&&a.top);let{width:f,height:p}=e;return r&&(f-=o.width+a.width,p-=o.height+a.height),{x:Math.round((l-d)/f*n.width/i),y:Math.round((c-h)/p*n.height/i)}}function jT(t,e,n){let i,s;if(e===void 0||n===void 0){const r=t&&Lh(t);if(!r)e=t.clientWidth,n=t.clientHeight;else{const o=r.getBoundingClientRect(),a=Rl(r),l=Si(a,"border","width"),c=Si(a,"padding");e=o.width-c.width-l.width,n=o.height-c.height-l.height,i=Xa(a.maxWidth,r,"clientWidth"),s=Xa(a.maxHeight,r,"clientHeight")}}return{width:e,height:n,maxWidth:i||Ya,maxHeight:s||Ya}}const Ao=t=>Math.round(t*10)/10;function VT(t,e,n,i){const s=Rl(t),r=Si(s,"margin"),o=Xa(s.maxWidth,t,"clientWidth")||Ya,a=Xa(s.maxHeight,t,"clientHeight")||Ya,l=jT(t,e,n);let{width:c,height:u}=l;if(s.boxSizing==="content-box"){const h=Si(s,"border","width"),f=Si(s,"padding");c-=f.width+h.width,u-=f.height+h.height}return c=Math.max(0,c-r.width),u=Math.max(0,i?c/i:u-r.height),c=Ao(Math.min(c,o,l.maxWidth)),u=Ao(Math.min(u,a,l.maxHeight)),c&&!u&&(u=Ao(c/2)),(e!==void 0||n!==void 0)&&i&&l.height&&u>l.height&&(u=l.height,c=Ao(Math.floor(u*i))),{width:c,height:u}}function km(t,e,n){const i=e||1,s=Math.floor(t.height*i),r=Math.floor(t.width*i);t.height=Math.floor(t.height),t.width=Math.floor(t.width);const o=t.canvas;return o.style&&(n||!o.style.height&&!o.style.width)&&(o.style.height=`${t.height}px`,o.style.width=`${t.width}px`),t.currentDevicePixelRatio!==i||o.height!==s||o.width!==r?(t.currentDevicePixelRatio=i,o.height=s,o.width=r,t.ctx.setTransform(i,0,0,i,0,0),!0):!1}const FT=function(){let t=!1;try{const e={get passive(){return t=!0,!1}};Ah()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return t}();function Pm(t,e){const n=LT(t,e),i=n&&n.match(/^(\d+)(\.\d+)?px$/);return i?+i[1]:void 0}function hi(t,e,n,i){return{x:t.x+n*(e.x-t.x),y:t.y+n*(e.y-t.y)}}function zT(t,e,n,i){return{x:t.x+n*(e.x-t.x),y:i==="middle"?n<.5?t.y:e.y:i==="after"?n<1?t.y:e.y:n>0?e.y:t.y}}function BT(t,e,n,i){const s={x:t.cp2x,y:t.cp2y},r={x:e.cp1x,y:e.cp1y},o=hi(t,s,n),a=hi(s,r,n),l=hi(r,e,n),c=hi(o,a,n),u=hi(a,l,n);return hi(c,u,n)}const HT=function(t,e){return{x(n){return t+t+e-n},setWidth(n){e=n},textAlign(n){return n==="center"?n:n==="right"?"left":"right"},xPlus(n,i){return n-i},leftForLtr(n,i){return n-i}}},WT=function(){return{x(t){return t},setWidth(t){},textAlign(t){return t},xPlus(t,e){return t+e},leftForLtr(t,e){return t}}};function as(t,e,n){return t?HT(e,n):WT()}function Hx(t,e){let n,i;(e==="ltr"||e==="rtl")&&(n=t.canvas.style,i=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",e,"important"),t.prevTextDirection=i)}function Wx(t,e){e!==void 0&&(delete t.prevTextDirection,t.canvas.style.setProperty("direction",e[0],e[1]))}function $x(t){return t==="angle"?{between:Br,compare:$M,normalize:ft}:{between:rn,compare:(e,n)=>e-n,normalize:e=>e}}function Cm({start:t,end:e,count:n,loop:i,style:s}){return{start:t%n,end:e%n,loop:i&&(e-t+1)%n===0,style:s}}function $T(t,e,n){const{property:i,start:s,end:r}=n,{between:o,normalize:a}=$x(i),l=e.length;let{start:c,end:u,loop:d}=t,h,f;if(d){for(c+=l,u+=l,h=0,f=l;h<f&&o(a(e[c%l][i]),s,r);++h)c--,u--;c%=l,u%=l}return u<c&&(u+=l),{start:c,end:u,loop:d,style:t.style}}function Ux(t,e,n){if(!n)return[t];const{property:i,start:s,end:r}=n,o=e.length,{compare:a,between:l,normalize:c}=$x(i),{start:u,end:d,loop:h,style:f}=$T(t,e,n),p=[];let g=!1,x=null,y,m,v;const w=()=>l(s,v,y)&&a(s,v)!==0,S=()=>a(r,y)===0||l(r,v,y),C=()=>g||w(),P=()=>!g||S();for(let k=u,M=u;k<=d;++k)m=e[k%o],!m.skip&&(y=c(m[i]),y!==v&&(g=l(y,s,r),x===null&&C()&&(x=a(y,s)===0?k:M),x!==null&&P()&&(p.push(Cm({start:x,end:k,loop:h,count:o,style:f})),x=null),M=k,v=y));return x!==null&&p.push(Cm({start:x,end:d,loop:h,count:o,style:f})),p}function Yx(t,e){const n=[],i=t.segments;for(let s=0;s<i.length;s++){const r=Ux(i[s],t.points,e);r.length&&n.push(...r)}return n}function UT(t,e,n,i){let s=0,r=e-1;if(n&&!i)for(;s<e&&!t[s].skip;)s++;for(;s<e&&t[s].skip;)s++;for(s%=e,n&&(r+=s);r>s&&t[r%e].skip;)r--;return r%=e,{start:s,end:r}}function YT(t,e,n,i){const s=t.length,r=[];let o=e,a=t[e],l;for(l=e+1;l<=n;++l){const c=t[l%s];c.skip||c.stop?a.skip||(i=!1,r.push({start:e%s,end:(l-1)%s,loop:i}),e=o=c.stop?l:null):(o=l,a.skip&&(e=l)),a=c}return o!==null&&r.push({start:e%s,end:o%s,loop:i}),r}function KT(t,e){const n=t.points,i=t.options.spanGaps,s=n.length;if(!s)return[];const r=!!t._loop,{start:o,end:a}=UT(n,s,r,i);if(i===!0)return Mm(t,[{start:o,end:a,loop:r}],n,e);const l=a<o?a+s:a,c=!!t._fullLoop&&o===0&&a===s-1;return Mm(t,YT(n,o,l,c),n,e)}function Mm(t,e,n,i){return!i||!i.setContext||!n?e:XT(t,e,n,i)}function XT(t,e,n,i){const s=t._chart.getContext(),r=Tm(t.options),{_datasetIndex:o,options:{spanGaps:a}}=t,l=n.length,c=[];let u=r,d=e[0].start,h=d;function f(p,g,x,y){const m=a?-1:1;if(p!==g){for(p+=l;n[p%l].skip;)p-=m;for(;n[g%l].skip;)g+=m;p%l!==g%l&&(c.push({start:p%l,end:g%l,loop:x,style:y}),u=y,d=g%l)}}for(const p of e){d=a?d:p.start;let g=n[d%l],x;for(h=d+1;h<=p.end;h++){const y=n[h%l];x=Tm(i.setContext(Jn(s,{type:"segment",p0:g,p1:y,p0DataIndex:(h-1)%l,p1DataIndex:h%l,datasetIndex:o}))),GT(x,u)&&f(d,h-1,p.loop,u),g=y,u=x}d<h-1&&f(d,h-1,p.loop,u)}return c}function Tm(t){return{backgroundColor:t.backgroundColor,borderCapStyle:t.borderCapStyle,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderJoinStyle:t.borderJoinStyle,borderWidth:t.borderWidth,borderColor:t.borderColor}}function GT(t,e){if(!e)return!1;const n=[],i=function(s,r){return Mh(r)?(n.includes(r)||n.push(r),n.indexOf(r)):r};return JSON.stringify(t,i)!==JSON.stringify(e,i)}/*!
 * Chart.js v4.4.8
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class QT{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,n,i,s){const r=n.listeners[s],o=n.duration;r.forEach(a=>a({chart:e,initial:n.initial,numSteps:o,currentStep:Math.min(i-n.start,o)}))}_refresh(){this._request||(this._running=!0,this._request=Ex.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let n=0;this._charts.forEach((i,s)=>{if(!i.running||!i.items.length)return;const r=i.items;let o=r.length-1,a=!1,l;for(;o>=0;--o)l=r[o],l._active?(l._total>i.duration&&(i.duration=l._total),l.tick(e),a=!0):(r[o]=r[r.length-1],r.pop());a&&(s.draw(),this._notify(s,i,e,"progress")),r.length||(i.running=!1,this._notify(s,i,e,"complete"),i.initial=!1),n+=r.length}),this._lastDate=e,n===0&&(this._running=!1)}_getAnims(e){const n=this._charts;let i=n.get(e);return i||(i={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},n.set(e,i)),i}listen(e,n,i){this._getAnims(e).listeners[n].push(i)}add(e,n){!n||!n.length||this._getAnims(e).items.push(...n)}has(e){return this._getAnims(e).items.length>0}start(e){const n=this._charts.get(e);n&&(n.running=!0,n.start=Date.now(),n.duration=n.items.reduce((i,s)=>Math.max(i,s._duration),0),this._refresh())}running(e){if(!this._running)return!1;const n=this._charts.get(e);return!(!n||!n.running||!n.items.length)}stop(e){const n=this._charts.get(e);if(!n||!n.items.length)return;const i=n.items;let s=i.length-1;for(;s>=0;--s)i[s].cancel();n.items=[],this._notify(e,n,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var Gt=new QT;const Em="transparent",qT={boolean(t,e,n){return n>.5?e:t},color(t,e,n){const i=xm(t||Em),s=i.valid&&xm(e||Em);return s&&s.valid?s.mix(i,n).hexString():e},number(t,e,n){return t+(e-t)*n}};class ZT{constructor(e,n,i,s){const r=n[i];s=Ks([e.to,s,r,e.from]);const o=Ks([e.from,r,s]);this._active=!0,this._fn=e.fn||qT[e.type||typeof o],this._easing=fr[e.easing]||fr.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=n,this._prop=i,this._from=o,this._to=s,this._promises=void 0}active(){return this._active}update(e,n,i){if(this._active){this._notify(!1);const s=this._target[this._prop],r=i-this._start,o=this._duration-r;this._start=i,this._duration=Math.floor(Math.max(o,e.duration)),this._total+=r,this._loop=!!e.loop,this._to=Ks([e.to,n,s,e.from]),this._from=Ks([e.from,s,n])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const n=e-this._start,i=this._duration,s=this._prop,r=this._from,o=this._loop,a=this._to;let l;if(this._active=r!==a&&(o||n<i),!this._active){this._target[s]=a,this._notify(!0);return}if(n<0){this._target[s]=r;return}l=n/i%2,l=o&&l>1?2-l:l,l=this._easing(Math.min(1,Math.max(0,l))),this._target[s]=this._fn(r,a,l)}wait(){const e=this._promises||(this._promises=[]);return new Promise((n,i)=>{e.push({res:n,rej:i})})}_notify(e){const n=e?"res":"rej",i=this._promises||[];for(let s=0;s<i.length;s++)i[s][n]()}}class Kx{constructor(e,n){this._chart=e,this._properties=new Map,this.configure(n)}configure(e){if(!J(e))return;const n=Object.keys(ge.animation),i=this._properties;Object.getOwnPropertyNames(e).forEach(s=>{const r=e[s];if(!J(r))return;const o={};for(const a of n)o[a]=r[a];(de(r.properties)&&r.properties||[s]).forEach(a=>{(a===s||!i.has(a))&&i.set(a,o)})})}_animateOptions(e,n){const i=n.options,s=e2(e,i);if(!s)return[];const r=this._createAnimations(s,i);return i.$shared&&JT(e.options.$animations,i).then(()=>{e.options=i},()=>{}),r}_createAnimations(e,n){const i=this._properties,s=[],r=e.$animations||(e.$animations={}),o=Object.keys(n),a=Date.now();let l;for(l=o.length-1;l>=0;--l){const c=o[l];if(c.charAt(0)==="$")continue;if(c==="options"){s.push(...this._animateOptions(e,n));continue}const u=n[c];let d=r[c];const h=i.get(c);if(d)if(h&&d.active()){d.update(h,u,a);continue}else d.cancel();if(!h||!h.duration){e[c]=u;continue}r[c]=d=new ZT(h,e,c,u),s.push(d)}return s}update(e,n){if(this._properties.size===0){Object.assign(e,n);return}const i=this._createAnimations(e,n);if(i.length)return Gt.add(this._chart,i),!0}}function JT(t,e){const n=[],i=Object.keys(e);for(let s=0;s<i.length;s++){const r=t[i[s]];r&&r.active()&&n.push(r.wait())}return Promise.all(n)}function e2(t,e){if(!e)return;let n=t.options;if(!n){t.options=e;return}return n.$shared&&(t.options=n=Object.assign({},n,{$shared:!1,$animations:{}})),n}function Rm(t,e){const n=t&&t.options||{},i=n.reverse,s=n.min===void 0?e:0,r=n.max===void 0?e:0;return{start:i?r:s,end:i?s:r}}function t2(t,e,n){if(n===!1)return!1;const i=Rm(t,n),s=Rm(e,n);return{top:s.end,right:i.end,bottom:s.start,left:i.start}}function n2(t){let e,n,i,s;return J(t)?(e=t.top,n=t.right,i=t.bottom,s=t.left):e=n=i=s=t,{top:e,right:n,bottom:i,left:s,disabled:t===!1}}function Xx(t,e){const n=[],i=t._getSortedDatasetMetas(e);let s,r;for(s=0,r=i.length;s<r;++s)n.push(i[s].index);return n}function Dm(t,e,n,i={}){const s=t.keys,r=i.mode==="single";let o,a,l,c;if(e===null)return;let u=!1;for(o=0,a=s.length;o<a;++o){if(l=+s[o],l===n){if(u=!0,i.all)continue;break}c=t.values[l],Pe(c)&&(r||e===0||Kt(e)===Kt(c))&&(e+=c)}return!u&&!i.all?0:e}function i2(t,e){const{iScale:n,vScale:i}=e,s=n.axis==="x"?"x":"y",r=i.axis==="x"?"x":"y",o=Object.keys(t),a=new Array(o.length);let l,c,u;for(l=0,c=o.length;l<c;++l)u=o[l],a[l]={[s]:u,[r]:t[u]};return a}function _c(t,e){const n=t&&t.options.stacked;return n||n===void 0&&e.stack!==void 0}function s2(t,e,n){return`${t.id}.${e.id}.${n.stack||n.type}`}function r2(t){const{min:e,max:n,minDefined:i,maxDefined:s}=t.getUserBounds();return{min:i?e:Number.NEGATIVE_INFINITY,max:s?n:Number.POSITIVE_INFINITY}}function o2(t,e,n){const i=t[e]||(t[e]={});return i[n]||(i[n]={})}function Am(t,e,n,i){for(const s of e.getMatchingVisibleMetas(i).reverse()){const r=t[s.index];if(n&&r>0||!n&&r<0)return s.index}return null}function Lm(t,e){const{chart:n,_cachedMeta:i}=t,s=n._stacks||(n._stacks={}),{iScale:r,vScale:o,index:a}=i,l=r.axis,c=o.axis,u=s2(r,o,i),d=e.length;let h;for(let f=0;f<d;++f){const p=e[f],{[l]:g,[c]:x}=p,y=p._stacks||(p._stacks={});h=y[c]=o2(s,u,g),h[a]=x,h._top=Am(h,o,!0,i.type),h._bottom=Am(h,o,!1,i.type);const m=h._visualValues||(h._visualValues={});m[a]=x}}function kc(t,e){const n=t.scales;return Object.keys(n).filter(i=>n[i].axis===e).shift()}function a2(t,e){return Jn(t,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function l2(t,e,n){return Jn(t,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:n,index:e,mode:"default",type:"data"})}function Is(t,e){const n=t.controller.index,i=t.vScale&&t.vScale.axis;if(i){e=e||t._parsed;for(const s of e){const r=s._stacks;if(!r||r[i]===void 0||r[i][n]===void 0)return;delete r[i][n],r[i]._visualValues!==void 0&&r[i]._visualValues[n]!==void 0&&delete r[i]._visualValues[n]}}}const Pc=t=>t==="reset"||t==="none",Om=(t,e)=>e?t:Object.assign({},t),c2=(t,e,n)=>t&&!e.hidden&&e._stacked&&{keys:Xx(n,!0),values:null};class Nt{constructor(e,n){this.chart=e,this._ctx=e.ctx,this.index=n,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=_c(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&Is(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,n=this._cachedMeta,i=this.getDataset(),s=(d,h,f,p)=>d==="x"?h:d==="r"?p:f,r=n.xAxisID=X(i.xAxisID,kc(e,"x")),o=n.yAxisID=X(i.yAxisID,kc(e,"y")),a=n.rAxisID=X(i.rAxisID,kc(e,"r")),l=n.indexAxis,c=n.iAxisID=s(l,r,o,a),u=n.vAxisID=s(l,o,r,a);n.xScale=this.getScaleForId(r),n.yScale=this.getScaleForId(o),n.rScale=this.getScaleForId(a),n.iScale=this.getScaleForId(c),n.vScale=this.getScaleForId(u)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const n=this._cachedMeta;return e===n.iScale?n.vScale:n.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&gm(this._data,this),e._stacked&&Is(e)}_dataCheck(){const e=this.getDataset(),n=e.data||(e.data=[]),i=this._data;if(J(n)){const s=this._cachedMeta;this._data=i2(n,s)}else if(i!==n){if(i){gm(i,this);const s=this._cachedMeta;Is(s),s._parsed=[]}n&&Object.isExtensible(n)&&XM(n,this),this._syncList=[],this._data=n}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const n=this._cachedMeta,i=this.getDataset();let s=!1;this._dataCheck();const r=n._stacked;n._stacked=_c(n.vScale,n),n.stack!==i.stack&&(s=!0,Is(n),n.stack=i.stack),this._resyncElements(e),(s||r!==n._stacked)&&(Lm(this,n._parsed),n._stacked=_c(n.vScale,n))}configure(){const e=this.chart.config,n=e.datasetScopeKeys(this._type),i=e.getOptionScopes(this.getDataset(),n,!0);this.options=e.createResolver(i,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,n){const{_cachedMeta:i,_data:s}=this,{iScale:r,_stacked:o}=i,a=r.axis;let l=e===0&&n===s.length?!0:i._sorted,c=e>0&&i._parsed[e-1],u,d,h;if(this._parsing===!1)i._parsed=s,i._sorted=!0,h=s;else{de(s[e])?h=this.parseArrayData(i,s,e,n):J(s[e])?h=this.parseObjectData(i,s,e,n):h=this.parsePrimitiveData(i,s,e,n);const f=()=>d[a]===null||c&&d[a]<c[a];for(u=0;u<n;++u)i._parsed[u+e]=d=h[u],l&&(f()&&(l=!1),c=d);i._sorted=l}o&&Lm(this,h)}parsePrimitiveData(e,n,i,s){const{iScale:r,vScale:o}=e,a=r.axis,l=o.axis,c=r.getLabels(),u=r===o,d=new Array(s);let h,f,p;for(h=0,f=s;h<f;++h)p=h+i,d[h]={[a]:u||r.parse(c[p],p),[l]:o.parse(n[p],p)};return d}parseArrayData(e,n,i,s){const{xScale:r,yScale:o}=e,a=new Array(s);let l,c,u,d;for(l=0,c=s;l<c;++l)u=l+i,d=n[u],a[l]={x:r.parse(d[0],u),y:o.parse(d[1],u)};return a}parseObjectData(e,n,i,s){const{xScale:r,yScale:o}=e,{xAxisKey:a="x",yAxisKey:l="y"}=this._parsing,c=new Array(s);let u,d,h,f;for(u=0,d=s;u<d;++u)h=u+i,f=n[h],c[u]={x:r.parse(Kn(f,a),h),y:o.parse(Kn(f,l),h)};return c}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,n,i){const s=this.chart,r=this._cachedMeta,o=n[e.axis],a={keys:Xx(s,!0),values:n._stacks[e.axis]._visualValues};return Dm(a,o,r.index,{mode:i})}updateRangeFromParsed(e,n,i,s){const r=i[n.axis];let o=r===null?NaN:r;const a=s&&i._stacks[n.axis];s&&a&&(s.values=a,o=Dm(s,r,this._cachedMeta.index)),e.min=Math.min(e.min,o),e.max=Math.max(e.max,o)}getMinMax(e,n){const i=this._cachedMeta,s=i._parsed,r=i._sorted&&e===i.iScale,o=s.length,a=this._getOtherScale(e),l=c2(n,i,this.chart),c={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:u,max:d}=r2(a);let h,f;function p(){f=s[h];const g=f[a.axis];return!Pe(f[e.axis])||u>g||d<g}for(h=0;h<o&&!(!p()&&(this.updateRangeFromParsed(c,e,f,l),r));++h);if(r){for(h=o-1;h>=0;--h)if(!p()){this.updateRangeFromParsed(c,e,f,l);break}}return c}getAllParsedValues(e){const n=this._cachedMeta._parsed,i=[];let s,r,o;for(s=0,r=n.length;s<r;++s)o=n[s][e.axis],Pe(o)&&i.push(o);return i}getMaxOverflow(){return!1}getLabelAndValue(e){const n=this._cachedMeta,i=n.iScale,s=n.vScale,r=this.getParsed(e);return{label:i?""+i.getLabelForValue(r[i.axis]):"",value:s?""+s.getLabelForValue(r[s.axis]):""}}_update(e){const n=this._cachedMeta;this.update(e||"default"),n._clip=n2(X(this.options.clip,t2(n.xScale,n.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,n=this.chart,i=this._cachedMeta,s=i.data||[],r=n.chartArea,o=[],a=this._drawStart||0,l=this._drawCount||s.length-a,c=this.options.drawActiveElementsOnTop;let u;for(i.dataset&&i.dataset.draw(e,r,a,l),u=a;u<a+l;++u){const d=s[u];d.hidden||(d.active&&c?o.push(d):d.draw(e,r))}for(u=0;u<o.length;++u)o[u].draw(e,r)}getStyle(e,n){const i=n?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(i):this.resolveDataElementOptions(e||0,i)}getContext(e,n,i){const s=this.getDataset();let r;if(e>=0&&e<this._cachedMeta.data.length){const o=this._cachedMeta.data[e];r=o.$context||(o.$context=l2(this.getContext(),e,o)),r.parsed=this.getParsed(e),r.raw=s.data[e],r.index=r.dataIndex=e}else r=this.$context||(this.$context=a2(this.chart.getContext(),this.index)),r.dataset=s,r.index=r.datasetIndex=this.index;return r.active=!!n,r.mode=i,r}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,n){return this._resolveElementOptions(this.dataElementType.id,n,e)}_resolveElementOptions(e,n="default",i){const s=n==="active",r=this._cachedDataOpts,o=e+"-"+n,a=r[o],l=this.enableOptionSharing&&zr(i);if(a)return Om(a,l);const c=this.chart.config,u=c.datasetElementScopeKeys(this._type,e),d=s?[`${e}Hover`,"hover",e,""]:[e,""],h=c.getOptionScopes(this.getDataset(),u),f=Object.keys(ge.elements[e]),p=()=>this.getContext(i,s,n),g=c.resolveNamedOptions(h,f,p,d);return g.$shared&&(g.$shared=l,r[o]=Object.freeze(Om(g,l))),g}_resolveAnimations(e,n,i){const s=this.chart,r=this._cachedDataOpts,o=`animation-${n}`,a=r[o];if(a)return a;let l;if(s.options.animation!==!1){const u=this.chart.config,d=u.datasetAnimationScopeKeys(this._type,n),h=u.getOptionScopes(this.getDataset(),d);l=u.createResolver(h,this.getContext(e,i,n))}const c=new Kx(s,l&&l.animations);return l&&l._cacheable&&(r[o]=Object.freeze(c)),c}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,n){return!n||Pc(e)||this.chart._animationsDisabled}_getSharedOptions(e,n){const i=this.resolveDataElementOptions(e,n),s=this._sharedOptions,r=this.getSharedOptions(i),o=this.includeOptions(n,r)||r!==s;return this.updateSharedOptions(r,n,i),{sharedOptions:r,includeOptions:o}}updateElement(e,n,i,s){Pc(s)?Object.assign(e,i):this._resolveAnimations(n,s).update(e,i)}updateSharedOptions(e,n,i){e&&!Pc(n)&&this._resolveAnimations(void 0,n).update(e,i)}_setStyle(e,n,i,s){e.active=s;const r=this.getStyle(n,s);this._resolveAnimations(n,i,s).update(e,{options:!s&&this.getSharedOptions(r)||r})}removeHoverStyle(e,n,i){this._setStyle(e,i,"active",!1)}setHoverStyle(e,n,i){this._setStyle(e,i,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const n=this._data,i=this._cachedMeta.data;for(const[a,l,c]of this._syncList)this[a](l,c);this._syncList=[];const s=i.length,r=n.length,o=Math.min(r,s);o&&this.parse(0,o),r>s?this._insertElements(s,r-s,e):r<s&&this._removeElements(r,s-r)}_insertElements(e,n,i=!0){const s=this._cachedMeta,r=s.data,o=e+n;let a;const l=c=>{for(c.length+=n,a=c.length-1;a>=o;a--)c[a]=c[a-n]};for(l(r),a=e;a<o;++a)r[a]=new this.dataElementType;this._parsing&&l(s._parsed),this.parse(e,n),i&&this.updateElements(r,e,n,"reset")}updateElements(e,n,i,s){}_removeElements(e,n){const i=this._cachedMeta;if(this._parsing){const s=i._parsed.splice(e,n);i._stacked&&Is(i,s)}i.data.splice(e,n)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[n,i,s]=e;this[n](i,s)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,n){n&&this._sync(["_removeElements",e,n]);const i=arguments.length-2;i&&this._sync(["_insertElements",e,i])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}D(Nt,"defaults",{}),D(Nt,"datasetElementType",null),D(Nt,"dataElementType",null);function u2(t,e){if(!t._cache.$bar){const n=t.getMatchingVisibleMetas(e);let i=[];for(let s=0,r=n.length;s<r;s++)i=i.concat(n[s].controller.getAllParsedValues(t));t._cache.$bar=Tx(i.sort((s,r)=>s-r))}return t._cache.$bar}function d2(t){const e=t.iScale,n=u2(e,t.type);let i=e._length,s,r,o,a;const l=()=>{o===32767||o===-32768||(zr(a)&&(i=Math.min(i,Math.abs(o-a)||i)),a=o)};for(s=0,r=n.length;s<r;++s)o=e.getPixelForValue(n[s]),l();for(a=void 0,s=0,r=e.ticks.length;s<r;++s)o=e.getPixelForTick(s),l();return i}function h2(t,e,n,i){const s=n.barThickness;let r,o;return q(s)?(r=e.min*n.categoryPercentage,o=n.barPercentage):(r=s*i,o=1),{chunk:r/i,ratio:o,start:e.pixels[t]-r/2}}function f2(t,e,n,i){const s=e.pixels,r=s[t];let o=t>0?s[t-1]:null,a=t<s.length-1?s[t+1]:null;const l=n.categoryPercentage;o===null&&(o=r-(a===null?e.end-e.start:a-r)),a===null&&(a=r+r-o);const c=r-(r-Math.min(o,a))/2*l;return{chunk:Math.abs(a-o)/2*l/i,ratio:n.barPercentage,start:c}}function p2(t,e,n,i){const s=n.parse(t[0],i),r=n.parse(t[1],i),o=Math.min(s,r),a=Math.max(s,r);let l=o,c=a;Math.abs(o)>Math.abs(a)&&(l=a,c=o),e[n.axis]=c,e._custom={barStart:l,barEnd:c,start:s,end:r,min:o,max:a}}function Gx(t,e,n,i){return de(t)?p2(t,e,n,i):e[n.axis]=n.parse(t,i),e}function Im(t,e,n,i){const s=t.iScale,r=t.vScale,o=s.getLabels(),a=s===r,l=[];let c,u,d,h;for(c=n,u=n+i;c<u;++c)h=e[c],d={},d[s.axis]=a||s.parse(o[c],c),l.push(Gx(h,d,r,c));return l}function Cc(t){return t&&t.barStart!==void 0&&t.barEnd!==void 0}function m2(t,e,n){return t!==0?Kt(t):(e.isHorizontal()?1:-1)*(e.min>=n?1:-1)}function g2(t){let e,n,i,s,r;return t.horizontal?(e=t.base>t.x,n="left",i="right"):(e=t.base<t.y,n="bottom",i="top"),e?(s="end",r="start"):(s="start",r="end"),{start:n,end:i,reverse:e,top:s,bottom:r}}function y2(t,e,n,i){let s=e.borderSkipped;const r={};if(!s){t.borderSkipped=r;return}if(s===!0){t.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:o,end:a,reverse:l,top:c,bottom:u}=g2(t);s==="middle"&&n&&(t.enableBorderRadius=!0,(n._top||0)===i?s=c:(n._bottom||0)===i?s=u:(r[Nm(u,o,a,l)]=!0,s=c)),r[Nm(s,o,a,l)]=!0,t.borderSkipped=r}function Nm(t,e,n,i){return i?(t=v2(t,e,n),t=jm(t,n,e)):t=jm(t,e,n),t}function v2(t,e,n){return t===e?n:t===n?e:t}function jm(t,e,n){return t==="start"?e:t==="end"?n:t}function x2(t,{inflateAmount:e},n){t.inflateAmount=e==="auto"?n===1?.33:0:e}class na extends Nt{parsePrimitiveData(e,n,i,s){return Im(e,n,i,s)}parseArrayData(e,n,i,s){return Im(e,n,i,s)}parseObjectData(e,n,i,s){const{iScale:r,vScale:o}=e,{xAxisKey:a="x",yAxisKey:l="y"}=this._parsing,c=r.axis==="x"?a:l,u=o.axis==="x"?a:l,d=[];let h,f,p,g;for(h=i,f=i+s;h<f;++h)g=n[h],p={},p[r.axis]=r.parse(Kn(g,c),h),d.push(Gx(Kn(g,u),p,o,h));return d}updateRangeFromParsed(e,n,i,s){super.updateRangeFromParsed(e,n,i,s);const r=i._custom;r&&n===this._cachedMeta.vScale&&(e.min=Math.min(e.min,r.min),e.max=Math.max(e.max,r.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const n=this._cachedMeta,{iScale:i,vScale:s}=n,r=this.getParsed(e),o=r._custom,a=Cc(o)?"["+o.start+", "+o.end+"]":""+s.getLabelForValue(r[s.axis]);return{label:""+i.getLabelForValue(r[i.axis]),value:a}}initialize(){this.enableOptionSharing=!0,super.initialize();const e=this._cachedMeta;e.stack=this.getDataset().stack}update(e){const n=this._cachedMeta;this.updateElements(n.data,0,n.data.length,e)}updateElements(e,n,i,s){const r=s==="reset",{index:o,_cachedMeta:{vScale:a}}=this,l=a.getBasePixel(),c=a.isHorizontal(),u=this._getRuler(),{sharedOptions:d,includeOptions:h}=this._getSharedOptions(n,s);for(let f=n;f<n+i;f++){const p=this.getParsed(f),g=r||q(p[a.axis])?{base:l,head:l}:this._calculateBarValuePixels(f),x=this._calculateBarIndexPixels(f,u),y=(p._stacks||{})[a.axis],m={horizontal:c,base:g.base,enableBorderRadius:!y||Cc(p._custom)||o===y._top||o===y._bottom,x:c?g.head:x.center,y:c?x.center:g.head,height:c?x.size:Math.abs(g.size),width:c?Math.abs(g.size):x.size};h&&(m.options=d||this.resolveDataElementOptions(f,e[f].active?"active":s));const v=m.options||e[f].options;y2(m,v,y,o),x2(m,v,u.ratio),this.updateElement(e[f],f,m,s)}}_getStacks(e,n){const{iScale:i}=this._cachedMeta,s=i.getMatchingVisibleMetas(this._type).filter(u=>u.controller.options.grouped),r=i.options.stacked,o=[],a=this._cachedMeta.controller.getParsed(n),l=a&&a[i.axis],c=u=>{const d=u._parsed.find(f=>f[i.axis]===l),h=d&&d[u.vScale.axis];if(q(h)||isNaN(h))return!0};for(const u of s)if(!(n!==void 0&&c(u))&&((r===!1||o.indexOf(u.stack)===-1||r===void 0&&u.stack===void 0)&&o.push(u.stack),u.index===e))break;return o.length||o.push(void 0),o}_getStackCount(e){return this._getStacks(void 0,e).length}_getStackIndex(e,n,i){const s=this._getStacks(e,i),r=n!==void 0?s.indexOf(n):-1;return r===-1?s.length-1:r}_getRuler(){const e=this.options,n=this._cachedMeta,i=n.iScale,s=[];let r,o;for(r=0,o=n.data.length;r<o;++r)s.push(i.getPixelForValue(this.getParsed(r)[i.axis],r));const a=e.barThickness;return{min:a||d2(n),pixels:s,start:i._startPixel,end:i._endPixel,stackCount:this._getStackCount(),scale:i,grouped:e.grouped,ratio:a?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){const{_cachedMeta:{vScale:n,_stacked:i,index:s},options:{base:r,minBarLength:o}}=this,a=r||0,l=this.getParsed(e),c=l._custom,u=Cc(c);let d=l[n.axis],h=0,f=i?this.applyStack(n,l,i):d,p,g;f!==d&&(h=f-d,f=d),u&&(d=c.barStart,f=c.barEnd-c.barStart,d!==0&&Kt(d)!==Kt(c.barEnd)&&(h=0),h+=d);const x=!q(r)&&!u?r:h;let y=n.getPixelForValue(x);if(this.chart.getDataVisibility(e)?p=n.getPixelForValue(h+f):p=y,g=p-y,Math.abs(g)<o){g=m2(g,n,a)*o,d===a&&(y-=g/2);const m=n.getPixelForDecimal(0),v=n.getPixelForDecimal(1),w=Math.min(m,v),S=Math.max(m,v);y=Math.max(Math.min(y,S),w),p=y+g,i&&!u&&(l._stacks[n.axis]._visualValues[s]=n.getValueForPixel(p)-n.getValueForPixel(y))}if(y===n.getPixelForValue(a)){const m=Kt(g)*n.getLineWidthForValue(a)/2;y+=m,g-=m}return{size:g,base:y,head:p,center:p+g/2}}_calculateBarIndexPixels(e,n){const i=n.scale,s=this.options,r=s.skipNull,o=X(s.maxBarThickness,1/0);let a,l;if(n.grouped){const c=r?this._getStackCount(e):n.stackCount,u=s.barThickness==="flex"?f2(e,n,s,c):h2(e,n,s,c),d=this._getStackIndex(this.index,this._cachedMeta.stack,r?e:void 0);a=u.start+u.chunk*d+u.chunk/2,l=Math.min(o,u.chunk*u.ratio)}else a=i.getPixelForValue(this.getParsed(e)[i.axis],e),l=Math.min(o,n.min*n.ratio);return{base:a-l/2,head:a+l/2,center:a,size:l}}draw(){const e=this._cachedMeta,n=e.vScale,i=e.data,s=i.length;let r=0;for(;r<s;++r)this.getParsed(r)[n.axis]!==null&&!i[r].hidden&&i[r].draw(this._ctx)}}D(na,"id","bar"),D(na,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),D(na,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});class ia extends Nt{initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(e,n,i,s){const r=super.parsePrimitiveData(e,n,i,s);for(let o=0;o<r.length;o++)r[o]._custom=this.resolveDataElementOptions(o+i).radius;return r}parseArrayData(e,n,i,s){const r=super.parseArrayData(e,n,i,s);for(let o=0;o<r.length;o++){const a=n[i+o];r[o]._custom=X(a[2],this.resolveDataElementOptions(o+i).radius)}return r}parseObjectData(e,n,i,s){const r=super.parseObjectData(e,n,i,s);for(let o=0;o<r.length;o++){const a=n[i+o];r[o]._custom=X(a&&a.r&&+a.r,this.resolveDataElementOptions(o+i).radius)}return r}getMaxOverflow(){const e=this._cachedMeta.data;let n=0;for(let i=e.length-1;i>=0;--i)n=Math.max(n,e[i].size(this.resolveDataElementOptions(i))/2);return n>0&&n}getLabelAndValue(e){const n=this._cachedMeta,i=this.chart.data.labels||[],{xScale:s,yScale:r}=n,o=this.getParsed(e),a=s.getLabelForValue(o.x),l=r.getLabelForValue(o.y),c=o._custom;return{label:i[e]||"",value:"("+a+", "+l+(c?", "+c:"")+")"}}update(e){const n=this._cachedMeta.data;this.updateElements(n,0,n.length,e)}updateElements(e,n,i,s){const r=s==="reset",{iScale:o,vScale:a}=this._cachedMeta,{sharedOptions:l,includeOptions:c}=this._getSharedOptions(n,s),u=o.axis,d=a.axis;for(let h=n;h<n+i;h++){const f=e[h],p=!r&&this.getParsed(h),g={},x=g[u]=r?o.getPixelForDecimal(.5):o.getPixelForValue(p[u]),y=g[d]=r?a.getBasePixel():a.getPixelForValue(p[d]);g.skip=isNaN(x)||isNaN(y),c&&(g.options=l||this.resolveDataElementOptions(h,f.active?"active":s),r&&(g.options.radius=0)),this.updateElement(f,h,g,s)}}resolveDataElementOptions(e,n){const i=this.getParsed(e);let s=super.resolveDataElementOptions(e,n);s.$shared&&(s=Object.assign({},s,{$shared:!1}));const r=s.radius;return n!=="active"&&(s.radius=0),s.radius+=X(i&&i._custom,r),s}}D(ia,"id","bubble"),D(ia,"defaults",{datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}}),D(ia,"overrides",{scales:{x:{type:"linear"},y:{type:"linear"}}});function b2(t,e,n){let i=1,s=1,r=0,o=0;if(e<fe){const a=t,l=a+e,c=Math.cos(a),u=Math.sin(a),d=Math.cos(l),h=Math.sin(l),f=(v,w,S)=>Br(v,a,l,!0)?1:Math.max(w,w*n,S,S*n),p=(v,w,S)=>Br(v,a,l,!0)?-1:Math.min(w,w*n,S,S*n),g=f(0,c,d),x=f(Te,u,h),y=p(pe,c,d),m=p(pe+Te,u,h);i=(g-y)/2,s=(x-m)/2,r=-(g+y)/2,o=-(x+m)/2}return{ratioX:i,ratioY:s,offsetX:r,offsetY:o}}class yi extends Nt{constructor(e,n){super(e,n),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,n){const i=this.getDataset().data,s=this._cachedMeta;if(this._parsing===!1)s._parsed=i;else{let r=l=>+i[l];if(J(i[e])){const{key:l="value"}=this._parsing;r=c=>+Kn(i[c],l)}let o,a;for(o=e,a=e+n;o<a;++o)s._parsed[o]=r(o)}}_getRotation(){return Lt(this.options.rotation-90)}_getCircumference(){return Lt(this.options.circumference)}_getRotationExtents(){let e=fe,n=-fe;for(let i=0;i<this.chart.data.datasets.length;++i)if(this.chart.isDatasetVisible(i)&&this.chart.getDatasetMeta(i).type===this._type){const s=this.chart.getDatasetMeta(i).controller,r=s._getRotation(),o=s._getCircumference();e=Math.min(e,r),n=Math.max(n,r+o)}return{rotation:e,circumference:n-e}}update(e){const n=this.chart,{chartArea:i}=n,s=this._cachedMeta,r=s.data,o=this.getMaxBorderWidth()+this.getMaxOffset(r)+this.options.spacing,a=Math.max((Math.min(i.width,i.height)-o)/2,0),l=Math.min(LM(this.options.cutout,a),1),c=this._getRingWeight(this.index),{circumference:u,rotation:d}=this._getRotationExtents(),{ratioX:h,ratioY:f,offsetX:p,offsetY:g}=b2(d,u,l),x=(i.width-o)/h,y=(i.height-o)/f,m=Math.max(Math.min(x,y)/2,0),v=_x(this.options.radius,m),w=Math.max(v*l,0),S=(v-w)/this._getVisibleDatasetWeightTotal();this.offsetX=p*v,this.offsetY=g*v,s.total=this.calculateTotal(),this.outerRadius=v-S*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-S*c,0),this.updateElements(r,0,r.length,e)}_circumference(e,n){const i=this.options,s=this._cachedMeta,r=this._getCircumference();return n&&i.animation.animateRotate||!this.chart.getDataVisibility(e)||s._parsed[e]===null||s.data[e].hidden?0:this.calculateCircumference(s._parsed[e]*r/fe)}updateElements(e,n,i,s){const r=s==="reset",o=this.chart,a=o.chartArea,c=o.options.animation,u=(a.left+a.right)/2,d=(a.top+a.bottom)/2,h=r&&c.animateScale,f=h?0:this.innerRadius,p=h?0:this.outerRadius,{sharedOptions:g,includeOptions:x}=this._getSharedOptions(n,s);let y=this._getRotation(),m;for(m=0;m<n;++m)y+=this._circumference(m,r);for(m=n;m<n+i;++m){const v=this._circumference(m,r),w=e[m],S={x:u+this.offsetX,y:d+this.offsetY,startAngle:y,endAngle:y+v,circumference:v,outerRadius:p,innerRadius:f};x&&(S.options=g||this.resolveDataElementOptions(m,w.active?"active":s)),y+=v,this.updateElement(w,m,S,s)}}calculateTotal(){const e=this._cachedMeta,n=e.data;let i=0,s;for(s=0;s<n.length;s++){const r=e._parsed[s];r!==null&&!isNaN(r)&&this.chart.getDataVisibility(s)&&!n[s].hidden&&(i+=Math.abs(r))}return i}calculateCircumference(e){const n=this._cachedMeta.total;return n>0&&!isNaN(e)?fe*(Math.abs(e)/n):0}getLabelAndValue(e){const n=this._cachedMeta,i=this.chart,s=i.data.labels||[],r=no(n._parsed[e],i.options.locale);return{label:s[e]||"",value:r}}getMaxBorderWidth(e){let n=0;const i=this.chart;let s,r,o,a,l;if(!e){for(s=0,r=i.data.datasets.length;s<r;++s)if(i.isDatasetVisible(s)){o=i.getDatasetMeta(s),e=o.data,a=o.controller;break}}if(!e)return 0;for(s=0,r=e.length;s<r;++s)l=a.resolveDataElementOptions(s),l.borderAlign!=="inner"&&(n=Math.max(n,l.borderWidth||0,l.hoverBorderWidth||0));return n}getMaxOffset(e){let n=0;for(let i=0,s=e.length;i<s;++i){const r=this.resolveDataElementOptions(i);n=Math.max(n,r.offset||0,r.hoverOffset||0)}return n}_getRingWeightOffset(e){let n=0;for(let i=0;i<e;++i)this.chart.isDatasetVisible(i)&&(n+=this._getRingWeight(i));return n}_getRingWeight(e){return Math.max(X(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}D(yi,"id","doughnut"),D(yi,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),D(yi,"descriptors",{_scriptable:e=>e!=="spacing",_indexable:e=>e!=="spacing"&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")}),D(yi,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const n=e.data;if(n.labels.length&&n.datasets.length){const{labels:{pointStyle:i,color:s}}=e.legend.options;return n.labels.map((r,o)=>{const l=e.getDatasetMeta(0).controller.getStyle(o);return{text:r,fillStyle:l.backgroundColor,strokeStyle:l.borderColor,fontColor:s,lineWidth:l.borderWidth,pointStyle:i,hidden:!e.getDataVisibility(o),index:o}})}return[]}},onClick(e,n,i){i.chart.toggleDataVisibility(n.index),i.chart.update()}}}});class sa extends Nt{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const n=this._cachedMeta,{dataset:i,data:s=[],_dataset:r}=n,o=this.chart._animationsDisabled;let{start:a,count:l}=Dx(n,s,o);this._drawStart=a,this._drawCount=l,Ax(n)&&(a=0,l=s.length),i._chart=this.chart,i._datasetIndex=this.index,i._decimated=!!r._decimated,i.points=s;const c=this.resolveDatasetElementOptions(e);this.options.showLine||(c.borderWidth=0),c.segment=this.options.segment,this.updateElement(i,void 0,{animated:!o,options:c},e),this.updateElements(s,a,l,e)}updateElements(e,n,i,s){const r=s==="reset",{iScale:o,vScale:a,_stacked:l,_dataset:c}=this._cachedMeta,{sharedOptions:u,includeOptions:d}=this._getSharedOptions(n,s),h=o.axis,f=a.axis,{spanGaps:p,segment:g}=this.options,x=ys(p)?p:Number.POSITIVE_INFINITY,y=this.chart._animationsDisabled||r||s==="none",m=n+i,v=e.length;let w=n>0&&this.getParsed(n-1);for(let S=0;S<v;++S){const C=e[S],P=y?C:{};if(S<n||S>=m){P.skip=!0;continue}const k=this.getParsed(S),M=q(k[f]),T=P[h]=o.getPixelForValue(k[h],S),A=P[f]=r||M?a.getBasePixel():a.getPixelForValue(l?this.applyStack(a,k,l):k[f],S);P.skip=isNaN(T)||isNaN(A)||M,P.stop=S>0&&Math.abs(k[h]-w[h])>x,g&&(P.parsed=k,P.raw=c.data[S]),d&&(P.options=u||this.resolveDataElementOptions(S,C.active?"active":s)),y||this.updateElement(C,S,P,s),w=k}}getMaxOverflow(){const e=this._cachedMeta,n=e.dataset,i=n.options&&n.options.borderWidth||0,s=e.data||[];if(!s.length)return i;const r=s[0].size(this.resolveDataElementOptions(0)),o=s[s.length-1].size(this.resolveDataElementOptions(s.length-1));return Math.max(i,r,o)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}D(sa,"id","line"),D(sa,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),D(sa,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});class mr extends Nt{constructor(e,n){super(e,n),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(e){const n=this._cachedMeta,i=this.chart,s=i.data.labels||[],r=no(n._parsed[e].r,i.options.locale);return{label:s[e]||"",value:r}}parseObjectData(e,n,i,s){return zx.bind(this)(e,n,i,s)}update(e){const n=this._cachedMeta.data;this._updateRadius(),this.updateElements(n,0,n.length,e)}getMinMax(){const e=this._cachedMeta,n={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return e.data.forEach((i,s)=>{const r=this.getParsed(s).r;!isNaN(r)&&this.chart.getDataVisibility(s)&&(r<n.min&&(n.min=r),r>n.max&&(n.max=r))}),n}_updateRadius(){const e=this.chart,n=e.chartArea,i=e.options,s=Math.min(n.right-n.left,n.bottom-n.top),r=Math.max(s/2,0),o=Math.max(i.cutoutPercentage?r/100*i.cutoutPercentage:1,0),a=(r-o)/e.getVisibleDatasetCount();this.outerRadius=r-a*this.index,this.innerRadius=this.outerRadius-a}updateElements(e,n,i,s){const r=s==="reset",o=this.chart,l=o.options.animation,c=this._cachedMeta.rScale,u=c.xCenter,d=c.yCenter,h=c.getIndexAngle(0)-.5*pe;let f=h,p;const g=360/this.countVisibleElements();for(p=0;p<n;++p)f+=this._computeAngle(p,s,g);for(p=n;p<n+i;p++){const x=e[p];let y=f,m=f+this._computeAngle(p,s,g),v=o.getDataVisibility(p)?c.getDistanceFromCenterForValue(this.getParsed(p).r):0;f=m,r&&(l.animateScale&&(v=0),l.animateRotate&&(y=m=h));const w={x:u,y:d,innerRadius:0,outerRadius:v,startAngle:y,endAngle:m,options:this.resolveDataElementOptions(p,x.active?"active":s)};this.updateElement(x,p,w,s)}}countVisibleElements(){const e=this._cachedMeta;let n=0;return e.data.forEach((i,s)=>{!isNaN(this.getParsed(s).r)&&this.chart.getDataVisibility(s)&&n++}),n}_computeAngle(e,n,i){return this.chart.getDataVisibility(e)?Lt(this.resolveDataElementOptions(e,n).angle||i):0}}D(mr,"id","polarArea"),D(mr,"defaults",{dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0}),D(mr,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const n=e.data;if(n.labels.length&&n.datasets.length){const{labels:{pointStyle:i,color:s}}=e.legend.options;return n.labels.map((r,o)=>{const l=e.getDatasetMeta(0).controller.getStyle(o);return{text:r,fillStyle:l.backgroundColor,strokeStyle:l.borderColor,fontColor:s,lineWidth:l.borderWidth,pointStyle:i,hidden:!e.getDataVisibility(o),index:o}})}return[]}},onClick(e,n,i){i.chart.toggleDataVisibility(n.index),i.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}});class Uu extends yi{}D(Uu,"id","pie"),D(Uu,"defaults",{cutout:0,rotation:0,circumference:360,radius:"100%"});class ra extends Nt{getLabelAndValue(e){const n=this._cachedMeta.vScale,i=this.getParsed(e);return{label:n.getLabels()[e],value:""+n.getLabelForValue(i[n.axis])}}parseObjectData(e,n,i,s){return zx.bind(this)(e,n,i,s)}update(e){const n=this._cachedMeta,i=n.dataset,s=n.data||[],r=n.iScale.getLabels();if(i.points=s,e!=="resize"){const o=this.resolveDatasetElementOptions(e);this.options.showLine||(o.borderWidth=0);const a={_loop:!0,_fullLoop:r.length===s.length,options:o};this.updateElement(i,void 0,a,e)}this.updateElements(s,0,s.length,e)}updateElements(e,n,i,s){const r=this._cachedMeta.rScale,o=s==="reset";for(let a=n;a<n+i;a++){const l=e[a],c=this.resolveDataElementOptions(a,l.active?"active":s),u=r.getPointPositionForValue(a,this.getParsed(a).r),d=o?r.xCenter:u.x,h=o?r.yCenter:u.y,f={x:d,y:h,angle:u.angle,skip:isNaN(d)||isNaN(h),options:c};this.updateElement(l,a,f,s)}}}D(ra,"id","radar"),D(ra,"defaults",{datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}}),D(ra,"overrides",{aspectRatio:1,scales:{r:{type:"radialLinear"}}});class oa extends Nt{getLabelAndValue(e){const n=this._cachedMeta,i=this.chart.data.labels||[],{xScale:s,yScale:r}=n,o=this.getParsed(e),a=s.getLabelForValue(o.x),l=r.getLabelForValue(o.y);return{label:i[e]||"",value:"("+a+", "+l+")"}}update(e){const n=this._cachedMeta,{data:i=[]}=n,s=this.chart._animationsDisabled;let{start:r,count:o}=Dx(n,i,s);if(this._drawStart=r,this._drawCount=o,Ax(n)&&(r=0,o=i.length),this.options.showLine){this.datasetElementType||this.addElements();const{dataset:a,_dataset:l}=n;a._chart=this.chart,a._datasetIndex=this.index,a._decimated=!!l._decimated,a.points=i;const c=this.resolveDatasetElementOptions(e);c.segment=this.options.segment,this.updateElement(a,void 0,{animated:!s,options:c},e)}else this.datasetElementType&&(delete n.dataset,this.datasetElementType=!1);this.updateElements(i,r,o,e)}addElements(){const{showLine:e}=this.options;!this.datasetElementType&&e&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(e,n,i,s){const r=s==="reset",{iScale:o,vScale:a,_stacked:l,_dataset:c}=this._cachedMeta,u=this.resolveDataElementOptions(n,s),d=this.getSharedOptions(u),h=this.includeOptions(s,d),f=o.axis,p=a.axis,{spanGaps:g,segment:x}=this.options,y=ys(g)?g:Number.POSITIVE_INFINITY,m=this.chart._animationsDisabled||r||s==="none";let v=n>0&&this.getParsed(n-1);for(let w=n;w<n+i;++w){const S=e[w],C=this.getParsed(w),P=m?S:{},k=q(C[p]),M=P[f]=o.getPixelForValue(C[f],w),T=P[p]=r||k?a.getBasePixel():a.getPixelForValue(l?this.applyStack(a,C,l):C[p],w);P.skip=isNaN(M)||isNaN(T)||k,P.stop=w>0&&Math.abs(C[f]-v[f])>y,x&&(P.parsed=C,P.raw=c.data[w]),h&&(P.options=d||this.resolveDataElementOptions(w,S.active?"active":s)),m||this.updateElement(S,w,P,s),v=C}this.updateSharedOptions(d,s,u)}getMaxOverflow(){const e=this._cachedMeta,n=e.data||[];if(!this.options.showLine){let a=0;for(let l=n.length-1;l>=0;--l)a=Math.max(a,n[l].size(this.resolveDataElementOptions(l))/2);return a>0&&a}const i=e.dataset,s=i.options&&i.options.borderWidth||0;if(!n.length)return s;const r=n[0].size(this.resolveDataElementOptions(0)),o=n[n.length-1].size(this.resolveDataElementOptions(n.length-1));return Math.max(s,r,o)/2}}D(oa,"id","scatter"),D(oa,"defaults",{datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1}),D(oa,"overrides",{interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}});var w2=Object.freeze({__proto__:null,BarController:na,BubbleController:ia,DoughnutController:yi,LineController:sa,PieController:Uu,PolarAreaController:mr,RadarController:ra,ScatterController:oa});function si(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class Oh{constructor(e){D(this,"options");this.options=e||{}}static override(e){Object.assign(Oh.prototype,e)}init(){}formats(){return si()}parse(){return si()}format(){return si()}add(){return si()}diff(){return si()}startOf(){return si()}endOf(){return si()}}var S2={_date:Oh};function _2(t,e,n,i){const{controller:s,data:r,_sorted:o}=t,a=s._cachedMeta.iScale,l=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null;if(a&&e===a.axis&&e!=="r"&&o&&r.length){const c=a._reversePixels?YM:on;if(i){if(s._sharedOptions){const u=r[0],d=typeof u.getRange=="function"&&u.getRange(e);if(d){const h=c(r,e,n-d),f=c(r,e,n+d);return{lo:h.lo,hi:f.hi}}}}else{const u=c(r,e,n);if(l){const{vScale:d}=s._cachedMeta,{_parsed:h}=t,f=h.slice(0,u.lo+1).reverse().findIndex(g=>!q(g[d.axis]));u.lo-=Math.max(0,f);const p=h.slice(u.hi).findIndex(g=>!q(g[d.axis]));u.hi+=Math.max(0,p)}return u}}return{lo:0,hi:r.length-1}}function io(t,e,n,i,s){const r=t.getSortedVisibleDatasetMetas(),o=n[e];for(let a=0,l=r.length;a<l;++a){const{index:c,data:u}=r[a],{lo:d,hi:h}=_2(r[a],e,o,s);for(let f=d;f<=h;++f){const p=u[f];p.skip||i(p,c,f)}}}function k2(t){const e=t.indexOf("x")!==-1,n=t.indexOf("y")!==-1;return function(i,s){const r=e?Math.abs(i.x-s.x):0,o=n?Math.abs(i.y-s.y):0;return Math.sqrt(Math.pow(r,2)+Math.pow(o,2))}}function Mc(t,e,n,i,s){const r=[];return!s&&!t.isPointInArea(e)||io(t,n,e,function(a,l,c){!s&&!an(a,t.chartArea,0)||a.inRange(e.x,e.y,i)&&r.push({element:a,datasetIndex:l,index:c})},!0),r}function P2(t,e,n,i){let s=[];function r(o,a,l){const{startAngle:c,endAngle:u}=o.getProps(["startAngle","endAngle"],i),{angle:d}=Cx(o,{x:e.x,y:e.y});Br(d,c,u)&&s.push({element:o,datasetIndex:a,index:l})}return io(t,n,e,r),s}function C2(t,e,n,i,s,r){let o=[];const a=k2(n);let l=Number.POSITIVE_INFINITY;function c(u,d,h){const f=u.inRange(e.x,e.y,s);if(i&&!f)return;const p=u.getCenterPoint(s);if(!(!!r||t.isPointInArea(p))&&!f)return;const x=a(e,p);x<l?(o=[{element:u,datasetIndex:d,index:h}],l=x):x===l&&o.push({element:u,datasetIndex:d,index:h})}return io(t,n,e,c),o}function Tc(t,e,n,i,s,r){return!r&&!t.isPointInArea(e)?[]:n==="r"&&!i?P2(t,e,n,s):C2(t,e,n,i,s,r)}function Vm(t,e,n,i,s){const r=[],o=n==="x"?"inXRange":"inYRange";let a=!1;return io(t,n,e,(l,c,u)=>{l[o]&&l[o](e[n],s)&&(r.push({element:l,datasetIndex:c,index:u}),a=a||l.inRange(e.x,e.y,s))}),i&&!a?[]:r}var M2={evaluateInteractionItems:io,modes:{index(t,e,n,i){const s=di(e,t),r=n.axis||"x",o=n.includeInvisible||!1,a=n.intersect?Mc(t,s,r,i,o):Tc(t,s,r,!1,i,o),l=[];return a.length?(t.getSortedVisibleDatasetMetas().forEach(c=>{const u=a[0].index,d=c.data[u];d&&!d.skip&&l.push({element:d,datasetIndex:c.index,index:u})}),l):[]},dataset(t,e,n,i){const s=di(e,t),r=n.axis||"xy",o=n.includeInvisible||!1;let a=n.intersect?Mc(t,s,r,i,o):Tc(t,s,r,!1,i,o);if(a.length>0){const l=a[0].datasetIndex,c=t.getDatasetMeta(l).data;a=[];for(let u=0;u<c.length;++u)a.push({element:c[u],datasetIndex:l,index:u})}return a},point(t,e,n,i){const s=di(e,t),r=n.axis||"xy",o=n.includeInvisible||!1;return Mc(t,s,r,i,o)},nearest(t,e,n,i){const s=di(e,t),r=n.axis||"xy",o=n.includeInvisible||!1;return Tc(t,s,r,n.intersect,i,o)},x(t,e,n,i){const s=di(e,t);return Vm(t,s,"x",n.intersect,i)},y(t,e,n,i){const s=di(e,t);return Vm(t,s,"y",n.intersect,i)}}};const Qx=["left","top","right","bottom"];function Ns(t,e){return t.filter(n=>n.pos===e)}function Fm(t,e){return t.filter(n=>Qx.indexOf(n.pos)===-1&&n.box.axis===e)}function js(t,e){return t.sort((n,i)=>{const s=e?i:n,r=e?n:i;return s.weight===r.weight?s.index-r.index:s.weight-r.weight})}function T2(t){const e=[];let n,i,s,r,o,a;for(n=0,i=(t||[]).length;n<i;++n)s=t[n],{position:r,options:{stack:o,stackWeight:a=1}}=s,e.push({index:n,box:s,pos:r,horizontal:s.isHorizontal(),weight:s.weight,stack:o&&r+o,stackWeight:a});return e}function E2(t){const e={};for(const n of t){const{stack:i,pos:s,stackWeight:r}=n;if(!i||!Qx.includes(s))continue;const o=e[i]||(e[i]={count:0,placed:0,weight:0,size:0});o.count++,o.weight+=r}return e}function R2(t,e){const n=E2(t),{vBoxMaxWidth:i,hBoxMaxHeight:s}=e;let r,o,a;for(r=0,o=t.length;r<o;++r){a=t[r];const{fullSize:l}=a.box,c=n[a.stack],u=c&&a.stackWeight/c.weight;a.horizontal?(a.width=u?u*i:l&&e.availableWidth,a.height=s):(a.width=i,a.height=u?u*s:l&&e.availableHeight)}return n}function D2(t){const e=T2(t),n=js(e.filter(c=>c.box.fullSize),!0),i=js(Ns(e,"left"),!0),s=js(Ns(e,"right")),r=js(Ns(e,"top"),!0),o=js(Ns(e,"bottom")),a=Fm(e,"x"),l=Fm(e,"y");return{fullSize:n,leftAndTop:i.concat(r),rightAndBottom:s.concat(l).concat(o).concat(a),chartArea:Ns(e,"chartArea"),vertical:i.concat(s).concat(l),horizontal:r.concat(o).concat(a)}}function zm(t,e,n,i){return Math.max(t[n],e[n])+Math.max(t[i],e[i])}function qx(t,e){t.top=Math.max(t.top,e.top),t.left=Math.max(t.left,e.left),t.bottom=Math.max(t.bottom,e.bottom),t.right=Math.max(t.right,e.right)}function A2(t,e,n,i){const{pos:s,box:r}=n,o=t.maxPadding;if(!J(s)){n.size&&(t[s]-=n.size);const d=i[n.stack]||{size:0,count:1};d.size=Math.max(d.size,n.horizontal?r.height:r.width),n.size=d.size/d.count,t[s]+=n.size}r.getPadding&&qx(o,r.getPadding());const a=Math.max(0,e.outerWidth-zm(o,t,"left","right")),l=Math.max(0,e.outerHeight-zm(o,t,"top","bottom")),c=a!==t.w,u=l!==t.h;return t.w=a,t.h=l,n.horizontal?{same:c,other:u}:{same:u,other:c}}function L2(t){const e=t.maxPadding;function n(i){const s=Math.max(e[i]-t[i],0);return t[i]+=s,s}t.y+=n("top"),t.x+=n("left"),n("right"),n("bottom")}function O2(t,e){const n=e.maxPadding;function i(s){const r={left:0,top:0,right:0,bottom:0};return s.forEach(o=>{r[o]=Math.max(e[o],n[o])}),r}return i(t?["left","right"]:["top","bottom"])}function Xs(t,e,n,i){const s=[];let r,o,a,l,c,u;for(r=0,o=t.length,c=0;r<o;++r){a=t[r],l=a.box,l.update(a.width||e.w,a.height||e.h,O2(a.horizontal,e));const{same:d,other:h}=A2(e,n,a,i);c|=d&&s.length,u=u||h,l.fullSize||s.push(a)}return c&&Xs(s,e,n,i)||u}function Lo(t,e,n,i,s){t.top=n,t.left=e,t.right=e+i,t.bottom=n+s,t.width=i,t.height=s}function Bm(t,e,n,i){const s=n.padding;let{x:r,y:o}=e;for(const a of t){const l=a.box,c=i[a.stack]||{count:1,placed:0,weight:1},u=a.stackWeight/c.weight||1;if(a.horizontal){const d=e.w*u,h=c.size||l.height;zr(c.start)&&(o=c.start),l.fullSize?Lo(l,s.left,o,n.outerWidth-s.right-s.left,h):Lo(l,e.left+c.placed,o,d,h),c.start=o,c.placed+=d,o=l.bottom}else{const d=e.h*u,h=c.size||l.width;zr(c.start)&&(r=c.start),l.fullSize?Lo(l,r,s.top,h,n.outerHeight-s.bottom-s.top):Lo(l,r,e.top+c.placed,h,d),c.start=r,c.placed+=d,r=l.right}}e.x=r,e.y=o}var Xe={addBox(t,e){t.boxes||(t.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(n){e.draw(n)}}]},t.boxes.push(e)},removeBox(t,e){const n=t.boxes?t.boxes.indexOf(e):-1;n!==-1&&t.boxes.splice(n,1)},configure(t,e,n){e.fullSize=n.fullSize,e.position=n.position,e.weight=n.weight},update(t,e,n,i){if(!t)return;const s=Qe(t.options.layout.padding),r=Math.max(e-s.width,0),o=Math.max(n-s.height,0),a=D2(t.boxes),l=a.vertical,c=a.horizontal;ne(t.boxes,g=>{typeof g.beforeLayout=="function"&&g.beforeLayout()});const u=l.reduce((g,x)=>x.box.options&&x.box.options.display===!1?g:g+1,0)||1,d=Object.freeze({outerWidth:e,outerHeight:n,padding:s,availableWidth:r,availableHeight:o,vBoxMaxWidth:r/2/u,hBoxMaxHeight:o/2}),h=Object.assign({},s);qx(h,Qe(i));const f=Object.assign({maxPadding:h,w:r,h:o,x:s.left,y:s.top},s),p=R2(l.concat(c),d);Xs(a.fullSize,f,d,p),Xs(l,f,d,p),Xs(c,f,d,p)&&Xs(l,f,d,p),L2(f),Bm(a.leftAndTop,f,d,p),f.x+=f.w,f.y+=f.h,Bm(a.rightAndBottom,f,d,p),t.chartArea={left:f.left,top:f.top,right:f.left+f.w,bottom:f.top+f.h,height:f.h,width:f.w},ne(a.chartArea,g=>{const x=g.box;Object.assign(x,t.chartArea),x.update(f.w,f.h,{left:0,top:0,right:0,bottom:0})})}};class Zx{acquireContext(e,n){}releaseContext(e){return!1}addEventListener(e,n,i){}removeEventListener(e,n,i){}getDevicePixelRatio(){return 1}getMaximumSize(e,n,i,s){return n=Math.max(0,n||e.width),i=i||e.height,{width:n,height:Math.max(0,s?Math.floor(n/s):i)}}isAttached(e){return!0}updateConfig(e){}}class I2 extends Zx{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const aa="$chartjs",N2={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},Hm=t=>t===null||t==="";function j2(t,e){const n=t.style,i=t.getAttribute("height"),s=t.getAttribute("width");if(t[aa]={initial:{height:i,width:s,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",Hm(s)){const r=Pm(t,"width");r!==void 0&&(t.width=r)}if(Hm(i))if(t.style.height==="")t.height=t.width/(e||2);else{const r=Pm(t,"height");r!==void 0&&(t.height=r)}return t}const Jx=FT?{passive:!0}:!1;function V2(t,e,n){t&&t.addEventListener(e,n,Jx)}function F2(t,e,n){t&&t.canvas&&t.canvas.removeEventListener(e,n,Jx)}function z2(t,e){const n=N2[t.type]||t.type,{x:i,y:s}=di(t,e);return{type:n,chart:e,native:t,x:i!==void 0?i:null,y:s!==void 0?s:null}}function Ga(t,e){for(const n of t)if(n===e||n.contains(e))return!0}function B2(t,e,n){const i=t.canvas,s=new MutationObserver(r=>{let o=!1;for(const a of r)o=o||Ga(a.addedNodes,i),o=o&&!Ga(a.removedNodes,i);o&&n()});return s.observe(document,{childList:!0,subtree:!0}),s}function H2(t,e,n){const i=t.canvas,s=new MutationObserver(r=>{let o=!1;for(const a of r)o=o||Ga(a.removedNodes,i),o=o&&!Ga(a.addedNodes,i);o&&n()});return s.observe(document,{childList:!0,subtree:!0}),s}const Wr=new Map;let Wm=0;function e1(){const t=window.devicePixelRatio;t!==Wm&&(Wm=t,Wr.forEach((e,n)=>{n.currentDevicePixelRatio!==t&&e()}))}function W2(t,e){Wr.size||window.addEventListener("resize",e1),Wr.set(t,e)}function $2(t){Wr.delete(t),Wr.size||window.removeEventListener("resize",e1)}function U2(t,e,n){const i=t.canvas,s=i&&Lh(i);if(!s)return;const r=Rx((a,l)=>{const c=s.clientWidth;n(a,l),c<s.clientWidth&&n()},window),o=new ResizeObserver(a=>{const l=a[0],c=l.contentRect.width,u=l.contentRect.height;c===0&&u===0||r(c,u)});return o.observe(s),W2(t,r),o}function Ec(t,e,n){n&&n.disconnect(),e==="resize"&&$2(t)}function Y2(t,e,n){const i=t.canvas,s=Rx(r=>{t.ctx!==null&&n(z2(r,t))},t);return V2(i,e,s),s}class K2 extends Zx{acquireContext(e,n){const i=e&&e.getContext&&e.getContext("2d");return i&&i.canvas===e?(j2(e,n),i):null}releaseContext(e){const n=e.canvas;if(!n[aa])return!1;const i=n[aa].initial;["height","width"].forEach(r=>{const o=i[r];q(o)?n.removeAttribute(r):n.setAttribute(r,o)});const s=i.style||{};return Object.keys(s).forEach(r=>{n.style[r]=s[r]}),n.width=n.width,delete n[aa],!0}addEventListener(e,n,i){this.removeEventListener(e,n);const s=e.$proxies||(e.$proxies={}),o={attach:B2,detach:H2,resize:U2}[n]||Y2;s[n]=o(e,n,i)}removeEventListener(e,n){const i=e.$proxies||(e.$proxies={}),s=i[n];if(!s)return;({attach:Ec,detach:Ec,resize:Ec}[n]||F2)(e,n,s),i[n]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,n,i,s){return VT(e,n,i,s)}isAttached(e){const n=e&&Lh(e);return!!(n&&n.isConnected)}}function X2(t){return!Ah()||typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas?I2:K2}var Bo;let yn=(Bo=class{constructor(){D(this,"x");D(this,"y");D(this,"active",!1);D(this,"options");D(this,"$animations")}tooltipPosition(e){const{x:n,y:i}=this.getProps(["x","y"],e);return{x:n,y:i}}hasValue(){return ys(this.x)&&ys(this.y)}getProps(e,n){const i=this.$animations;if(!n||!i)return this;const s={};return e.forEach(r=>{s[r]=i[r]&&i[r].active()?i[r]._to:this[r]}),s}},D(Bo,"defaults",{}),D(Bo,"defaultRoutes"),Bo);function G2(t,e){const n=t.options.ticks,i=Q2(t),s=Math.min(n.maxTicksLimit||i,i),r=n.major.enabled?Z2(e):[],o=r.length,a=r[0],l=r[o-1],c=[];if(o>s)return J2(e,c,r,o/s),c;const u=q2(r,e,s);if(o>0){let d,h;const f=o>1?Math.round((l-a)/(o-1)):null;for(Oo(e,c,u,q(f)?0:a-f,a),d=0,h=o-1;d<h;d++)Oo(e,c,u,r[d],r[d+1]);return Oo(e,c,u,l,q(f)?e.length:l+f),c}return Oo(e,c,u),c}function Q2(t){const e=t.options.offset,n=t._tickSize(),i=t._length/n+(e?0:1),s=t._maxLength/n;return Math.floor(Math.min(i,s))}function q2(t,e,n){const i=eE(t),s=e.length/n;if(!i)return Math.max(s,1);const r=BM(i);for(let o=0,a=r.length-1;o<a;o++){const l=r[o];if(l>s)return l}return Math.max(s,1)}function Z2(t){const e=[];let n,i;for(n=0,i=t.length;n<i;n++)t[n].major&&e.push(n);return e}function J2(t,e,n,i){let s=0,r=n[0],o;for(i=Math.ceil(i),o=0;o<t.length;o++)o===r&&(e.push(t[o]),s++,r=n[s*i])}function Oo(t,e,n,i,s){const r=X(i,0),o=Math.min(X(s,t.length),t.length);let a=0,l,c,u;for(n=Math.ceil(n),s&&(l=s-i,n=l/Math.floor(l/n)),u=r;u<0;)a++,u=Math.round(r+a*n);for(c=Math.max(r,0);c<o;c++)c===u&&(e.push(t[c]),a++,u=Math.round(r+a*n))}function eE(t){const e=t.length;let n,i;if(e<2)return!1;for(i=t[0],n=1;n<e;++n)if(t[n]-t[n-1]!==i)return!1;return i}const tE=t=>t==="left"?"right":t==="right"?"left":t,$m=(t,e,n)=>e==="top"||e==="left"?t[e]+n:t[e]-n,Um=(t,e)=>Math.min(e||t,t);function Ym(t,e){const n=[],i=t.length/e,s=t.length;let r=0;for(;r<s;r+=i)n.push(t[Math.floor(r)]);return n}function nE(t,e,n){const i=t.ticks.length,s=Math.min(e,i-1),r=t._startPixel,o=t._endPixel,a=1e-6;let l=t.getPixelForTick(s),c;if(!(n&&(i===1?c=Math.max(l-r,o-l):e===0?c=(t.getPixelForTick(1)-l)/2:c=(l-t.getPixelForTick(s-1))/2,l+=s<e?c:-c,l<r-a||l>o+a)))return l}function iE(t,e){ne(t,n=>{const i=n.gc,s=i.length/2;let r;if(s>e){for(r=0;r<s;++r)delete n.data[i[r]];i.splice(0,s)}})}function Vs(t){return t.drawTicks?t.tickLength:0}function Km(t,e){if(!t.display)return 0;const n=Ie(t.font,e),i=Qe(t.padding);return(de(t.text)?t.text.length:1)*n.lineHeight+i.height}function sE(t,e){return Jn(t,{scale:e,type:"scale"})}function rE(t,e,n){return Jn(t,{tick:n,index:e,type:"tick"})}function oE(t,e,n){let i=Ch(t);return(n&&e!=="right"||!n&&e==="right")&&(i=tE(i)),i}function aE(t,e,n,i){const{top:s,left:r,bottom:o,right:a,chart:l}=t,{chartArea:c,scales:u}=l;let d=0,h,f,p;const g=o-s,x=a-r;if(t.isHorizontal()){if(f=Ye(i,r,a),J(n)){const y=Object.keys(n)[0],m=n[y];p=u[y].getPixelForValue(m)+g-e}else n==="center"?p=(c.bottom+c.top)/2+g-e:p=$m(t,n,e);h=a-r}else{if(J(n)){const y=Object.keys(n)[0],m=n[y];f=u[y].getPixelForValue(m)-x+e}else n==="center"?f=(c.left+c.right)/2-x+e:f=$m(t,n,e);p=Ye(i,o,s),d=n==="left"?-Te:Te}return{titleX:f,titleY:p,maxWidth:h,rotation:d}}class Oi extends yn{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,n){return e}getUserBounds(){let{_userMin:e,_userMax:n,_suggestedMin:i,_suggestedMax:s}=this;return e=dt(e,Number.POSITIVE_INFINITY),n=dt(n,Number.NEGATIVE_INFINITY),i=dt(i,Number.POSITIVE_INFINITY),s=dt(s,Number.NEGATIVE_INFINITY),{min:dt(e,i),max:dt(n,s),minDefined:Pe(e),maxDefined:Pe(n)}}getMinMax(e){let{min:n,max:i,minDefined:s,maxDefined:r}=this.getUserBounds(),o;if(s&&r)return{min:n,max:i};const a=this.getMatchingVisibleMetas();for(let l=0,c=a.length;l<c;++l)o=a[l].controller.getMinMax(this,e),s||(n=Math.min(n,o.min)),r||(i=Math.max(i,o.max));return n=r&&n>i?i:n,i=s&&n>i?n:i,{min:dt(n,dt(i,n)),max:dt(i,dt(n,i))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){re(this.options.beforeUpdate,[this])}update(e,n,i){const{beginAtZero:s,grace:r,ticks:o}=this.options,a=o.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=n,this._margins=i=Object.assign({left:0,right:0,top:0,bottom:0},i),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+i.left+i.right:this.height+i.top+i.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=gT(this,r,s),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const l=a<this.ticks.length;this._convertTicksToLabels(l?Ym(this.ticks,a):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),o.display&&(o.autoSkip||o.source==="auto")&&(this.ticks=G2(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),l&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,n,i;this.isHorizontal()?(n=this.left,i=this.right):(n=this.top,i=this.bottom,e=!e),this._startPixel=n,this._endPixel=i,this._reversePixels=e,this._length=i-n,this._alignToPixels=this.options.alignToPixels}afterUpdate(){re(this.options.afterUpdate,[this])}beforeSetDimensions(){re(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){re(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),re(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){re(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const n=this.options.ticks;let i,s,r;for(i=0,s=e.length;i<s;i++)r=e[i],r.label=re(n.callback,[r.value,i,e],this)}afterTickToLabelConversion(){re(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){re(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,n=e.ticks,i=Um(this.ticks.length,e.ticks.maxTicksLimit),s=n.minRotation||0,r=n.maxRotation;let o=s,a,l,c;if(!this._isVisible()||!n.display||s>=r||i<=1||!this.isHorizontal()){this.labelRotation=s;return}const u=this._getLabelSizes(),d=u.widest.width,h=u.highest.height,f=Ve(this.chart.width-d,0,this.maxWidth);a=e.offset?this.maxWidth/i:f/(i-1),d+6>a&&(a=f/(i-(e.offset?.5:1)),l=this.maxHeight-Vs(e.grid)-n.padding-Km(e.title,this.chart.options.font),c=Math.sqrt(d*d+h*h),o=kh(Math.min(Math.asin(Ve((u.highest.height+6)/a,-1,1)),Math.asin(Ve(l/c,-1,1))-Math.asin(Ve(h/c,-1,1)))),o=Math.max(s,Math.min(r,o))),this.labelRotation=o}afterCalculateLabelRotation(){re(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){re(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:n,options:{ticks:i,title:s,grid:r}}=this,o=this._isVisible(),a=this.isHorizontal();if(o){const l=Km(s,n.options.font);if(a?(e.width=this.maxWidth,e.height=Vs(r)+l):(e.height=this.maxHeight,e.width=Vs(r)+l),i.display&&this.ticks.length){const{first:c,last:u,widest:d,highest:h}=this._getLabelSizes(),f=i.padding*2,p=Lt(this.labelRotation),g=Math.cos(p),x=Math.sin(p);if(a){const y=i.mirror?0:x*d.width+g*h.height;e.height=Math.min(this.maxHeight,e.height+y+f)}else{const y=i.mirror?0:g*d.width+x*h.height;e.width=Math.min(this.maxWidth,e.width+y+f)}this._calculatePadding(c,u,x,g)}}this._handleMargins(),a?(this.width=this._length=n.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=n.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,n,i,s){const{ticks:{align:r,padding:o},position:a}=this.options,l=this.labelRotation!==0,c=a!=="top"&&this.axis==="x";if(this.isHorizontal()){const u=this.getPixelForTick(0)-this.left,d=this.right-this.getPixelForTick(this.ticks.length-1);let h=0,f=0;l?c?(h=s*e.width,f=i*n.height):(h=i*e.height,f=s*n.width):r==="start"?f=n.width:r==="end"?h=e.width:r!=="inner"&&(h=e.width/2,f=n.width/2),this.paddingLeft=Math.max((h-u+o)*this.width/(this.width-u),0),this.paddingRight=Math.max((f-d+o)*this.width/(this.width-d),0)}else{let u=n.height/2,d=e.height/2;r==="start"?(u=0,d=e.height):r==="end"&&(u=n.height,d=0),this.paddingTop=u+o,this.paddingBottom=d+o}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){re(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:n}=this.options;return n==="top"||n==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let n,i;for(n=0,i=e.length;n<i;n++)q(e[n].label)&&(e.splice(n,1),i--,n--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const n=this.options.ticks.sampleSize;let i=this.ticks;n<i.length&&(i=Ym(i,n)),this._labelSizes=e=this._computeLabelSizes(i,i.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,n,i){const{ctx:s,_longestTextCache:r}=this,o=[],a=[],l=Math.floor(n/Um(n,i));let c=0,u=0,d,h,f,p,g,x,y,m,v,w,S;for(d=0;d<n;d+=l){if(p=e[d].label,g=this._resolveTickFontOptions(d),s.font=x=g.string,y=r[x]=r[x]||{data:{},gc:[]},m=g.lineHeight,v=w=0,!q(p)&&!de(p))v=Ka(s,y.data,y.gc,v,p),w=m;else if(de(p))for(h=0,f=p.length;h<f;++h)S=p[h],!q(S)&&!de(S)&&(v=Ka(s,y.data,y.gc,v,S),w+=m);o.push(v),a.push(w),c=Math.max(v,c),u=Math.max(w,u)}iE(r,n);const C=o.indexOf(c),P=a.indexOf(u),k=M=>({width:o[M]||0,height:a[M]||0});return{first:k(0),last:k(n-1),widest:k(C),highest:k(P),widths:o,heights:a}}getLabelForValue(e){return e}getPixelForValue(e,n){return NaN}getValueForPixel(e){}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const n=this._startPixel+e*this._length;return UM(this._alignToPixels?ii(this.chart,n,0):n)}getDecimalForPixel(e){const n=(e-this._startPixel)/this._length;return this._reversePixels?1-n:n}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:n}=this;return e<0&&n<0?n:e>0&&n>0?e:0}getContext(e){const n=this.ticks||[];if(e>=0&&e<n.length){const i=n[e];return i.$context||(i.$context=rE(this.getContext(),e,i))}return this.$context||(this.$context=sE(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,n=Lt(this.labelRotation),i=Math.abs(Math.cos(n)),s=Math.abs(Math.sin(n)),r=this._getLabelSizes(),o=e.autoSkipPadding||0,a=r?r.widest.width+o:0,l=r?r.highest.height+o:0;return this.isHorizontal()?l*i>a*s?a/i:l/s:l*s<a*i?l/i:a/s}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const n=this.axis,i=this.chart,s=this.options,{grid:r,position:o,border:a}=s,l=r.offset,c=this.isHorizontal(),d=this.ticks.length+(l?1:0),h=Vs(r),f=[],p=a.setContext(this.getContext()),g=p.display?p.width:0,x=g/2,y=function(V){return ii(i,V,g)};let m,v,w,S,C,P,k,M,T,A,j,Y;if(o==="top")m=y(this.bottom),P=this.bottom-h,M=m-x,A=y(e.top)+x,Y=e.bottom;else if(o==="bottom")m=y(this.top),A=e.top,Y=y(e.bottom)-x,P=m+x,M=this.top+h;else if(o==="left")m=y(this.right),C=this.right-h,k=m-x,T=y(e.left)+x,j=e.right;else if(o==="right")m=y(this.left),T=e.left,j=y(e.right)-x,C=m+x,k=this.left+h;else if(n==="x"){if(o==="center")m=y((e.top+e.bottom)/2+.5);else if(J(o)){const V=Object.keys(o)[0],K=o[V];m=y(this.chart.scales[V].getPixelForValue(K))}A=e.top,Y=e.bottom,P=m+x,M=P+h}else if(n==="y"){if(o==="center")m=y((e.left+e.right)/2);else if(J(o)){const V=Object.keys(o)[0],K=o[V];m=y(this.chart.scales[V].getPixelForValue(K))}C=m-x,k=C-h,T=e.left,j=e.right}const U=X(s.ticks.maxTicksLimit,d),z=Math.max(1,Math.ceil(d/U));for(v=0;v<d;v+=z){const V=this.getContext(v),K=r.setContext(V),E=a.setContext(V),L=K.lineWidth,N=K.color,F=E.dash||[],G=E.dashOffset,Ee=K.tickWidth,we=K.tickColor,Ae=K.tickBorderDash||[],ce=K.tickBorderDashOffset;w=nE(this,v,l),w!==void 0&&(S=ii(i,w,L),c?C=k=T=j=S:P=M=A=Y=S,f.push({tx1:C,ty1:P,tx2:k,ty2:M,x1:T,y1:A,x2:j,y2:Y,width:L,color:N,borderDash:F,borderDashOffset:G,tickWidth:Ee,tickColor:we,tickBorderDash:Ae,tickBorderDashOffset:ce}))}return this._ticksLength=d,this._borderValue=m,f}_computeLabelItems(e){const n=this.axis,i=this.options,{position:s,ticks:r}=i,o=this.isHorizontal(),a=this.ticks,{align:l,crossAlign:c,padding:u,mirror:d}=r,h=Vs(i.grid),f=h+u,p=d?-u:f,g=-Lt(this.labelRotation),x=[];let y,m,v,w,S,C,P,k,M,T,A,j,Y="middle";if(s==="top")C=this.bottom-p,P=this._getXAxisLabelAlignment();else if(s==="bottom")C=this.top+p,P=this._getXAxisLabelAlignment();else if(s==="left"){const z=this._getYAxisLabelAlignment(h);P=z.textAlign,S=z.x}else if(s==="right"){const z=this._getYAxisLabelAlignment(h);P=z.textAlign,S=z.x}else if(n==="x"){if(s==="center")C=(e.top+e.bottom)/2+f;else if(J(s)){const z=Object.keys(s)[0],V=s[z];C=this.chart.scales[z].getPixelForValue(V)+f}P=this._getXAxisLabelAlignment()}else if(n==="y"){if(s==="center")S=(e.left+e.right)/2-f;else if(J(s)){const z=Object.keys(s)[0],V=s[z];S=this.chart.scales[z].getPixelForValue(V)}P=this._getYAxisLabelAlignment(h).textAlign}n==="y"&&(l==="start"?Y="top":l==="end"&&(Y="bottom"));const U=this._getLabelSizes();for(y=0,m=a.length;y<m;++y){v=a[y],w=v.label;const z=r.setContext(this.getContext(y));k=this.getPixelForTick(y)+r.labelOffset,M=this._resolveTickFontOptions(y),T=M.lineHeight,A=de(w)?w.length:1;const V=A/2,K=z.color,E=z.textStrokeColor,L=z.textStrokeWidth;let N=P;o?(S=k,P==="inner"&&(y===m-1?N=this.options.reverse?"left":"right":y===0?N=this.options.reverse?"right":"left":N="center"),s==="top"?c==="near"||g!==0?j=-A*T+T/2:c==="center"?j=-U.highest.height/2-V*T+T:j=-U.highest.height+T/2:c==="near"||g!==0?j=T/2:c==="center"?j=U.highest.height/2-V*T:j=U.highest.height-A*T,d&&(j*=-1),g!==0&&!z.showLabelBackdrop&&(S+=T/2*Math.sin(g))):(C=k,j=(1-A)*T/2);let F;if(z.showLabelBackdrop){const G=Qe(z.backdropPadding),Ee=U.heights[y],we=U.widths[y];let Ae=j-G.top,ce=0-G.left;switch(Y){case"middle":Ae-=Ee/2;break;case"bottom":Ae-=Ee;break}switch(P){case"center":ce-=we/2;break;case"right":ce-=we;break;case"inner":y===m-1?ce-=we:y>0&&(ce-=we/2);break}F={left:ce,top:Ae,width:we+G.width,height:Ee+G.height,color:z.backdropColor}}x.push({label:w,font:M,textOffset:j,options:{rotation:g,color:K,strokeColor:E,strokeWidth:L,textAlign:N,textBaseline:Y,translation:[S,C],backdrop:F}})}return x}_getXAxisLabelAlignment(){const{position:e,ticks:n}=this.options;if(-Lt(this.labelRotation))return e==="top"?"left":"right";let s="center";return n.align==="start"?s="left":n.align==="end"?s="right":n.align==="inner"&&(s="inner"),s}_getYAxisLabelAlignment(e){const{position:n,ticks:{crossAlign:i,mirror:s,padding:r}}=this.options,o=this._getLabelSizes(),a=e+r,l=o.widest.width;let c,u;return n==="left"?s?(u=this.right+r,i==="near"?c="left":i==="center"?(c="center",u+=l/2):(c="right",u+=l)):(u=this.right-a,i==="near"?c="right":i==="center"?(c="center",u-=l/2):(c="left",u=this.left)):n==="right"?s?(u=this.left+r,i==="near"?c="right":i==="center"?(c="center",u-=l/2):(c="left",u-=l)):(u=this.left+a,i==="near"?c="left":i==="center"?(c="center",u+=l/2):(c="right",u=this.right)):c="right",{textAlign:c,x:u}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,n=this.options.position;if(n==="left"||n==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(n==="top"||n==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:n},left:i,top:s,width:r,height:o}=this;n&&(e.save(),e.fillStyle=n,e.fillRect(i,s,r,o),e.restore())}getLineWidthForValue(e){const n=this.options.grid;if(!this._isVisible()||!n.display)return 0;const s=this.ticks.findIndex(r=>r.value===e);return s>=0?n.setContext(this.getContext(s)).lineWidth:0}drawGrid(e){const n=this.options.grid,i=this.ctx,s=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let r,o;const a=(l,c,u)=>{!u.width||!u.color||(i.save(),i.lineWidth=u.width,i.strokeStyle=u.color,i.setLineDash(u.borderDash||[]),i.lineDashOffset=u.borderDashOffset,i.beginPath(),i.moveTo(l.x,l.y),i.lineTo(c.x,c.y),i.stroke(),i.restore())};if(n.display)for(r=0,o=s.length;r<o;++r){const l=s[r];n.drawOnChartArea&&a({x:l.x1,y:l.y1},{x:l.x2,y:l.y2},l),n.drawTicks&&a({x:l.tx1,y:l.ty1},{x:l.tx2,y:l.ty2},{color:l.tickColor,width:l.tickWidth,borderDash:l.tickBorderDash,borderDashOffset:l.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:n,options:{border:i,grid:s}}=this,r=i.setContext(this.getContext()),o=i.display?r.width:0;if(!o)return;const a=s.setContext(this.getContext(0)).lineWidth,l=this._borderValue;let c,u,d,h;this.isHorizontal()?(c=ii(e,this.left,o)-o/2,u=ii(e,this.right,a)+a/2,d=h=l):(d=ii(e,this.top,o)-o/2,h=ii(e,this.bottom,a)+a/2,c=u=l),n.save(),n.lineWidth=r.width,n.strokeStyle=r.color,n.beginPath(),n.moveTo(c,d),n.lineTo(u,h),n.stroke(),n.restore()}drawLabels(e){if(!this.options.ticks.display)return;const i=this.ctx,s=this._computeLabelArea();s&&Tl(i,s);const r=this.getLabelItems(e);for(const o of r){const a=o.options,l=o.font,c=o.label,u=o.textOffset;Ei(i,c,0,u,l,a)}s&&El(i)}drawTitle(){const{ctx:e,options:{position:n,title:i,reverse:s}}=this;if(!i.display)return;const r=Ie(i.font),o=Qe(i.padding),a=i.align;let l=r.lineHeight/2;n==="bottom"||n==="center"||J(n)?(l+=o.bottom,de(i.text)&&(l+=r.lineHeight*(i.text.length-1))):l+=o.top;const{titleX:c,titleY:u,maxWidth:d,rotation:h}=aE(this,l,n,a);Ei(e,i.text,0,0,r,{color:i.color,maxWidth:d,rotation:h,textAlign:oE(a,n,s),textBaseline:"middle",translation:[c,u]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,n=e.ticks&&e.ticks.z||0,i=X(e.grid&&e.grid.z,-1),s=X(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==Oi.prototype.draw?[{z:n,draw:r=>{this.draw(r)}}]:[{z:i,draw:r=>{this.drawBackground(),this.drawGrid(r),this.drawTitle()}},{z:s,draw:()=>{this.drawBorder()}},{z:n,draw:r=>{this.drawLabels(r)}}]}getMatchingVisibleMetas(e){const n=this.chart.getSortedVisibleDatasetMetas(),i=this.axis+"AxisID",s=[];let r,o;for(r=0,o=n.length;r<o;++r){const a=n[r];a[i]===this.id&&(!e||a.type===e)&&s.push(a)}return s}_resolveTickFontOptions(e){const n=this.options.ticks.setContext(this.getContext(e));return Ie(n.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class Io{constructor(e,n,i){this.type=e,this.scope=n,this.override=i,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const n=Object.getPrototypeOf(e);let i;uE(n)&&(i=this.register(n));const s=this.items,r=e.id,o=this.scope+"."+r;if(!r)throw new Error("class does not have id: "+e);return r in s||(s[r]=e,lE(e,o,i),this.override&&ge.override(e.id,e.overrides)),o}get(e){return this.items[e]}unregister(e){const n=this.items,i=e.id,s=this.scope;i in n&&delete n[i],s&&i in ge[s]&&(delete ge[s][i],this.override&&delete Ti[i])}}function lE(t,e,n){const i=Fr(Object.create(null),[n?ge.get(n):{},ge.get(e),t.defaults]);ge.set(e,i),t.defaultRoutes&&cE(e,t.defaultRoutes),t.descriptors&&ge.describe(e,t.descriptors)}function cE(t,e){Object.keys(e).forEach(n=>{const i=n.split("."),s=i.pop(),r=[t].concat(i).join("."),o=e[n].split("."),a=o.pop(),l=o.join(".");ge.route(r,s,l,a)})}function uE(t){return"id"in t&&"defaults"in t}class dE{constructor(){this.controllers=new Io(Nt,"datasets",!0),this.elements=new Io(yn,"elements"),this.plugins=new Io(Object,"plugins"),this.scales=new Io(Oi,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,n,i){[...n].forEach(s=>{const r=i||this._getRegistryForType(s);i||r.isForType(s)||r===this.plugins&&s.id?this._exec(e,r,s):ne(s,o=>{const a=i||this._getRegistryForType(o);this._exec(e,a,o)})})}_exec(e,n,i){const s=_h(e);re(i["before"+s],[],i),n[e](i),re(i["after"+s],[],i)}_getRegistryForType(e){for(let n=0;n<this._typedRegistries.length;n++){const i=this._typedRegistries[n];if(i.isForType(e))return i}return this.plugins}_get(e,n,i){const s=n.get(e);if(s===void 0)throw new Error('"'+e+'" is not a registered '+i+".");return s}}var Ht=new dE;class hE{constructor(){this._init=[]}notify(e,n,i,s){n==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));const r=s?this._descriptors(e).filter(s):this._descriptors(e),o=this._notify(r,e,n,i);return n==="afterDestroy"&&(this._notify(r,e,"stop"),this._notify(this._init,e,"uninstall")),o}_notify(e,n,i,s){s=s||{};for(const r of e){const o=r.plugin,a=o[i],l=[n,s,r.options];if(re(a,l,o)===!1&&s.cancelable)return!1}return!0}invalidate(){q(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const n=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),n}_createDescriptors(e,n){const i=e&&e.config,s=X(i.options&&i.options.plugins,{}),r=fE(i);return s===!1&&!n?[]:mE(e,r,s,n)}_notifyStateChanges(e){const n=this._oldCache||[],i=this._cache,s=(r,o)=>r.filter(a=>!o.some(l=>a.plugin.id===l.plugin.id));this._notify(s(n,i),e,"stop"),this._notify(s(i,n),e,"start")}}function fE(t){const e={},n=[],i=Object.keys(Ht.plugins.items);for(let r=0;r<i.length;r++)n.push(Ht.getPlugin(i[r]));const s=t.plugins||[];for(let r=0;r<s.length;r++){const o=s[r];n.indexOf(o)===-1&&(n.push(o),e[o.id]=!0)}return{plugins:n,localIds:e}}function pE(t,e){return!e&&t===!1?null:t===!0?{}:t}function mE(t,{plugins:e,localIds:n},i,s){const r=[],o=t.getContext();for(const a of e){const l=a.id,c=pE(i[l],s);c!==null&&r.push({plugin:a,options:gE(t.config,{plugin:a,local:n[l]},c,o)})}return r}function gE(t,{plugin:e,local:n},i,s){const r=t.pluginScopeKeys(e),o=t.getOptionScopes(i,r);return n&&e.defaults&&o.push(e.defaults),t.createResolver(o,s,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function Yu(t,e){const n=ge.datasets[t]||{};return((e.datasets||{})[t]||{}).indexAxis||e.indexAxis||n.indexAxis||"x"}function yE(t,e){let n=t;return t==="_index_"?n=e:t==="_value_"&&(n=e==="x"?"y":"x"),n}function vE(t,e){return t===e?"_index_":"_value_"}function Xm(t){if(t==="x"||t==="y"||t==="r")return t}function xE(t){if(t==="top"||t==="bottom")return"x";if(t==="left"||t==="right")return"y"}function Ku(t,...e){if(Xm(t))return t;for(const n of e){const i=n.axis||xE(n.position)||t.length>1&&Xm(t[0].toLowerCase());if(i)return i}throw new Error(`Cannot determine type of '${t}' axis. Please provide 'axis' or 'position' option.`)}function Gm(t,e,n){if(n[e+"AxisID"]===t)return{axis:e}}function bE(t,e){if(e.data&&e.data.datasets){const n=e.data.datasets.filter(i=>i.xAxisID===t||i.yAxisID===t);if(n.length)return Gm(t,"x",n[0])||Gm(t,"y",n[0])}return{}}function wE(t,e){const n=Ti[t.type]||{scales:{}},i=e.scales||{},s=Yu(t.type,e),r=Object.create(null);return Object.keys(i).forEach(o=>{const a=i[o];if(!J(a))return console.error(`Invalid scale configuration for scale: ${o}`);if(a._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${o}`);const l=Ku(o,a,bE(o,t),ge.scales[a.type]),c=vE(l,s),u=n.scales||{};r[o]=dr(Object.create(null),[{axis:l},a,u[l],u[c]])}),t.data.datasets.forEach(o=>{const a=o.type||t.type,l=o.indexAxis||Yu(a,e),u=(Ti[a]||{}).scales||{};Object.keys(u).forEach(d=>{const h=yE(d,l),f=o[h+"AxisID"]||h;r[f]=r[f]||Object.create(null),dr(r[f],[{axis:h},i[f],u[d]])})}),Object.keys(r).forEach(o=>{const a=r[o];dr(a,[ge.scales[a.type],ge.scale])}),r}function t1(t){const e=t.options||(t.options={});e.plugins=X(e.plugins,{}),e.scales=wE(t,e)}function n1(t){return t=t||{},t.datasets=t.datasets||[],t.labels=t.labels||[],t}function SE(t){return t=t||{},t.data=n1(t.data),t1(t),t}const Qm=new Map,i1=new Set;function No(t,e){let n=Qm.get(t);return n||(n=e(),Qm.set(t,n),i1.add(n)),n}const Fs=(t,e,n)=>{const i=Kn(e,n);i!==void 0&&t.add(i)};class _E{constructor(e){this._config=SE(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=n1(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),t1(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return No(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,n){return No(`${e}.transition.${n}`,()=>[[`datasets.${e}.transitions.${n}`,`transitions.${n}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,n){return No(`${e}-${n}`,()=>[[`datasets.${e}.elements.${n}`,`datasets.${e}`,`elements.${n}`,""]])}pluginScopeKeys(e){const n=e.id,i=this.type;return No(`${i}-plugin-${n}`,()=>[[`plugins.${n}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,n){const i=this._scopeCache;let s=i.get(e);return(!s||n)&&(s=new Map,i.set(e,s)),s}getOptionScopes(e,n,i){const{options:s,type:r}=this,o=this._cachedScopes(e,i),a=o.get(n);if(a)return a;const l=new Set;n.forEach(u=>{e&&(l.add(e),u.forEach(d=>Fs(l,e,d))),u.forEach(d=>Fs(l,s,d)),u.forEach(d=>Fs(l,Ti[r]||{},d)),u.forEach(d=>Fs(l,ge,d)),u.forEach(d=>Fs(l,Wu,d))});const c=Array.from(l);return c.length===0&&c.push(Object.create(null)),i1.has(n)&&o.set(n,c),c}chartOptionScopes(){const{options:e,type:n}=this;return[e,Ti[n]||{},ge.datasets[n]||{},{type:n},ge,Wu]}resolveNamedOptions(e,n,i,s=[""]){const r={$shared:!0},{resolver:o,subPrefixes:a}=qm(this._resolverCache,e,s);let l=o;if(PE(o,n)){r.$shared=!1,i=Xn(i)?i():i;const c=this.createResolver(e,i,a);l=vs(o,i,c)}for(const c of n)r[c]=l[c];return r}createResolver(e,n,i=[""],s){const{resolver:r}=qm(this._resolverCache,e,i);return J(n)?vs(r,n,void 0,s):r}}function qm(t,e,n){let i=t.get(e);i||(i=new Map,t.set(e,i));const s=n.join();let r=i.get(s);return r||(r={resolver:Eh(e,n),subPrefixes:n.filter(a=>!a.toLowerCase().includes("hover"))},i.set(s,r)),r}const kE=t=>J(t)&&Object.getOwnPropertyNames(t).some(e=>Xn(t[e]));function PE(t,e){const{isScriptable:n,isIndexable:i}=Nx(t);for(const s of e){const r=n(s),o=i(s),a=(o||r)&&t[s];if(r&&(Xn(a)||kE(a))||o&&de(a))return!0}return!1}var CE="4.4.8";const ME=["top","bottom","left","right","chartArea"];function Zm(t,e){return t==="top"||t==="bottom"||ME.indexOf(t)===-1&&e==="x"}function Jm(t,e){return function(n,i){return n[t]===i[t]?n[e]-i[e]:n[t]-i[t]}}function eg(t){const e=t.chart,n=e.options.animation;e.notifyPlugins("afterRender"),re(n&&n.onComplete,[t],e)}function TE(t){const e=t.chart,n=e.options.animation;re(n&&n.onProgress,[t],e)}function s1(t){return Ah()&&typeof t=="string"?t=document.getElementById(t):t&&t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas),t}const la={},tg=t=>{const e=s1(t);return Object.values(la).filter(n=>n.canvas===e).pop()};function EE(t,e,n){const i=Object.keys(t);for(const s of i){const r=+s;if(r>=e){const o=t[s];delete t[s],(n>0||r>e)&&(t[r+n]=o)}}}function RE(t,e,n,i){return!n||t.type==="mouseout"?null:i?e:t}function jo(t,e,n){return t.options.clip?t[n]:e[n]}function DE(t,e){const{xScale:n,yScale:i}=t;return n&&i?{left:jo(n,e,"left"),right:jo(n,e,"right"),top:jo(i,e,"top"),bottom:jo(i,e,"bottom")}:e}class en{static register(...e){Ht.add(...e),ng()}static unregister(...e){Ht.remove(...e),ng()}constructor(e,n){const i=this.config=new _E(n),s=s1(e),r=tg(s);if(r)throw new Error("Canvas is already in use. Chart with ID '"+r.id+"' must be destroyed before the canvas with ID '"+r.canvas.id+"' can be reused.");const o=i.createResolver(i.chartOptionScopes(),this.getContext());this.platform=new(i.platform||X2(s)),this.platform.updateConfig(i);const a=this.platform.acquireContext(s,o.aspectRatio),l=a&&a.canvas,c=l&&l.height,u=l&&l.width;if(this.id=AM(),this.ctx=a,this.canvas=l,this.width=u,this.height=c,this._options=o,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new hE,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=GM(d=>this.update(d),o.resizeDelay||0),this._dataChanges=[],la[this.id]=this,!a||!l){console.error("Failed to create chart: can't acquire context from the given item");return}Gt.listen(this,"complete",eg),Gt.listen(this,"progress",TE),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:n},width:i,height:s,_aspectRatio:r}=this;return q(e)?n&&r?r:s?i/s:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return Ht}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():km(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return wm(this.canvas,this.ctx),this}stop(){return Gt.stop(this),this}resize(e,n){Gt.running(this)?this._resizeBeforeDraw={width:e,height:n}:this._resize(e,n)}_resize(e,n){const i=this.options,s=this.canvas,r=i.maintainAspectRatio&&this.aspectRatio,o=this.platform.getMaximumSize(s,e,n,r),a=i.devicePixelRatio||this.platform.getDevicePixelRatio(),l=this.width?"resize":"attach";this.width=o.width,this.height=o.height,this._aspectRatio=this.aspectRatio,km(this,a,!0)&&(this.notifyPlugins("resize",{size:o}),re(i.onResize,[this,o],this),this.attached&&this._doResize(l)&&this.render())}ensureScalesHaveIDs(){const n=this.options.scales||{};ne(n,(i,s)=>{i.id=s})}buildOrUpdateScales(){const e=this.options,n=e.scales,i=this.scales,s=Object.keys(i).reduce((o,a)=>(o[a]=!1,o),{});let r=[];n&&(r=r.concat(Object.keys(n).map(o=>{const a=n[o],l=Ku(o,a),c=l==="r",u=l==="x";return{options:a,dposition:c?"chartArea":u?"bottom":"left",dtype:c?"radialLinear":u?"category":"linear"}}))),ne(r,o=>{const a=o.options,l=a.id,c=Ku(l,a),u=X(a.type,o.dtype);(a.position===void 0||Zm(a.position,c)!==Zm(o.dposition))&&(a.position=o.dposition),s[l]=!0;let d=null;if(l in i&&i[l].type===u)d=i[l];else{const h=Ht.getScale(u);d=new h({id:l,type:u,ctx:this.ctx,chart:this}),i[d.id]=d}d.init(a,e)}),ne(s,(o,a)=>{o||delete i[a]}),ne(i,o=>{Xe.configure(this,o,o.options),Xe.addBox(this,o)})}_updateMetasets(){const e=this._metasets,n=this.data.datasets.length,i=e.length;if(e.sort((s,r)=>s.index-r.index),i>n){for(let s=n;s<i;++s)this._destroyDatasetMeta(s);e.splice(n,i-n)}this._sortedMetasets=e.slice(0).sort(Jm("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:n}}=this;e.length>n.length&&delete this._stacks,e.forEach((i,s)=>{n.filter(r=>r===i._dataset).length===0&&this._destroyDatasetMeta(s)})}buildOrUpdateControllers(){const e=[],n=this.data.datasets;let i,s;for(this._removeUnreferencedMetasets(),i=0,s=n.length;i<s;i++){const r=n[i];let o=this.getDatasetMeta(i);const a=r.type||this.config.type;if(o.type&&o.type!==a&&(this._destroyDatasetMeta(i),o=this.getDatasetMeta(i)),o.type=a,o.indexAxis=r.indexAxis||Yu(a,this.options),o.order=r.order||0,o.index=i,o.label=""+r.label,o.visible=this.isDatasetVisible(i),o.controller)o.controller.updateIndex(i),o.controller.linkScales();else{const l=Ht.getController(a),{datasetElementType:c,dataElementType:u}=ge.datasets[a];Object.assign(l,{dataElementType:Ht.getElement(u),datasetElementType:c&&Ht.getElement(c)}),o.controller=new l(this,i),e.push(o.controller)}}return this._updateMetasets(),e}_resetElements(){ne(this.data.datasets,(e,n)=>{this.getDatasetMeta(n).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const n=this.config;n.update();const i=this._options=n.createResolver(n.chartOptionScopes(),this.getContext()),s=this._animationsDisabled=!i.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const r=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let o=0;for(let c=0,u=this.data.datasets.length;c<u;c++){const{controller:d}=this.getDatasetMeta(c),h=!s&&r.indexOf(d)===-1;d.buildOrUpdateElements(h),o=Math.max(+d.getMaxOverflow(),o)}o=this._minPadding=i.layout.autoPadding?o:0,this._updateLayout(o),s||ne(r,c=>{c.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(Jm("z","_idx"));const{_active:a,_lastEvent:l}=this;l?this._eventHandler(l,!0):a.length&&this._updateHoverStyles(a,a,!0),this.render()}_updateScales(){ne(this.scales,e=>{Xe.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,n=new Set(Object.keys(this._listeners)),i=new Set(e.events);(!hm(n,i)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,n=this._getUniformDataChanges()||[];for(const{method:i,start:s,count:r}of n){const o=i==="_removeElements"?-r:r;EE(e,s,o)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const n=this.data.datasets.length,i=r=>new Set(e.filter(o=>o[0]===r).map((o,a)=>a+","+o.splice(1).join(","))),s=i(0);for(let r=1;r<n;r++)if(!hm(s,i(r)))return;return Array.from(s).map(r=>r.split(",")).map(r=>({method:r[1],start:+r[2],count:+r[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;Xe.update(this,this.width,this.height,e);const n=this.chartArea,i=n.width<=0||n.height<=0;this._layers=[],ne(this.boxes,s=>{i&&s.position==="chartArea"||(s.configure&&s.configure(),this._layers.push(...s._layers()))},this),this._layers.forEach((s,r)=>{s._idx=r}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let n=0,i=this.data.datasets.length;n<i;++n)this.getDatasetMeta(n).controller.configure();for(let n=0,i=this.data.datasets.length;n<i;++n)this._updateDataset(n,Xn(e)?e({datasetIndex:n}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,n){const i=this.getDatasetMeta(e),s={meta:i,index:e,mode:n,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",s)!==!1&&(i.controller._update(n),s.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",s))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(Gt.has(this)?this.attached&&!Gt.running(this)&&Gt.start(this):(this.draw(),eg({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:i,height:s}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(i,s)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const n=this._layers;for(e=0;e<n.length&&n[e].z<=0;++e)n[e].draw(this.chartArea);for(this._drawDatasets();e<n.length;++e)n[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const n=this._sortedMetasets,i=[];let s,r;for(s=0,r=n.length;s<r;++s){const o=n[s];(!e||o.visible)&&i.push(o)}return i}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let n=e.length-1;n>=0;--n)this._drawDataset(e[n]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const n=this.ctx,i=e._clip,s=!i.disabled,r=DE(e,this.chartArea),o={meta:e,index:e.index,cancelable:!0};this.notifyPlugins("beforeDatasetDraw",o)!==!1&&(s&&Tl(n,{left:i.left===!1?0:r.left-i.left,right:i.right===!1?this.width:r.right+i.right,top:i.top===!1?0:r.top-i.top,bottom:i.bottom===!1?this.height:r.bottom+i.bottom}),e.controller.draw(),s&&El(n),o.cancelable=!1,this.notifyPlugins("afterDatasetDraw",o))}isPointInArea(e){return an(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,n,i,s){const r=M2.modes[n];return typeof r=="function"?r(this,e,i,s):[]}getDatasetMeta(e){const n=this.data.datasets[e],i=this._metasets;let s=i.filter(r=>r&&r._dataset===n).pop();return s||(s={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:n&&n.order||0,index:e,_dataset:n,_parsed:[],_sorted:!1},i.push(s)),s}getContext(){return this.$context||(this.$context=Jn(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const n=this.data.datasets[e];if(!n)return!1;const i=this.getDatasetMeta(e);return typeof i.hidden=="boolean"?!i.hidden:!n.hidden}setDatasetVisibility(e,n){const i=this.getDatasetMeta(e);i.hidden=!n}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,n,i){const s=i?"show":"hide",r=this.getDatasetMeta(e),o=r.controller._resolveAnimations(void 0,s);zr(n)?(r.data[n].hidden=!i,this.update()):(this.setDatasetVisibility(e,i),o.update(r,{visible:i}),this.update(a=>a.datasetIndex===e?s:void 0))}hide(e,n){this._updateVisibility(e,n,!1)}show(e,n){this._updateVisibility(e,n,!0)}_destroyDatasetMeta(e){const n=this._metasets[e];n&&n.controller&&n.controller._destroy(),delete this._metasets[e]}_stop(){let e,n;for(this.stop(),Gt.remove(this),e=0,n=this.data.datasets.length;e<n;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:n}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),wm(e,n),this.platform.releaseContext(n),this.canvas=null,this.ctx=null),delete la[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,n=this.platform,i=(r,o)=>{n.addEventListener(this,r,o),e[r]=o},s=(r,o,a)=>{r.offsetX=o,r.offsetY=a,this._eventHandler(r)};ne(this.options.events,r=>i(r,s))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,n=this.platform,i=(l,c)=>{n.addEventListener(this,l,c),e[l]=c},s=(l,c)=>{e[l]&&(n.removeEventListener(this,l,c),delete e[l])},r=(l,c)=>{this.canvas&&this.resize(l,c)};let o;const a=()=>{s("attach",a),this.attached=!0,this.resize(),i("resize",r),i("detach",o)};o=()=>{this.attached=!1,s("resize",r),this._stop(),this._resize(0,0),i("attach",a)},n.isAttached(this.canvas)?a():o()}unbindEvents(){ne(this._listeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._listeners={},ne(this._responsiveListeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,n,i){const s=i?"set":"remove";let r,o,a,l;for(n==="dataset"&&(r=this.getDatasetMeta(e[0].datasetIndex),r.controller["_"+s+"DatasetHoverStyle"]()),a=0,l=e.length;a<l;++a){o=e[a];const c=o&&this.getDatasetMeta(o.datasetIndex).controller;c&&c[s+"HoverStyle"](o.element,o.datasetIndex,o.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const n=this._active||[],i=e.map(({datasetIndex:r,index:o})=>{const a=this.getDatasetMeta(r);if(!a)throw new Error("No dataset found at index "+r);return{datasetIndex:r,element:a.data[o],index:o}});!$a(i,n)&&(this._active=i,this._lastEvent=null,this._updateHoverStyles(i,n))}notifyPlugins(e,n,i){return this._plugins.notify(this,e,n,i)}isPluginEnabled(e){return this._plugins._cache.filter(n=>n.plugin.id===e).length===1}_updateHoverStyles(e,n,i){const s=this.options.hover,r=(l,c)=>l.filter(u=>!c.some(d=>u.datasetIndex===d.datasetIndex&&u.index===d.index)),o=r(n,e),a=i?e:r(e,n);o.length&&this.updateHoverStyle(o,s.mode,!1),a.length&&s.mode&&this.updateHoverStyle(a,s.mode,!0)}_eventHandler(e,n){const i={event:e,replay:n,cancelable:!0,inChartArea:this.isPointInArea(e)},s=o=>(o.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",i,s)===!1)return;const r=this._handleEvent(e,n,i.inChartArea);return i.cancelable=!1,this.notifyPlugins("afterEvent",i,s),(r||i.changed)&&this.render(),this}_handleEvent(e,n,i){const{_active:s=[],options:r}=this,o=n,a=this._getActiveElements(e,s,i,o),l=VM(e),c=RE(e,this._lastEvent,i,l);i&&(this._lastEvent=null,re(r.onHover,[e,a,this],this),l&&re(r.onClick,[e,a,this],this));const u=!$a(a,s);return(u||n)&&(this._active=a,this._updateHoverStyles(a,s,n)),this._lastEvent=c,u}_getActiveElements(e,n,i,s){if(e.type==="mouseout")return[];if(!i)return n;const r=this.options.hover;return this.getElementsAtEventForMode(e,r.mode,r,s)}}D(en,"defaults",ge),D(en,"instances",la),D(en,"overrides",Ti),D(en,"registry",Ht),D(en,"version",CE),D(en,"getChart",tg);function ng(){return ne(en.instances,t=>t._plugins.invalidate())}function AE(t,e,n){const{startAngle:i,pixelMargin:s,x:r,y:o,outerRadius:a,innerRadius:l}=e;let c=s/a;t.beginPath(),t.arc(r,o,a,i-c,n+c),l>s?(c=s/l,t.arc(r,o,l,n+c,i-c,!0)):t.arc(r,o,s,n+Te,i-Te),t.closePath(),t.clip()}function LE(t){return Th(t,["outerStart","outerEnd","innerStart","innerEnd"])}function OE(t,e,n,i){const s=LE(t.options.borderRadius),r=(n-e)/2,o=Math.min(r,i*e/2),a=l=>{const c=(n-Math.min(r,l))*i/2;return Ve(l,0,Math.min(r,c))};return{outerStart:a(s.outerStart),outerEnd:a(s.outerEnd),innerStart:Ve(s.innerStart,0,o),innerEnd:Ve(s.innerEnd,0,o)}}function Vi(t,e,n,i){return{x:n+t*Math.cos(e),y:i+t*Math.sin(e)}}function Qa(t,e,n,i,s,r){const{x:o,y:a,startAngle:l,pixelMargin:c,innerRadius:u}=e,d=Math.max(e.outerRadius+i+n-c,0),h=u>0?u+i+n+c:0;let f=0;const p=s-l;if(i){const z=u>0?u-i:0,V=d>0?d-i:0,K=(z+V)/2,E=K!==0?p*K/(K+i):p;f=(p-E)/2}const g=Math.max(.001,p*d-n/pe)/d,x=(p-g)/2,y=l+x+f,m=s-x-f,{outerStart:v,outerEnd:w,innerStart:S,innerEnd:C}=OE(e,h,d,m-y),P=d-v,k=d-w,M=y+v/P,T=m-w/k,A=h+S,j=h+C,Y=y+S/A,U=m-C/j;if(t.beginPath(),r){const z=(M+T)/2;if(t.arc(o,a,d,M,z),t.arc(o,a,d,z,T),w>0){const L=Vi(k,T,o,a);t.arc(L.x,L.y,w,T,m+Te)}const V=Vi(j,m,o,a);if(t.lineTo(V.x,V.y),C>0){const L=Vi(j,U,o,a);t.arc(L.x,L.y,C,m+Te,U+Math.PI)}const K=(m-C/h+(y+S/h))/2;if(t.arc(o,a,h,m-C/h,K,!0),t.arc(o,a,h,K,y+S/h,!0),S>0){const L=Vi(A,Y,o,a);t.arc(L.x,L.y,S,Y+Math.PI,y-Te)}const E=Vi(P,y,o,a);if(t.lineTo(E.x,E.y),v>0){const L=Vi(P,M,o,a);t.arc(L.x,L.y,v,y-Te,M)}}else{t.moveTo(o,a);const z=Math.cos(M)*d+o,V=Math.sin(M)*d+a;t.lineTo(z,V);const K=Math.cos(T)*d+o,E=Math.sin(T)*d+a;t.lineTo(K,E)}t.closePath()}function IE(t,e,n,i,s){const{fullCircles:r,startAngle:o,circumference:a}=e;let l=e.endAngle;if(r){Qa(t,e,n,i,l,s);for(let c=0;c<r;++c)t.fill();isNaN(a)||(l=o+(a%fe||fe))}return Qa(t,e,n,i,l,s),t.fill(),l}function NE(t,e,n,i,s){const{fullCircles:r,startAngle:o,circumference:a,options:l}=e,{borderWidth:c,borderJoinStyle:u,borderDash:d,borderDashOffset:h}=l,f=l.borderAlign==="inner";if(!c)return;t.setLineDash(d||[]),t.lineDashOffset=h,f?(t.lineWidth=c*2,t.lineJoin=u||"round"):(t.lineWidth=c,t.lineJoin=u||"bevel");let p=e.endAngle;if(r){Qa(t,e,n,i,p,s);for(let g=0;g<r;++g)t.stroke();isNaN(a)||(p=o+(a%fe||fe))}f&&AE(t,e,p),r||(Qa(t,e,n,i,p,s),t.stroke())}class Gs extends yn{constructor(n){super();D(this,"circumference");D(this,"endAngle");D(this,"fullCircles");D(this,"innerRadius");D(this,"outerRadius");D(this,"pixelMargin");D(this,"startAngle");this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,n&&Object.assign(this,n)}inRange(n,i,s){const r=this.getProps(["x","y"],s),{angle:o,distance:a}=Cx(r,{x:n,y:i}),{startAngle:l,endAngle:c,innerRadius:u,outerRadius:d,circumference:h}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],s),f=(this.options.spacing+this.options.borderWidth)/2,p=X(h,c-l),g=Br(o,l,c)&&l!==c,x=p>=fe||g,y=rn(a,u+f,d+f);return x&&y}getCenterPoint(n){const{x:i,y:s,startAngle:r,endAngle:o,innerRadius:a,outerRadius:l}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],n),{offset:c,spacing:u}=this.options,d=(r+o)/2,h=(a+l+u+c)/2;return{x:i+Math.cos(d)*h,y:s+Math.sin(d)*h}}tooltipPosition(n){return this.getCenterPoint(n)}draw(n){const{options:i,circumference:s}=this,r=(i.offset||0)/4,o=(i.spacing||0)/2,a=i.circular;if(this.pixelMargin=i.borderAlign==="inner"?.33:0,this.fullCircles=s>fe?Math.floor(s/fe):0,s===0||this.innerRadius<0||this.outerRadius<0)return;n.save();const l=(this.startAngle+this.endAngle)/2;n.translate(Math.cos(l)*r,Math.sin(l)*r);const c=1-Math.sin(Math.min(pe,s||0)),u=r*c;n.fillStyle=i.backgroundColor,n.strokeStyle=i.borderColor,IE(n,this,u,o,a),NE(n,this,u,o,a),n.restore()}}D(Gs,"id","arc"),D(Gs,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0}),D(Gs,"defaultRoutes",{backgroundColor:"backgroundColor"}),D(Gs,"descriptors",{_scriptable:!0,_indexable:n=>n!=="borderDash"});function r1(t,e,n=e){t.lineCap=X(n.borderCapStyle,e.borderCapStyle),t.setLineDash(X(n.borderDash,e.borderDash)),t.lineDashOffset=X(n.borderDashOffset,e.borderDashOffset),t.lineJoin=X(n.borderJoinStyle,e.borderJoinStyle),t.lineWidth=X(n.borderWidth,e.borderWidth),t.strokeStyle=X(n.borderColor,e.borderColor)}function jE(t,e,n){t.lineTo(n.x,n.y)}function VE(t){return t.stepped?aT:t.tension||t.cubicInterpolationMode==="monotone"?lT:jE}function o1(t,e,n={}){const i=t.length,{start:s=0,end:r=i-1}=n,{start:o,end:a}=e,l=Math.max(s,o),c=Math.min(r,a),u=s<o&&r<o||s>a&&r>a;return{count:i,start:l,loop:e.loop,ilen:c<l&&!u?i+c-l:c-l}}function FE(t,e,n,i){const{points:s,options:r}=e,{count:o,start:a,loop:l,ilen:c}=o1(s,n,i),u=VE(r);let{move:d=!0,reverse:h}=i||{},f,p,g;for(f=0;f<=c;++f)p=s[(a+(h?c-f:f))%o],!p.skip&&(d?(t.moveTo(p.x,p.y),d=!1):u(t,g,p,h,r.stepped),g=p);return l&&(p=s[(a+(h?c:0))%o],u(t,g,p,h,r.stepped)),!!l}function zE(t,e,n,i){const s=e.points,{count:r,start:o,ilen:a}=o1(s,n,i),{move:l=!0,reverse:c}=i||{};let u=0,d=0,h,f,p,g,x,y;const m=w=>(o+(c?a-w:w))%r,v=()=>{g!==x&&(t.lineTo(u,x),t.lineTo(u,g),t.lineTo(u,y))};for(l&&(f=s[m(0)],t.moveTo(f.x,f.y)),h=0;h<=a;++h){if(f=s[m(h)],f.skip)continue;const w=f.x,S=f.y,C=w|0;C===p?(S<g?g=S:S>x&&(x=S),u=(d*u+w)/++d):(v(),t.lineTo(w,S),p=C,d=0,g=x=S),y=S}v()}function Xu(t){const e=t.options,n=e.borderDash&&e.borderDash.length;return!t._decimated&&!t._loop&&!e.tension&&e.cubicInterpolationMode!=="monotone"&&!e.stepped&&!n?zE:FE}function BE(t){return t.stepped?zT:t.tension||t.cubicInterpolationMode==="monotone"?BT:hi}function HE(t,e,n,i){let s=e._path;s||(s=e._path=new Path2D,e.path(s,n,i)&&s.closePath()),r1(t,e.options),t.stroke(s)}function WE(t,e,n,i){const{segments:s,options:r}=e,o=Xu(e);for(const a of s)r1(t,r,a.style),t.beginPath(),o(t,e,a,{start:n,end:n+i-1})&&t.closePath(),t.stroke()}const $E=typeof Path2D=="function";function UE(t,e,n,i){$E&&!e.options.segment?HE(t,e,n,i):WE(t,e,n,i)}class Rn extends yn{constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,n){const i=this.options;if((i.tension||i.cubicInterpolationMode==="monotone")&&!i.stepped&&!this._pointsUpdated){const s=i.spanGaps?this._loop:this._fullLoop;AT(this._points,i,e,s,n),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=KT(this,this.options.segment))}first(){const e=this.segments,n=this.points;return e.length&&n[e[0].start]}last(){const e=this.segments,n=this.points,i=e.length;return i&&n[e[i-1].end]}interpolate(e,n){const i=this.options,s=e[n],r=this.points,o=Yx(this,{property:n,start:s,end:s});if(!o.length)return;const a=[],l=BE(i);let c,u;for(c=0,u=o.length;c<u;++c){const{start:d,end:h}=o[c],f=r[d],p=r[h];if(f===p){a.push(f);continue}const g=Math.abs((s-f[n])/(p[n]-f[n])),x=l(f,p,g,i.stepped);x[n]=e[n],a.push(x)}return a.length===1?a[0]:a}pathSegment(e,n,i){return Xu(this)(e,this,n,i)}path(e,n,i){const s=this.segments,r=Xu(this);let o=this._loop;n=n||0,i=i||this.points.length-n;for(const a of s)o&=r(e,this,a,{start:n,end:n+i-1});return!!o}draw(e,n,i,s){const r=this.options||{};(this.points||[]).length&&r.borderWidth&&(e.save(),UE(e,this,i,s),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}D(Rn,"id","line"),D(Rn,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),D(Rn,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),D(Rn,"descriptors",{_scriptable:!0,_indexable:e=>e!=="borderDash"&&e!=="fill"});function ig(t,e,n,i){const s=t.options,{[n]:r}=t.getProps([n],i);return Math.abs(e-r)<s.radius+s.hitRadius}class ca extends yn{constructor(n){super();D(this,"parsed");D(this,"skip");D(this,"stop");this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,n&&Object.assign(this,n)}inRange(n,i,s){const r=this.options,{x:o,y:a}=this.getProps(["x","y"],s);return Math.pow(n-o,2)+Math.pow(i-a,2)<Math.pow(r.hitRadius+r.radius,2)}inXRange(n,i){return ig(this,n,"x",i)}inYRange(n,i){return ig(this,n,"y",i)}getCenterPoint(n){const{x:i,y:s}=this.getProps(["x","y"],n);return{x:i,y:s}}size(n){n=n||this.options||{};let i=n.radius||0;i=Math.max(i,i&&n.hoverRadius||0);const s=i&&n.borderWidth||0;return(i+s)*2}draw(n,i){const s=this.options;this.skip||s.radius<.1||!an(this,i,this.size(s)/2)||(n.strokeStyle=s.borderColor,n.lineWidth=s.borderWidth,n.fillStyle=s.backgroundColor,$u(n,s,this.x,this.y))}getRange(){const n=this.options||{};return n.radius+n.hitRadius}}D(ca,"id","point"),D(ca,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),D(ca,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function a1(t,e){const{x:n,y:i,base:s,width:r,height:o}=t.getProps(["x","y","base","width","height"],e);let a,l,c,u,d;return t.horizontal?(d=o/2,a=Math.min(n,s),l=Math.max(n,s),c=i-d,u=i+d):(d=r/2,a=n-d,l=n+d,c=Math.min(i,s),u=Math.max(i,s)),{left:a,top:c,right:l,bottom:u}}function Dn(t,e,n,i){return t?0:Ve(e,n,i)}function YE(t,e,n){const i=t.options.borderWidth,s=t.borderSkipped,r=Ix(i);return{t:Dn(s.top,r.top,0,n),r:Dn(s.right,r.right,0,e),b:Dn(s.bottom,r.bottom,0,n),l:Dn(s.left,r.left,0,e)}}function KE(t,e,n){const{enableBorderRadius:i}=t.getProps(["enableBorderRadius"]),s=t.options.borderRadius,r=wi(s),o=Math.min(e,n),a=t.borderSkipped,l=i||J(s);return{topLeft:Dn(!l||a.top||a.left,r.topLeft,0,o),topRight:Dn(!l||a.top||a.right,r.topRight,0,o),bottomLeft:Dn(!l||a.bottom||a.left,r.bottomLeft,0,o),bottomRight:Dn(!l||a.bottom||a.right,r.bottomRight,0,o)}}function XE(t){const e=a1(t),n=e.right-e.left,i=e.bottom-e.top,s=YE(t,n/2,i/2),r=KE(t,n/2,i/2);return{outer:{x:e.left,y:e.top,w:n,h:i,radius:r},inner:{x:e.left+s.l,y:e.top+s.t,w:n-s.l-s.r,h:i-s.t-s.b,radius:{topLeft:Math.max(0,r.topLeft-Math.max(s.t,s.l)),topRight:Math.max(0,r.topRight-Math.max(s.t,s.r)),bottomLeft:Math.max(0,r.bottomLeft-Math.max(s.b,s.l)),bottomRight:Math.max(0,r.bottomRight-Math.max(s.b,s.r))}}}}function Rc(t,e,n,i){const s=e===null,r=n===null,a=t&&!(s&&r)&&a1(t,i);return a&&(s||rn(e,a.left,a.right))&&(r||rn(n,a.top,a.bottom))}function GE(t){return t.topLeft||t.topRight||t.bottomLeft||t.bottomRight}function QE(t,e){t.rect(e.x,e.y,e.w,e.h)}function Dc(t,e,n={}){const i=t.x!==n.x?-e:0,s=t.y!==n.y?-e:0,r=(t.x+t.w!==n.x+n.w?e:0)-i,o=(t.y+t.h!==n.y+n.h?e:0)-s;return{x:t.x+i,y:t.y+s,w:t.w+r,h:t.h+o,radius:t.radius}}class ua extends yn{constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){const{inflateAmount:n,options:{borderColor:i,backgroundColor:s}}=this,{inner:r,outer:o}=XE(this),a=GE(o.radius)?Hr:QE;e.save(),(o.w!==r.w||o.h!==r.h)&&(e.beginPath(),a(e,Dc(o,n,r)),e.clip(),a(e,Dc(r,-n,o)),e.fillStyle=i,e.fill("evenodd")),e.beginPath(),a(e,Dc(r,n)),e.fillStyle=s,e.fill(),e.restore()}inRange(e,n,i){return Rc(this,e,n,i)}inXRange(e,n){return Rc(this,e,null,n)}inYRange(e,n){return Rc(this,null,e,n)}getCenterPoint(e){const{x:n,y:i,base:s,horizontal:r}=this.getProps(["x","y","base","horizontal"],e);return{x:r?(n+s)/2:n,y:r?i:(i+s)/2}}getRange(e){return e==="x"?this.width/2:this.height/2}}D(ua,"id","bar"),D(ua,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),D(ua,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});var qE=Object.freeze({__proto__:null,ArcElement:Gs,BarElement:ua,LineElement:Rn,PointElement:ca});const Gu=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],sg=Gu.map(t=>t.replace("rgb(","rgba(").replace(")",", 0.5)"));function l1(t){return Gu[t%Gu.length]}function c1(t){return sg[t%sg.length]}function ZE(t,e){return t.borderColor=l1(e),t.backgroundColor=c1(e),++e}function JE(t,e){return t.backgroundColor=t.data.map(()=>l1(e++)),e}function eR(t,e){return t.backgroundColor=t.data.map(()=>c1(e++)),e}function tR(t){let e=0;return(n,i)=>{const s=t.getDatasetMeta(i).controller;s instanceof yi?e=JE(n,e):s instanceof mr?e=eR(n,e):s&&(e=ZE(n,e))}}function rg(t){let e;for(e in t)if(t[e].borderColor||t[e].backgroundColor)return!0;return!1}function nR(t){return t&&(t.borderColor||t.backgroundColor)}function iR(){return ge.borderColor!=="rgba(0,0,0,0.1)"||ge.backgroundColor!=="rgba(0,0,0,0.1)"}var sR={id:"colors",defaults:{enabled:!0,forceOverride:!1},beforeLayout(t,e,n){if(!n.enabled)return;const{data:{datasets:i},options:s}=t.config,{elements:r}=s,o=rg(i)||nR(s)||r&&rg(r)||iR();if(!n.forceOverride&&o)return;const a=tR(t);i.forEach(a)}};function rR(t,e,n,i,s){const r=s.samples||i;if(r>=n)return t.slice(e,e+n);const o=[],a=(n-2)/(r-2);let l=0;const c=e+n-1;let u=e,d,h,f,p,g;for(o[l++]=t[u],d=0;d<r-2;d++){let x=0,y=0,m;const v=Math.floor((d+1)*a)+1+e,w=Math.min(Math.floor((d+2)*a)+1,n)+e,S=w-v;for(m=v;m<w;m++)x+=t[m].x,y+=t[m].y;x/=S,y/=S;const C=Math.floor(d*a)+1+e,P=Math.min(Math.floor((d+1)*a)+1,n)+e,{x:k,y:M}=t[u];for(f=p=-1,m=C;m<P;m++)p=.5*Math.abs((k-x)*(t[m].y-M)-(k-t[m].x)*(y-M)),p>f&&(f=p,h=t[m],g=m);o[l++]=h,u=g}return o[l++]=t[c],o}function oR(t,e,n,i){let s=0,r=0,o,a,l,c,u,d,h,f,p,g;const x=[],y=e+n-1,m=t[e].x,w=t[y].x-m;for(o=e;o<e+n;++o){a=t[o],l=(a.x-m)/w*i,c=a.y;const S=l|0;if(S===u)c<p?(p=c,d=o):c>g&&(g=c,h=o),s=(r*s+a.x)/++r;else{const C=o-1;if(!q(d)&&!q(h)){const P=Math.min(d,h),k=Math.max(d,h);P!==f&&P!==C&&x.push({...t[P],x:s}),k!==f&&k!==C&&x.push({...t[k],x:s})}o>0&&C!==f&&x.push(t[C]),x.push(a),u=S,r=0,p=g=c,d=h=f=o}}return x}function u1(t){if(t._decimated){const e=t._data;delete t._decimated,delete t._data,Object.defineProperty(t,"data",{configurable:!0,enumerable:!0,writable:!0,value:e})}}function og(t){t.data.datasets.forEach(e=>{u1(e)})}function aR(t,e){const n=e.length;let i=0,s;const{iScale:r}=t,{min:o,max:a,minDefined:l,maxDefined:c}=r.getUserBounds();return l&&(i=Ve(on(e,r.axis,o).lo,0,n-1)),c?s=Ve(on(e,r.axis,a).hi+1,i,n)-i:s=n-i,{start:i,count:s}}var lR={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(t,e,n)=>{if(!n.enabled){og(t);return}const i=t.width;t.data.datasets.forEach((s,r)=>{const{_data:o,indexAxis:a}=s,l=t.getDatasetMeta(r),c=o||s.data;if(Ks([a,t.options.indexAxis])==="y"||!l.controller.supportsDecimation)return;const u=t.scales[l.xAxisID];if(u.type!=="linear"&&u.type!=="time"||t.options.parsing)return;let{start:d,count:h}=aR(l,c);const f=n.threshold||4*i;if(h<=f){u1(s);return}q(o)&&(s._data=c,delete s.data,Object.defineProperty(s,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(g){this._data=g}}));let p;switch(n.algorithm){case"lttb":p=rR(c,d,h,i,n);break;case"min-max":p=oR(c,d,h,i);break;default:throw new Error(`Unsupported decimation algorithm '${n.algorithm}'`)}s._decimated=p})},destroy(t){og(t)}};function cR(t,e,n){const i=t.segments,s=t.points,r=e.points,o=[];for(const a of i){let{start:l,end:c}=a;c=Ih(l,c,s);const u=Qu(n,s[l],s[c],a.loop);if(!e.segments){o.push({source:a,target:u,start:s[l],end:s[c]});continue}const d=Yx(e,u);for(const h of d){const f=Qu(n,r[h.start],r[h.end],h.loop),p=Ux(a,s,f);for(const g of p)o.push({source:g,target:h,start:{[n]:ag(u,f,"start",Math.max)},end:{[n]:ag(u,f,"end",Math.min)}})}}return o}function Qu(t,e,n,i){if(i)return;let s=e[t],r=n[t];return t==="angle"&&(s=ft(s),r=ft(r)),{property:t,start:s,end:r}}function uR(t,e){const{x:n=null,y:i=null}=t||{},s=e.points,r=[];return e.segments.forEach(({start:o,end:a})=>{a=Ih(o,a,s);const l=s[o],c=s[a];i!==null?(r.push({x:l.x,y:i}),r.push({x:c.x,y:i})):n!==null&&(r.push({x:n,y:l.y}),r.push({x:n,y:c.y}))}),r}function Ih(t,e,n){for(;e>t;e--){const i=n[e];if(!isNaN(i.x)&&!isNaN(i.y))break}return e}function ag(t,e,n,i){return t&&e?i(t[n],e[n]):t?t[n]:e?e[n]:0}function d1(t,e){let n=[],i=!1;return de(t)?(i=!0,n=t):n=uR(t,e),n.length?new Rn({points:n,options:{tension:0},_loop:i,_fullLoop:i}):null}function lg(t){return t&&t.fill!==!1}function dR(t,e,n){let s=t[e].fill;const r=[e];let o;if(!n)return s;for(;s!==!1&&r.indexOf(s)===-1;){if(!Pe(s))return s;if(o=t[s],!o)return!1;if(o.visible)return s;r.push(s),s=o.fill}return!1}function hR(t,e,n){const i=gR(t);if(J(i))return isNaN(i.value)?!1:i;let s=parseFloat(i);return Pe(s)&&Math.floor(s)===s?fR(i[0],e,s,n):["origin","start","end","stack","shape"].indexOf(i)>=0&&i}function fR(t,e,n,i){return(t==="-"||t==="+")&&(n=e+n),n===e||n<0||n>=i?!1:n}function pR(t,e){let n=null;return t==="start"?n=e.bottom:t==="end"?n=e.top:J(t)?n=e.getPixelForValue(t.value):e.getBasePixel&&(n=e.getBasePixel()),n}function mR(t,e,n){let i;return t==="start"?i=n:t==="end"?i=e.options.reverse?e.min:e.max:J(t)?i=t.value:i=e.getBaseValue(),i}function gR(t){const e=t.options,n=e.fill;let i=X(n&&n.target,n);return i===void 0&&(i=!!e.backgroundColor),i===!1||i===null?!1:i===!0?"origin":i}function yR(t){const{scale:e,index:n,line:i}=t,s=[],r=i.segments,o=i.points,a=vR(e,n);a.push(d1({x:null,y:e.bottom},i));for(let l=0;l<r.length;l++){const c=r[l];for(let u=c.start;u<=c.end;u++)xR(s,o[u],a)}return new Rn({points:s,options:{}})}function vR(t,e){const n=[],i=t.getMatchingVisibleMetas("line");for(let s=0;s<i.length;s++){const r=i[s];if(r.index===e)break;r.hidden||n.unshift(r.dataset)}return n}function xR(t,e,n){const i=[];for(let s=0;s<n.length;s++){const r=n[s],{first:o,last:a,point:l}=bR(r,e,"x");if(!(!l||o&&a)){if(o)i.unshift(l);else if(t.push(l),!a)break}}t.push(...i)}function bR(t,e,n){const i=t.interpolate(e,n);if(!i)return{};const s=i[n],r=t.segments,o=t.points;let a=!1,l=!1;for(let c=0;c<r.length;c++){const u=r[c],d=o[u.start][n],h=o[u.end][n];if(rn(s,d,h)){a=s===d,l=s===h;break}}return{first:a,last:l,point:i}}class h1{constructor(e){this.x=e.x,this.y=e.y,this.radius=e.radius}pathSegment(e,n,i){const{x:s,y:r,radius:o}=this;return n=n||{start:0,end:fe},e.arc(s,r,o,n.end,n.start,!0),!i.bounds}interpolate(e){const{x:n,y:i,radius:s}=this,r=e.angle;return{x:n+Math.cos(r)*s,y:i+Math.sin(r)*s,angle:r}}}function wR(t){const{chart:e,fill:n,line:i}=t;if(Pe(n))return SR(e,n);if(n==="stack")return yR(t);if(n==="shape")return!0;const s=_R(t);return s instanceof h1?s:d1(s,i)}function SR(t,e){const n=t.getDatasetMeta(e);return n&&t.isDatasetVisible(e)?n.dataset:null}function _R(t){return(t.scale||{}).getPointPositionForValue?PR(t):kR(t)}function kR(t){const{scale:e={},fill:n}=t,i=pR(n,e);if(Pe(i)){const s=e.isHorizontal();return{x:s?i:null,y:s?null:i}}return null}function PR(t){const{scale:e,fill:n}=t,i=e.options,s=e.getLabels().length,r=i.reverse?e.max:e.min,o=mR(n,e,r),a=[];if(i.grid.circular){const l=e.getPointPositionForValue(0,r);return new h1({x:l.x,y:l.y,radius:e.getDistanceFromCenterForValue(o)})}for(let l=0;l<s;++l)a.push(e.getPointPositionForValue(l,o));return a}function Ac(t,e,n){const i=wR(e),{line:s,scale:r,axis:o}=e,a=s.options,l=a.fill,c=a.backgroundColor,{above:u=c,below:d=c}=l||{};i&&s.points.length&&(Tl(t,n),CR(t,{line:s,target:i,above:u,below:d,area:n,scale:r,axis:o}),El(t))}function CR(t,e){const{line:n,target:i,above:s,below:r,area:o,scale:a}=e,l=n._loop?"angle":e.axis;t.save(),l==="x"&&r!==s&&(cg(t,i,o.top),ug(t,{line:n,target:i,color:s,scale:a,property:l}),t.restore(),t.save(),cg(t,i,o.bottom)),ug(t,{line:n,target:i,color:r,scale:a,property:l}),t.restore()}function cg(t,e,n){const{segments:i,points:s}=e;let r=!0,o=!1;t.beginPath();for(const a of i){const{start:l,end:c}=a,u=s[l],d=s[Ih(l,c,s)];r?(t.moveTo(u.x,u.y),r=!1):(t.lineTo(u.x,n),t.lineTo(u.x,u.y)),o=!!e.pathSegment(t,a,{move:o}),o?t.closePath():t.lineTo(d.x,n)}t.lineTo(e.first().x,n),t.closePath(),t.clip()}function ug(t,e){const{line:n,target:i,property:s,color:r,scale:o}=e,a=cR(n,i,s);for(const{source:l,target:c,start:u,end:d}of a){const{style:{backgroundColor:h=r}={}}=l,f=i!==!0;t.save(),t.fillStyle=h,MR(t,o,f&&Qu(s,u,d)),t.beginPath();const p=!!n.pathSegment(t,l);let g;if(f){p?t.closePath():dg(t,i,d,s);const x=!!i.pathSegment(t,c,{move:p,reverse:!0});g=p&&x,g||dg(t,i,u,s)}t.closePath(),t.fill(g?"evenodd":"nonzero"),t.restore()}}function MR(t,e,n){const{top:i,bottom:s}=e.chart.chartArea,{property:r,start:o,end:a}=n||{};r==="x"&&(t.beginPath(),t.rect(o,i,a-o,s-i),t.clip())}function dg(t,e,n,i){const s=e.interpolate(n,i);s&&t.lineTo(s.x,s.y)}var TR={id:"filler",afterDatasetsUpdate(t,e,n){const i=(t.data.datasets||[]).length,s=[];let r,o,a,l;for(o=0;o<i;++o)r=t.getDatasetMeta(o),a=r.dataset,l=null,a&&a.options&&a instanceof Rn&&(l={visible:t.isDatasetVisible(o),index:o,fill:hR(a,o,i),chart:t,axis:r.controller.options.indexAxis,scale:r.vScale,line:a}),r.$filler=l,s.push(l);for(o=0;o<i;++o)l=s[o],!(!l||l.fill===!1)&&(l.fill=dR(s,o,n.propagate))},beforeDraw(t,e,n){const i=n.drawTime==="beforeDraw",s=t.getSortedVisibleDatasetMetas(),r=t.chartArea;for(let o=s.length-1;o>=0;--o){const a=s[o].$filler;a&&(a.line.updateControlPoints(r,a.axis),i&&a.fill&&Ac(t.ctx,a,r))}},beforeDatasetsDraw(t,e,n){if(n.drawTime!=="beforeDatasetsDraw")return;const i=t.getSortedVisibleDatasetMetas();for(let s=i.length-1;s>=0;--s){const r=i[s].$filler;lg(r)&&Ac(t.ctx,r,t.chartArea)}},beforeDatasetDraw(t,e,n){const i=e.meta.$filler;!lg(i)||n.drawTime!=="beforeDatasetDraw"||Ac(t.ctx,i,t.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const hg=(t,e)=>{let{boxHeight:n=e,boxWidth:i=e}=t;return t.usePointStyle&&(n=Math.min(n,e),i=t.pointStyleWidth||Math.min(i,e)),{boxWidth:i,boxHeight:n,itemHeight:Math.max(e,n)}},ER=(t,e)=>t!==null&&e!==null&&t.datasetIndex===e.datasetIndex&&t.index===e.index;class fg extends yn{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n,i){this.maxWidth=e,this.maxHeight=n,this._margins=i,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let n=re(e.generateLabels,[this.chart],this)||[];e.filter&&(n=n.filter(i=>e.filter(i,this.chart.data))),e.sort&&(n=n.sort((i,s)=>e.sort(i,s,this.chart.data))),this.options.reverse&&n.reverse(),this.legendItems=n}fit(){const{options:e,ctx:n}=this;if(!e.display){this.width=this.height=0;return}const i=e.labels,s=Ie(i.font),r=s.size,o=this._computeTitleHeight(),{boxWidth:a,itemHeight:l}=hg(i,r);let c,u;n.font=s.string,this.isHorizontal()?(c=this.maxWidth,u=this._fitRows(o,r,a,l)+10):(u=this.maxHeight,c=this._fitCols(o,s,a,l)+10),this.width=Math.min(c,e.maxWidth||this.maxWidth),this.height=Math.min(u,e.maxHeight||this.maxHeight)}_fitRows(e,n,i,s){const{ctx:r,maxWidth:o,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],c=this.lineWidths=[0],u=s+a;let d=e;r.textAlign="left",r.textBaseline="middle";let h=-1,f=-u;return this.legendItems.forEach((p,g)=>{const x=i+n/2+r.measureText(p.text).width;(g===0||c[c.length-1]+x+2*a>o)&&(d+=u,c[c.length-(g>0?0:1)]=0,f+=u,h++),l[g]={left:0,top:f,row:h,width:x,height:s},c[c.length-1]+=x+a}),d}_fitCols(e,n,i,s){const{ctx:r,maxHeight:o,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],c=this.columnSizes=[],u=o-e;let d=a,h=0,f=0,p=0,g=0;return this.legendItems.forEach((x,y)=>{const{itemWidth:m,itemHeight:v}=RR(i,n,r,x,s);y>0&&f+v+2*a>u&&(d+=h+a,c.push({width:h,height:f}),p+=h+a,g++,h=f=0),l[y]={left:p,top:f,col:g,width:m,height:v},h=Math.max(h,m),f+=v+a}),d+=h,c.push({width:h,height:f}),d}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:n,options:{align:i,labels:{padding:s},rtl:r}}=this,o=as(r,this.left,this.width);if(this.isHorizontal()){let a=0,l=Ye(i,this.left+s,this.right-this.lineWidths[a]);for(const c of n)a!==c.row&&(a=c.row,l=Ye(i,this.left+s,this.right-this.lineWidths[a])),c.top+=this.top+e+s,c.left=o.leftForLtr(o.x(l),c.width),l+=c.width+s}else{let a=0,l=Ye(i,this.top+e+s,this.bottom-this.columnSizes[a].height);for(const c of n)c.col!==a&&(a=c.col,l=Ye(i,this.top+e+s,this.bottom-this.columnSizes[a].height)),c.top=l,c.left+=this.left+s,c.left=o.leftForLtr(o.x(c.left),c.width),l+=c.height+s}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;Tl(e,this),this._draw(),El(e)}}_draw(){const{options:e,columnSizes:n,lineWidths:i,ctx:s}=this,{align:r,labels:o}=e,a=ge.color,l=as(e.rtl,this.left,this.width),c=Ie(o.font),{padding:u}=o,d=c.size,h=d/2;let f;this.drawTitle(),s.textAlign=l.textAlign("left"),s.textBaseline="middle",s.lineWidth=.5,s.font=c.string;const{boxWidth:p,boxHeight:g,itemHeight:x}=hg(o,d),y=function(C,P,k){if(isNaN(p)||p<=0||isNaN(g)||g<0)return;s.save();const M=X(k.lineWidth,1);if(s.fillStyle=X(k.fillStyle,a),s.lineCap=X(k.lineCap,"butt"),s.lineDashOffset=X(k.lineDashOffset,0),s.lineJoin=X(k.lineJoin,"miter"),s.lineWidth=M,s.strokeStyle=X(k.strokeStyle,a),s.setLineDash(X(k.lineDash,[])),o.usePointStyle){const T={radius:g*Math.SQRT2/2,pointStyle:k.pointStyle,rotation:k.rotation,borderWidth:M},A=l.xPlus(C,p/2),j=P+h;Ox(s,T,A,j,o.pointStyleWidth&&p)}else{const T=P+Math.max((d-g)/2,0),A=l.leftForLtr(C,p),j=wi(k.borderRadius);s.beginPath(),Object.values(j).some(Y=>Y!==0)?Hr(s,{x:A,y:T,w:p,h:g,radius:j}):s.rect(A,T,p,g),s.fill(),M!==0&&s.stroke()}s.restore()},m=function(C,P,k){Ei(s,k.text,C,P+x/2,c,{strikethrough:k.hidden,textAlign:l.textAlign(k.textAlign)})},v=this.isHorizontal(),w=this._computeTitleHeight();v?f={x:Ye(r,this.left+u,this.right-i[0]),y:this.top+u+w,line:0}:f={x:this.left+u,y:Ye(r,this.top+w+u,this.bottom-n[0].height),line:0},Hx(this.ctx,e.textDirection);const S=x+u;this.legendItems.forEach((C,P)=>{s.strokeStyle=C.fontColor,s.fillStyle=C.fontColor;const k=s.measureText(C.text).width,M=l.textAlign(C.textAlign||(C.textAlign=o.textAlign)),T=p+h+k;let A=f.x,j=f.y;l.setWidth(this.width),v?P>0&&A+T+u>this.right&&(j=f.y+=S,f.line++,A=f.x=Ye(r,this.left+u,this.right-i[f.line])):P>0&&j+S>this.bottom&&(A=f.x=A+n[f.line].width+u,f.line++,j=f.y=Ye(r,this.top+w+u,this.bottom-n[f.line].height));const Y=l.x(A);if(y(Y,j,C),A=QM(M,A+p+h,v?A+T:this.right,e.rtl),m(l.x(A),j,C),v)f.x+=T+u;else if(typeof C.text!="string"){const U=c.lineHeight;f.y+=f1(C,U)+u}else f.y+=S}),Wx(this.ctx,e.textDirection)}drawTitle(){const e=this.options,n=e.title,i=Ie(n.font),s=Qe(n.padding);if(!n.display)return;const r=as(e.rtl,this.left,this.width),o=this.ctx,a=n.position,l=i.size/2,c=s.top+l;let u,d=this.left,h=this.width;if(this.isHorizontal())h=Math.max(...this.lineWidths),u=this.top+c,d=Ye(e.align,d,this.right-h);else{const p=this.columnSizes.reduce((g,x)=>Math.max(g,x.height),0);u=c+Ye(e.align,this.top,this.bottom-p-e.labels.padding-this._computeTitleHeight())}const f=Ye(a,d,d+h);o.textAlign=r.textAlign(Ch(a)),o.textBaseline="middle",o.strokeStyle=n.color,o.fillStyle=n.color,o.font=i.string,Ei(o,n.text,f,u,i)}_computeTitleHeight(){const e=this.options.title,n=Ie(e.font),i=Qe(e.padding);return e.display?n.lineHeight+i.height:0}_getLegendItemAt(e,n){let i,s,r;if(rn(e,this.left,this.right)&&rn(n,this.top,this.bottom)){for(r=this.legendHitBoxes,i=0;i<r.length;++i)if(s=r[i],rn(e,s.left,s.left+s.width)&&rn(n,s.top,s.top+s.height))return this.legendItems[i]}return null}handleEvent(e){const n=this.options;if(!LR(e.type,n))return;const i=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const s=this._hoveredItem,r=ER(s,i);s&&!r&&re(n.onLeave,[e,s,this],this),this._hoveredItem=i,i&&!r&&re(n.onHover,[e,i,this],this)}else i&&re(n.onClick,[e,i,this],this)}}function RR(t,e,n,i,s){const r=DR(i,t,e,n),o=AR(s,i,e.lineHeight);return{itemWidth:r,itemHeight:o}}function DR(t,e,n,i){let s=t.text;return s&&typeof s!="string"&&(s=s.reduce((r,o)=>r.length>o.length?r:o)),e+n.size/2+i.measureText(s).width}function AR(t,e,n){let i=t;return typeof e.text!="string"&&(i=f1(e,n)),i}function f1(t,e){const n=t.text?t.text.length:0;return e*n}function LR(t,e){return!!((t==="mousemove"||t==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(t==="click"||t==="mouseup"))}var OR={id:"legend",_element:fg,start(t,e,n){const i=t.legend=new fg({ctx:t.ctx,options:n,chart:t});Xe.configure(t,i,n),Xe.addBox(t,i)},stop(t){Xe.removeBox(t,t.legend),delete t.legend},beforeUpdate(t,e,n){const i=t.legend;Xe.configure(t,i,n),i.options=n},afterUpdate(t){const e=t.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(t,e){e.replay||t.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(t,e,n){const i=e.datasetIndex,s=n.chart;s.isDatasetVisible(i)?(s.hide(i),e.hidden=!0):(s.show(i),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:t=>t.chart.options.color,boxWidth:40,padding:10,generateLabels(t){const e=t.data.datasets,{labels:{usePointStyle:n,pointStyle:i,textAlign:s,color:r,useBorderRadius:o,borderRadius:a}}=t.legend.options;return t._getSortedDatasetMetas().map(l=>{const c=l.controller.getStyle(n?0:void 0),u=Qe(c.borderWidth);return{text:e[l.index].label,fillStyle:c.backgroundColor,fontColor:r,hidden:!l.visible,lineCap:c.borderCapStyle,lineDash:c.borderDash,lineDashOffset:c.borderDashOffset,lineJoin:c.borderJoinStyle,lineWidth:(u.width+u.height)/4,strokeStyle:c.borderColor,pointStyle:i||c.pointStyle,rotation:c.rotation,textAlign:s||c.textAlign,borderRadius:o&&(a||c.borderRadius),datasetIndex:l.index}},this)}},title:{color:t=>t.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:t=>!t.startsWith("on"),labels:{_scriptable:t=>!["generateLabels","filter","sort"].includes(t)}}};class Nh extends yn{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n){const i=this.options;if(this.left=0,this.top=0,!i.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=e,this.height=this.bottom=n;const s=de(i.text)?i.text.length:1;this._padding=Qe(i.padding);const r=s*Ie(i.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=r:this.width=r}isHorizontal(){const e=this.options.position;return e==="top"||e==="bottom"}_drawArgs(e){const{top:n,left:i,bottom:s,right:r,options:o}=this,a=o.align;let l=0,c,u,d;return this.isHorizontal()?(u=Ye(a,i,r),d=n+e,c=r-i):(o.position==="left"?(u=i+e,d=Ye(a,s,n),l=pe*-.5):(u=r-e,d=Ye(a,n,s),l=pe*.5),c=s-n),{titleX:u,titleY:d,maxWidth:c,rotation:l}}draw(){const e=this.ctx,n=this.options;if(!n.display)return;const i=Ie(n.font),r=i.lineHeight/2+this._padding.top,{titleX:o,titleY:a,maxWidth:l,rotation:c}=this._drawArgs(r);Ei(e,n.text,0,0,i,{color:n.color,maxWidth:l,rotation:c,textAlign:Ch(n.align),textBaseline:"middle",translation:[o,a]})}}function IR(t,e){const n=new Nh({ctx:t.ctx,options:e,chart:t});Xe.configure(t,n,e),Xe.addBox(t,n),t.titleBlock=n}var NR={id:"title",_element:Nh,start(t,e,n){IR(t,n)},stop(t){const e=t.titleBlock;Xe.removeBox(t,e),delete t.titleBlock},beforeUpdate(t,e,n){const i=t.titleBlock;Xe.configure(t,i,n),i.options=n},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Vo=new WeakMap;var jR={id:"subtitle",start(t,e,n){const i=new Nh({ctx:t.ctx,options:n,chart:t});Xe.configure(t,i,n),Xe.addBox(t,i),Vo.set(t,i)},stop(t){Xe.removeBox(t,Vo.get(t)),Vo.delete(t)},beforeUpdate(t,e,n){const i=Vo.get(t);Xe.configure(t,i,n),i.options=n},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Qs={average(t){if(!t.length)return!1;let e,n,i=new Set,s=0,r=0;for(e=0,n=t.length;e<n;++e){const a=t[e].element;if(a&&a.hasValue()){const l=a.tooltipPosition();i.add(l.x),s+=l.y,++r}}return r===0||i.size===0?!1:{x:[...i].reduce((a,l)=>a+l)/i.size,y:s/r}},nearest(t,e){if(!t.length)return!1;let n=e.x,i=e.y,s=Number.POSITIVE_INFINITY,r,o,a;for(r=0,o=t.length;r<o;++r){const l=t[r].element;if(l&&l.hasValue()){const c=l.getCenterPoint(),u=Hu(e,c);u<s&&(s=u,a=l)}}if(a){const l=a.tooltipPosition();n=l.x,i=l.y}return{x:n,y:i}}};function zt(t,e){return e&&(de(e)?Array.prototype.push.apply(t,e):t.push(e)),t}function Qt(t){return(typeof t=="string"||t instanceof String)&&t.indexOf(`
`)>-1?t.split(`
`):t}function VR(t,e){const{element:n,datasetIndex:i,index:s}=e,r=t.getDatasetMeta(i).controller,{label:o,value:a}=r.getLabelAndValue(s);return{chart:t,label:o,parsed:r.getParsed(s),raw:t.data.datasets[i].data[s],formattedValue:a,dataset:r.getDataset(),dataIndex:s,datasetIndex:i,element:n}}function pg(t,e){const n=t.chart.ctx,{body:i,footer:s,title:r}=t,{boxWidth:o,boxHeight:a}=e,l=Ie(e.bodyFont),c=Ie(e.titleFont),u=Ie(e.footerFont),d=r.length,h=s.length,f=i.length,p=Qe(e.padding);let g=p.height,x=0,y=i.reduce((w,S)=>w+S.before.length+S.lines.length+S.after.length,0);if(y+=t.beforeBody.length+t.afterBody.length,d&&(g+=d*c.lineHeight+(d-1)*e.titleSpacing+e.titleMarginBottom),y){const w=e.displayColors?Math.max(a,l.lineHeight):l.lineHeight;g+=f*w+(y-f)*l.lineHeight+(y-1)*e.bodySpacing}h&&(g+=e.footerMarginTop+h*u.lineHeight+(h-1)*e.footerSpacing);let m=0;const v=function(w){x=Math.max(x,n.measureText(w).width+m)};return n.save(),n.font=c.string,ne(t.title,v),n.font=l.string,ne(t.beforeBody.concat(t.afterBody),v),m=e.displayColors?o+2+e.boxPadding:0,ne(i,w=>{ne(w.before,v),ne(w.lines,v),ne(w.after,v)}),m=0,n.font=u.string,ne(t.footer,v),n.restore(),x+=p.width,{width:x,height:g}}function FR(t,e){const{y:n,height:i}=e;return n<i/2?"top":n>t.height-i/2?"bottom":"center"}function zR(t,e,n,i){const{x:s,width:r}=i,o=n.caretSize+n.caretPadding;if(t==="left"&&s+r+o>e.width||t==="right"&&s-r-o<0)return!0}function BR(t,e,n,i){const{x:s,width:r}=n,{width:o,chartArea:{left:a,right:l}}=t;let c="center";return i==="center"?c=s<=(a+l)/2?"left":"right":s<=r/2?c="left":s>=o-r/2&&(c="right"),zR(c,t,e,n)&&(c="center"),c}function mg(t,e,n){const i=n.yAlign||e.yAlign||FR(t,n);return{xAlign:n.xAlign||e.xAlign||BR(t,e,n,i),yAlign:i}}function HR(t,e){let{x:n,width:i}=t;return e==="right"?n-=i:e==="center"&&(n-=i/2),n}function WR(t,e,n){let{y:i,height:s}=t;return e==="top"?i+=n:e==="bottom"?i-=s+n:i-=s/2,i}function gg(t,e,n,i){const{caretSize:s,caretPadding:r,cornerRadius:o}=t,{xAlign:a,yAlign:l}=n,c=s+r,{topLeft:u,topRight:d,bottomLeft:h,bottomRight:f}=wi(o);let p=HR(e,a);const g=WR(e,l,c);return l==="center"?a==="left"?p+=c:a==="right"&&(p-=c):a==="left"?p-=Math.max(u,h)+s:a==="right"&&(p+=Math.max(d,f)+s),{x:Ve(p,0,i.width-e.width),y:Ve(g,0,i.height-e.height)}}function Fo(t,e,n){const i=Qe(n.padding);return e==="center"?t.x+t.width/2:e==="right"?t.x+t.width-i.right:t.x+i.left}function yg(t){return zt([],Qt(t))}function $R(t,e,n){return Jn(t,{tooltip:e,tooltipItems:n,type:"tooltip"})}function vg(t,e){const n=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return n?t.override(n):t}const p1={beforeTitle:Xt,title(t){if(t.length>0){const e=t[0],n=e.chart.data.labels,i=n?n.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(i>0&&e.dataIndex<i)return n[e.dataIndex]}return""},afterTitle:Xt,beforeBody:Xt,beforeLabel:Xt,label(t){if(this&&this.options&&this.options.mode==="dataset")return t.label+": "+t.formattedValue||t.formattedValue;let e=t.dataset.label||"";e&&(e+=": ");const n=t.formattedValue;return q(n)||(e+=n),e},labelColor(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{borderColor:n.borderColor,backgroundColor:n.backgroundColor,borderWidth:n.borderWidth,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{pointStyle:n.pointStyle,rotation:n.rotation}},afterLabel:Xt,afterBody:Xt,beforeFooter:Xt,footer:Xt,afterFooter:Xt};function it(t,e,n,i){const s=t[e].call(n,i);return typeof s>"u"?p1[e].call(n,i):s}class qu extends yn{constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const n=this.chart,i=this.options.setContext(this.getContext()),s=i.enabled&&n.options.animation&&i.animations,r=new Kx(this.chart,s);return s._cacheable&&(this._cachedAnimations=Object.freeze(r)),r}getContext(){return this.$context||(this.$context=$R(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,n){const{callbacks:i}=n,s=it(i,"beforeTitle",this,e),r=it(i,"title",this,e),o=it(i,"afterTitle",this,e);let a=[];return a=zt(a,Qt(s)),a=zt(a,Qt(r)),a=zt(a,Qt(o)),a}getBeforeBody(e,n){return yg(it(n.callbacks,"beforeBody",this,e))}getBody(e,n){const{callbacks:i}=n,s=[];return ne(e,r=>{const o={before:[],lines:[],after:[]},a=vg(i,r);zt(o.before,Qt(it(a,"beforeLabel",this,r))),zt(o.lines,it(a,"label",this,r)),zt(o.after,Qt(it(a,"afterLabel",this,r))),s.push(o)}),s}getAfterBody(e,n){return yg(it(n.callbacks,"afterBody",this,e))}getFooter(e,n){const{callbacks:i}=n,s=it(i,"beforeFooter",this,e),r=it(i,"footer",this,e),o=it(i,"afterFooter",this,e);let a=[];return a=zt(a,Qt(s)),a=zt(a,Qt(r)),a=zt(a,Qt(o)),a}_createItems(e){const n=this._active,i=this.chart.data,s=[],r=[],o=[];let a=[],l,c;for(l=0,c=n.length;l<c;++l)a.push(VR(this.chart,n[l]));return e.filter&&(a=a.filter((u,d,h)=>e.filter(u,d,h,i))),e.itemSort&&(a=a.sort((u,d)=>e.itemSort(u,d,i))),ne(a,u=>{const d=vg(e.callbacks,u);s.push(it(d,"labelColor",this,u)),r.push(it(d,"labelPointStyle",this,u)),o.push(it(d,"labelTextColor",this,u))}),this.labelColors=s,this.labelPointStyles=r,this.labelTextColors=o,this.dataPoints=a,a}update(e,n){const i=this.options.setContext(this.getContext()),s=this._active;let r,o=[];if(!s.length)this.opacity!==0&&(r={opacity:0});else{const a=Qs[i.position].call(this,s,this._eventPosition);o=this._createItems(i),this.title=this.getTitle(o,i),this.beforeBody=this.getBeforeBody(o,i),this.body=this.getBody(o,i),this.afterBody=this.getAfterBody(o,i),this.footer=this.getFooter(o,i);const l=this._size=pg(this,i),c=Object.assign({},a,l),u=mg(this.chart,i,c),d=gg(i,c,u,this.chart);this.xAlign=u.xAlign,this.yAlign=u.yAlign,r={opacity:1,x:d.x,y:d.y,width:l.width,height:l.height,caretX:a.x,caretY:a.y}}this._tooltipItems=o,this.$context=void 0,r&&this._resolveAnimations().update(this,r),e&&i.external&&i.external.call(this,{chart:this.chart,tooltip:this,replay:n})}drawCaret(e,n,i,s){const r=this.getCaretPosition(e,i,s);n.lineTo(r.x1,r.y1),n.lineTo(r.x2,r.y2),n.lineTo(r.x3,r.y3)}getCaretPosition(e,n,i){const{xAlign:s,yAlign:r}=this,{caretSize:o,cornerRadius:a}=i,{topLeft:l,topRight:c,bottomLeft:u,bottomRight:d}=wi(a),{x:h,y:f}=e,{width:p,height:g}=n;let x,y,m,v,w,S;return r==="center"?(w=f+g/2,s==="left"?(x=h,y=x-o,v=w+o,S=w-o):(x=h+p,y=x+o,v=w-o,S=w+o),m=x):(s==="left"?y=h+Math.max(l,u)+o:s==="right"?y=h+p-Math.max(c,d)-o:y=this.caretX,r==="top"?(v=f,w=v-o,x=y-o,m=y+o):(v=f+g,w=v+o,x=y+o,m=y-o),S=v),{x1:x,x2:y,x3:m,y1:v,y2:w,y3:S}}drawTitle(e,n,i){const s=this.title,r=s.length;let o,a,l;if(r){const c=as(i.rtl,this.x,this.width);for(e.x=Fo(this,i.titleAlign,i),n.textAlign=c.textAlign(i.titleAlign),n.textBaseline="middle",o=Ie(i.titleFont),a=i.titleSpacing,n.fillStyle=i.titleColor,n.font=o.string,l=0;l<r;++l)n.fillText(s[l],c.x(e.x),e.y+o.lineHeight/2),e.y+=o.lineHeight+a,l+1===r&&(e.y+=i.titleMarginBottom-a)}}_drawColorBox(e,n,i,s,r){const o=this.labelColors[i],a=this.labelPointStyles[i],{boxHeight:l,boxWidth:c}=r,u=Ie(r.bodyFont),d=Fo(this,"left",r),h=s.x(d),f=l<u.lineHeight?(u.lineHeight-l)/2:0,p=n.y+f;if(r.usePointStyle){const g={radius:Math.min(c,l)/2,pointStyle:a.pointStyle,rotation:a.rotation,borderWidth:1},x=s.leftForLtr(h,c)+c/2,y=p+l/2;e.strokeStyle=r.multiKeyBackground,e.fillStyle=r.multiKeyBackground,$u(e,g,x,y),e.strokeStyle=o.borderColor,e.fillStyle=o.backgroundColor,$u(e,g,x,y)}else{e.lineWidth=J(o.borderWidth)?Math.max(...Object.values(o.borderWidth)):o.borderWidth||1,e.strokeStyle=o.borderColor,e.setLineDash(o.borderDash||[]),e.lineDashOffset=o.borderDashOffset||0;const g=s.leftForLtr(h,c),x=s.leftForLtr(s.xPlus(h,1),c-2),y=wi(o.borderRadius);Object.values(y).some(m=>m!==0)?(e.beginPath(),e.fillStyle=r.multiKeyBackground,Hr(e,{x:g,y:p,w:c,h:l,radius:y}),e.fill(),e.stroke(),e.fillStyle=o.backgroundColor,e.beginPath(),Hr(e,{x,y:p+1,w:c-2,h:l-2,radius:y}),e.fill()):(e.fillStyle=r.multiKeyBackground,e.fillRect(g,p,c,l),e.strokeRect(g,p,c,l),e.fillStyle=o.backgroundColor,e.fillRect(x,p+1,c-2,l-2))}e.fillStyle=this.labelTextColors[i]}drawBody(e,n,i){const{body:s}=this,{bodySpacing:r,bodyAlign:o,displayColors:a,boxHeight:l,boxWidth:c,boxPadding:u}=i,d=Ie(i.bodyFont);let h=d.lineHeight,f=0;const p=as(i.rtl,this.x,this.width),g=function(k){n.fillText(k,p.x(e.x+f),e.y+h/2),e.y+=h+r},x=p.textAlign(o);let y,m,v,w,S,C,P;for(n.textAlign=o,n.textBaseline="middle",n.font=d.string,e.x=Fo(this,x,i),n.fillStyle=i.bodyColor,ne(this.beforeBody,g),f=a&&x!=="right"?o==="center"?c/2+u:c+2+u:0,w=0,C=s.length;w<C;++w){for(y=s[w],m=this.labelTextColors[w],n.fillStyle=m,ne(y.before,g),v=y.lines,a&&v.length&&(this._drawColorBox(n,e,w,p,i),h=Math.max(d.lineHeight,l)),S=0,P=v.length;S<P;++S)g(v[S]),h=d.lineHeight;ne(y.after,g)}f=0,h=d.lineHeight,ne(this.afterBody,g),e.y-=r}drawFooter(e,n,i){const s=this.footer,r=s.length;let o,a;if(r){const l=as(i.rtl,this.x,this.width);for(e.x=Fo(this,i.footerAlign,i),e.y+=i.footerMarginTop,n.textAlign=l.textAlign(i.footerAlign),n.textBaseline="middle",o=Ie(i.footerFont),n.fillStyle=i.footerColor,n.font=o.string,a=0;a<r;++a)n.fillText(s[a],l.x(e.x),e.y+o.lineHeight/2),e.y+=o.lineHeight+i.footerSpacing}}drawBackground(e,n,i,s){const{xAlign:r,yAlign:o}=this,{x:a,y:l}=e,{width:c,height:u}=i,{topLeft:d,topRight:h,bottomLeft:f,bottomRight:p}=wi(s.cornerRadius);n.fillStyle=s.backgroundColor,n.strokeStyle=s.borderColor,n.lineWidth=s.borderWidth,n.beginPath(),n.moveTo(a+d,l),o==="top"&&this.drawCaret(e,n,i,s),n.lineTo(a+c-h,l),n.quadraticCurveTo(a+c,l,a+c,l+h),o==="center"&&r==="right"&&this.drawCaret(e,n,i,s),n.lineTo(a+c,l+u-p),n.quadraticCurveTo(a+c,l+u,a+c-p,l+u),o==="bottom"&&this.drawCaret(e,n,i,s),n.lineTo(a+f,l+u),n.quadraticCurveTo(a,l+u,a,l+u-f),o==="center"&&r==="left"&&this.drawCaret(e,n,i,s),n.lineTo(a,l+d),n.quadraticCurveTo(a,l,a+d,l),n.closePath(),n.fill(),s.borderWidth>0&&n.stroke()}_updateAnimationTarget(e){const n=this.chart,i=this.$animations,s=i&&i.x,r=i&&i.y;if(s||r){const o=Qs[e.position].call(this,this._active,this._eventPosition);if(!o)return;const a=this._size=pg(this,e),l=Object.assign({},o,this._size),c=mg(n,e,l),u=gg(e,l,c,n);(s._to!==u.x||r._to!==u.y)&&(this.xAlign=c.xAlign,this.yAlign=c.yAlign,this.width=a.width,this.height=a.height,this.caretX=o.x,this.caretY=o.y,this._resolveAnimations().update(this,u))}}_willRender(){return!!this.opacity}draw(e){const n=this.options.setContext(this.getContext());let i=this.opacity;if(!i)return;this._updateAnimationTarget(n);const s={width:this.width,height:this.height},r={x:this.x,y:this.y};i=Math.abs(i)<.001?0:i;const o=Qe(n.padding),a=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;n.enabled&&a&&(e.save(),e.globalAlpha=i,this.drawBackground(r,e,s,n),Hx(e,n.textDirection),r.y+=o.top,this.drawTitle(r,e,n),this.drawBody(r,e,n),this.drawFooter(r,e,n),Wx(e,n.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,n){const i=this._active,s=e.map(({datasetIndex:a,index:l})=>{const c=this.chart.getDatasetMeta(a);if(!c)throw new Error("Cannot find a dataset at index "+a);return{datasetIndex:a,element:c.data[l],index:l}}),r=!$a(i,s),o=this._positionChanged(s,n);(r||o)&&(this._active=s,this._eventPosition=n,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,n,i=!0){if(n&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const s=this.options,r=this._active||[],o=this._getActiveElements(e,r,n,i),a=this._positionChanged(o,e),l=n||!$a(o,r)||a;return l&&(this._active=o,(s.enabled||s.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,n))),l}_getActiveElements(e,n,i,s){const r=this.options;if(e.type==="mouseout")return[];if(!s)return n.filter(a=>this.chart.data.datasets[a.datasetIndex]&&this.chart.getDatasetMeta(a.datasetIndex).controller.getParsed(a.index)!==void 0);const o=this.chart.getElementsAtEventForMode(e,r.mode,r,i);return r.reverse&&o.reverse(),o}_positionChanged(e,n){const{caretX:i,caretY:s,options:r}=this,o=Qs[r.position].call(this,e,n);return o!==!1&&(i!==o.x||s!==o.y)}}D(qu,"positioners",Qs);var UR={id:"tooltip",_element:qu,positioners:Qs,afterInit(t,e,n){n&&(t.tooltip=new qu({chart:t,options:n}))},beforeUpdate(t,e,n){t.tooltip&&t.tooltip.initialize(n)},reset(t,e,n){t.tooltip&&t.tooltip.initialize(n)},afterDraw(t){const e=t.tooltip;if(e&&e._willRender()){const n={tooltip:e};if(t.notifyPlugins("beforeTooltipDraw",{...n,cancelable:!0})===!1)return;e.draw(t.ctx),t.notifyPlugins("afterTooltipDraw",n)}},afterEvent(t,e){if(t.tooltip){const n=e.replay;t.tooltip.handleEvent(e.event,n,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(t,e)=>e.bodyFont.size,boxWidth:(t,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:p1},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:t=>t!=="filter"&&t!=="itemSort"&&t!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},YR=Object.freeze({__proto__:null,Colors:sR,Decimation:lR,Filler:TR,Legend:OR,SubTitle:jR,Title:NR,Tooltip:UR});const KR=(t,e,n,i)=>(typeof e=="string"?(n=t.push(e)-1,i.unshift({index:n,label:e})):isNaN(e)&&(n=null),n);function XR(t,e,n,i){const s=t.indexOf(e);if(s===-1)return KR(t,e,n,i);const r=t.lastIndexOf(e);return s!==r?n:s}const GR=(t,e)=>t===null?null:Ve(Math.round(t),0,e);function xg(t){const e=this.getLabels();return t>=0&&t<e.length?e[t]:t}class Zu extends Oi{constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const n=this._addedLabels;if(n.length){const i=this.getLabels();for(const{index:s,label:r}of n)i[s]===r&&i.splice(s,1);this._addedLabels=[]}super.init(e)}parse(e,n){if(q(e))return null;const i=this.getLabels();return n=isFinite(n)&&i[n]===e?n:XR(i,e,X(n,e),this._addedLabels),GR(n,i.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:n}=this.getUserBounds();let{min:i,max:s}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(i=0),n||(s=this.getLabels().length-1)),this.min=i,this.max=s}buildTicks(){const e=this.min,n=this.max,i=this.options.offset,s=[];let r=this.getLabels();r=e===0&&n===r.length-1?r:r.slice(e,n+1),this._valueRange=Math.max(r.length-(i?0:1),1),this._startValue=this.min-(i?.5:0);for(let o=e;o<=n;o++)s.push({value:o});return s}getLabelForValue(e){return xg.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}D(Zu,"id","category"),D(Zu,"defaults",{ticks:{callback:xg}});function QR(t,e){const n=[],{bounds:s,step:r,min:o,max:a,precision:l,count:c,maxTicks:u,maxDigits:d,includeBounds:h}=t,f=r||1,p=u-1,{min:g,max:x}=e,y=!q(o),m=!q(a),v=!q(c),w=(x-g)/(d+1);let S=pm((x-g)/p/f)*f,C,P,k,M;if(S<1e-14&&!y&&!m)return[{value:g},{value:x}];M=Math.ceil(x/S)-Math.floor(g/S),M>p&&(S=pm(M*S/p/f)*f),q(l)||(C=Math.pow(10,l),S=Math.ceil(S*C)/C),s==="ticks"?(P=Math.floor(g/S)*S,k=Math.ceil(x/S)*S):(P=g,k=x),y&&m&&r&&WM((a-o)/r,S/1e3)?(M=Math.round(Math.min((a-o)/S,u)),S=(a-o)/M,P=o,k=a):v?(P=y?o:P,k=m?a:k,M=c-1,S=(k-P)/M):(M=(k-P)/S,hr(M,Math.round(M),S/1e3)?M=Math.round(M):M=Math.ceil(M));const T=Math.max(mm(S),mm(P));C=Math.pow(10,q(l)?T:l),P=Math.round(P*C)/C,k=Math.round(k*C)/C;let A=0;for(y&&(h&&P!==o?(n.push({value:o}),P<o&&A++,hr(Math.round((P+A*S)*C)/C,o,bg(o,w,t))&&A++):P<o&&A++);A<M;++A){const j=Math.round((P+A*S)*C)/C;if(m&&j>a)break;n.push({value:j})}return m&&h&&k!==a?n.length&&hr(n[n.length-1].value,a,bg(a,w,t))?n[n.length-1].value=a:n.push({value:a}):(!m||k===a)&&n.push({value:k}),n}function bg(t,e,{horizontal:n,minRotation:i}){const s=Lt(i),r=(n?Math.sin(s):Math.cos(s))||.001,o=.75*e*(""+t).length;return Math.min(e/r,o)}class qa extends Oi{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,n){return q(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:n,maxDefined:i}=this.getUserBounds();let{min:s,max:r}=this;const o=l=>s=n?s:l,a=l=>r=i?r:l;if(e){const l=Kt(s),c=Kt(r);l<0&&c<0?a(0):l>0&&c>0&&o(0)}if(s===r){let l=r===0?1:Math.abs(r*.05);a(r+l),e||o(s-l)}this.min=s,this.max=r}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:n,stepSize:i}=e,s;return i?(s=Math.ceil(this.max/i)-Math.floor(this.min/i)+1,s>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${i} would result generating up to ${s} ticks. Limiting to 1000.`),s=1e3)):(s=this.computeTickLimit(),n=n||11),n&&(s=Math.min(n,s)),s}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,n=e.ticks;let i=this.getTickLimit();i=Math.max(2,i);const s={maxTicks:i,bounds:e.bounds,min:e.min,max:e.max,precision:n.precision,step:n.stepSize,count:n.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:n.minRotation||0,includeBounds:n.includeBounds!==!1},r=this._range||this,o=QR(s,r);return e.bounds==="ticks"&&Px(o,this,"value"),e.reverse?(o.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),o}configure(){const e=this.ticks;let n=this.min,i=this.max;if(super.configure(),this.options.offset&&e.length){const s=(i-n)/Math.max(e.length-1,1)/2;n-=s,i+=s}this._startValue=n,this._endValue=i,this._valueRange=i-n}getLabelForValue(e){return no(e,this.chart.options.locale,this.options.ticks.format)}}class Ju extends qa{determineDataLimits(){const{min:e,max:n}=this.getMinMax(!0);this.min=Pe(e)?e:0,this.max=Pe(n)?n:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),n=e?this.width:this.height,i=Lt(this.options.ticks.minRotation),s=(e?Math.sin(i):Math.cos(i))||.001,r=this._resolveTickFontOptions(0);return Math.ceil(n/Math.min(40,r.lineHeight/s))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}D(Ju,"id","linear"),D(Ju,"defaults",{ticks:{callback:Ml.formatters.numeric}});const $r=t=>Math.floor(En(t)),ri=(t,e)=>Math.pow(10,$r(t)+e);function wg(t){return t/Math.pow(10,$r(t))===1}function Sg(t,e,n){const i=Math.pow(10,n),s=Math.floor(t/i);return Math.ceil(e/i)-s}function qR(t,e){const n=e-t;let i=$r(n);for(;Sg(t,e,i)>10;)i++;for(;Sg(t,e,i)<10;)i--;return Math.min(i,$r(t))}function ZR(t,{min:e,max:n}){e=dt(t.min,e);const i=[],s=$r(e);let r=qR(e,n),o=r<0?Math.pow(10,Math.abs(r)):1;const a=Math.pow(10,r),l=s>r?Math.pow(10,s):0,c=Math.round((e-l)*o)/o,u=Math.floor((e-l)/a/10)*a*10;let d=Math.floor((c-u)/Math.pow(10,r)),h=dt(t.min,Math.round((l+u+d*Math.pow(10,r))*o)/o);for(;h<n;)i.push({value:h,major:wg(h),significand:d}),d>=10?d=d<15?15:20:d++,d>=20&&(r++,d=2,o=r>=0?1:o),h=Math.round((l+u+d*Math.pow(10,r))*o)/o;const f=dt(t.max,h);return i.push({value:f,major:wg(f),significand:d}),i}class ed extends Oi{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(e,n){const i=qa.prototype.parse.apply(this,[e,n]);if(i===0){this._zero=!0;return}return Pe(i)&&i>0?i:null}determineDataLimits(){const{min:e,max:n}=this.getMinMax(!0);this.min=Pe(e)?Math.max(0,e):null,this.max=Pe(n)?Math.max(0,n):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!Pe(this._userMin)&&(this.min=e===ri(this.min,0)?ri(this.min,-1):ri(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:e,maxDefined:n}=this.getUserBounds();let i=this.min,s=this.max;const r=a=>i=e?i:a,o=a=>s=n?s:a;i===s&&(i<=0?(r(1),o(10)):(r(ri(i,-1)),o(ri(s,1)))),i<=0&&r(ri(s,-1)),s<=0&&o(ri(i,1)),this.min=i,this.max=s}buildTicks(){const e=this.options,n={min:this._userMin,max:this._userMax},i=ZR(n,this);return e.bounds==="ticks"&&Px(i,this,"value"),e.reverse?(i.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),i}getLabelForValue(e){return e===void 0?"0":no(e,this.chart.options.locale,this.options.ticks.format)}configure(){const e=this.min;super.configure(),this._startValue=En(e),this._valueRange=En(this.max)-En(e)}getPixelForValue(e){return(e===void 0||e===0)&&(e=this.min),e===null||isNaN(e)?NaN:this.getPixelForDecimal(e===this.min?0:(En(e)-this._startValue)/this._valueRange)}getValueForPixel(e){const n=this.getDecimalForPixel(e);return Math.pow(10,this._startValue+n*this._valueRange)}}D(ed,"id","logarithmic"),D(ed,"defaults",{ticks:{callback:Ml.formatters.logarithmic,major:{enabled:!0}}});function td(t){const e=t.ticks;if(e.display&&t.display){const n=Qe(e.backdropPadding);return X(e.font&&e.font.size,ge.font.size)+n.height}return 0}function JR(t,e,n){return n=de(n)?n:[n],{w:oT(t,e.string,n),h:n.length*e.lineHeight}}function _g(t,e,n,i,s){return t===i||t===s?{start:e-n/2,end:e+n/2}:t<i||t>s?{start:e-n,end:e}:{start:e,end:e+n}}function eD(t){const e={l:t.left+t._padding.left,r:t.right-t._padding.right,t:t.top+t._padding.top,b:t.bottom-t._padding.bottom},n=Object.assign({},e),i=[],s=[],r=t._pointLabels.length,o=t.options.pointLabels,a=o.centerPointLabels?pe/r:0;for(let l=0;l<r;l++){const c=o.setContext(t.getPointLabelContext(l));s[l]=c.padding;const u=t.getPointPosition(l,t.drawingArea+s[l],a),d=Ie(c.font),h=JR(t.ctx,d,t._pointLabels[l]);i[l]=h;const f=ft(t.getIndexAngle(l)+a),p=Math.round(kh(f)),g=_g(p,u.x,h.w,0,180),x=_g(p,u.y,h.h,90,270);tD(n,e,f,g,x)}t.setCenterPoint(e.l-n.l,n.r-e.r,e.t-n.t,n.b-e.b),t._pointLabelItems=sD(t,i,s)}function tD(t,e,n,i,s){const r=Math.abs(Math.sin(n)),o=Math.abs(Math.cos(n));let a=0,l=0;i.start<e.l?(a=(e.l-i.start)/r,t.l=Math.min(t.l,e.l-a)):i.end>e.r&&(a=(i.end-e.r)/r,t.r=Math.max(t.r,e.r+a)),s.start<e.t?(l=(e.t-s.start)/o,t.t=Math.min(t.t,e.t-l)):s.end>e.b&&(l=(s.end-e.b)/o,t.b=Math.max(t.b,e.b+l))}function nD(t,e,n){const i=t.drawingArea,{extra:s,additionalAngle:r,padding:o,size:a}=n,l=t.getPointPosition(e,i+s+o,r),c=Math.round(kh(ft(l.angle+Te))),u=aD(l.y,a.h,c),d=rD(c),h=oD(l.x,a.w,d);return{visible:!0,x:l.x,y:u,textAlign:d,left:h,top:u,right:h+a.w,bottom:u+a.h}}function iD(t,e){if(!e)return!0;const{left:n,top:i,right:s,bottom:r}=t;return!(an({x:n,y:i},e)||an({x:n,y:r},e)||an({x:s,y:i},e)||an({x:s,y:r},e))}function sD(t,e,n){const i=[],s=t._pointLabels.length,r=t.options,{centerPointLabels:o,display:a}=r.pointLabels,l={extra:td(r)/2,additionalAngle:o?pe/s:0};let c;for(let u=0;u<s;u++){l.padding=n[u],l.size=e[u];const d=nD(t,u,l);i.push(d),a==="auto"&&(d.visible=iD(d,c),d.visible&&(c=d))}return i}function rD(t){return t===0||t===180?"center":t<180?"left":"right"}function oD(t,e,n){return n==="right"?t-=e:n==="center"&&(t-=e/2),t}function aD(t,e,n){return n===90||n===270?t-=e/2:(n>270||n<90)&&(t-=e),t}function lD(t,e,n){const{left:i,top:s,right:r,bottom:o}=n,{backdropColor:a}=e;if(!q(a)){const l=wi(e.borderRadius),c=Qe(e.backdropPadding);t.fillStyle=a;const u=i-c.left,d=s-c.top,h=r-i+c.width,f=o-s+c.height;Object.values(l).some(p=>p!==0)?(t.beginPath(),Hr(t,{x:u,y:d,w:h,h:f,radius:l}),t.fill()):t.fillRect(u,d,h,f)}}function cD(t,e){const{ctx:n,options:{pointLabels:i}}=t;for(let s=e-1;s>=0;s--){const r=t._pointLabelItems[s];if(!r.visible)continue;const o=i.setContext(t.getPointLabelContext(s));lD(n,o,r);const a=Ie(o.font),{x:l,y:c,textAlign:u}=r;Ei(n,t._pointLabels[s],l,c+a.lineHeight/2,a,{color:o.color,textAlign:u,textBaseline:"middle"})}}function m1(t,e,n,i){const{ctx:s}=t;if(n)s.arc(t.xCenter,t.yCenter,e,0,fe);else{let r=t.getPointPosition(0,e);s.moveTo(r.x,r.y);for(let o=1;o<i;o++)r=t.getPointPosition(o,e),s.lineTo(r.x,r.y)}}function uD(t,e,n,i,s){const r=t.ctx,o=e.circular,{color:a,lineWidth:l}=e;!o&&!i||!a||!l||n<0||(r.save(),r.strokeStyle=a,r.lineWidth=l,r.setLineDash(s.dash||[]),r.lineDashOffset=s.dashOffset,r.beginPath(),m1(t,n,o,i),r.closePath(),r.stroke(),r.restore())}function dD(t,e,n){return Jn(t,{label:n,index:e,type:"pointLabel"})}class qs extends qa{constructor(e){super(e),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const e=this._padding=Qe(td(this.options)/2),n=this.width=this.maxWidth-e.width,i=this.height=this.maxHeight-e.height;this.xCenter=Math.floor(this.left+n/2+e.left),this.yCenter=Math.floor(this.top+i/2+e.top),this.drawingArea=Math.floor(Math.min(n,i)/2)}determineDataLimits(){const{min:e,max:n}=this.getMinMax(!1);this.min=Pe(e)&&!isNaN(e)?e:0,this.max=Pe(n)&&!isNaN(n)?n:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/td(this.options))}generateTickLabels(e){qa.prototype.generateTickLabels.call(this,e),this._pointLabels=this.getLabels().map((n,i)=>{const s=re(this.options.pointLabels.callback,[n,i],this);return s||s===0?s:""}).filter((n,i)=>this.chart.getDataVisibility(i))}fit(){const e=this.options;e.display&&e.pointLabels.display?eD(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(e,n,i,s){this.xCenter+=Math.floor((e-n)/2),this.yCenter+=Math.floor((i-s)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(e,n,i,s))}getIndexAngle(e){const n=fe/(this._pointLabels.length||1),i=this.options.startAngle||0;return ft(e*n+Lt(i))}getDistanceFromCenterForValue(e){if(q(e))return NaN;const n=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-e)*n:(e-this.min)*n}getValueForDistanceFromCenter(e){if(q(e))return NaN;const n=e/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-n:this.min+n}getPointLabelContext(e){const n=this._pointLabels||[];if(e>=0&&e<n.length){const i=n[e];return dD(this.getContext(),e,i)}}getPointPosition(e,n,i=0){const s=this.getIndexAngle(e)-Te+i;return{x:Math.cos(s)*n+this.xCenter,y:Math.sin(s)*n+this.yCenter,angle:s}}getPointPositionForValue(e,n){return this.getPointPosition(e,this.getDistanceFromCenterForValue(n))}getBasePosition(e){return this.getPointPositionForValue(e||0,this.getBaseValue())}getPointLabelPosition(e){const{left:n,top:i,right:s,bottom:r}=this._pointLabelItems[e];return{left:n,top:i,right:s,bottom:r}}drawBackground(){const{backgroundColor:e,grid:{circular:n}}=this.options;if(e){const i=this.ctx;i.save(),i.beginPath(),m1(this,this.getDistanceFromCenterForValue(this._endValue),n,this._pointLabels.length),i.closePath(),i.fillStyle=e,i.fill(),i.restore()}}drawGrid(){const e=this.ctx,n=this.options,{angleLines:i,grid:s,border:r}=n,o=this._pointLabels.length;let a,l,c;if(n.pointLabels.display&&cD(this,o),s.display&&this.ticks.forEach((u,d)=>{if(d!==0||d===0&&this.min<0){l=this.getDistanceFromCenterForValue(u.value);const h=this.getContext(d),f=s.setContext(h),p=r.setContext(h);uD(this,f,l,o,p)}}),i.display){for(e.save(),a=o-1;a>=0;a--){const u=i.setContext(this.getPointLabelContext(a)),{color:d,lineWidth:h}=u;!h||!d||(e.lineWidth=h,e.strokeStyle=d,e.setLineDash(u.borderDash),e.lineDashOffset=u.borderDashOffset,l=this.getDistanceFromCenterForValue(n.reverse?this.min:this.max),c=this.getPointPosition(a,l),e.beginPath(),e.moveTo(this.xCenter,this.yCenter),e.lineTo(c.x,c.y),e.stroke())}e.restore()}}drawBorder(){}drawLabels(){const e=this.ctx,n=this.options,i=n.ticks;if(!i.display)return;const s=this.getIndexAngle(0);let r,o;e.save(),e.translate(this.xCenter,this.yCenter),e.rotate(s),e.textAlign="center",e.textBaseline="middle",this.ticks.forEach((a,l)=>{if(l===0&&this.min>=0&&!n.reverse)return;const c=i.setContext(this.getContext(l)),u=Ie(c.font);if(r=this.getDistanceFromCenterForValue(this.ticks[l].value),c.showLabelBackdrop){e.font=u.string,o=e.measureText(a.label).width,e.fillStyle=c.backdropColor;const d=Qe(c.backdropPadding);e.fillRect(-o/2-d.left,-r-u.size/2-d.top,o+d.width,u.size+d.height)}Ei(e,a.label,0,-r,u,{color:c.color,strokeColor:c.textStrokeColor,strokeWidth:c.textStrokeWidth})}),e.restore()}drawTitle(){}}D(qs,"id","radialLinear"),D(qs,"defaults",{display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:Ml.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(e){return e},padding:5,centerPointLabels:!1}}),D(qs,"defaultRoutes",{"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"}),D(qs,"descriptors",{angleLines:{_fallback:"grid"}});const Dl={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},rt=Object.keys(Dl);function kg(t,e){return t-e}function Pg(t,e){if(q(e))return null;const n=t._adapter,{parser:i,round:s,isoWeekday:r}=t._parseOpts;let o=e;return typeof i=="function"&&(o=i(o)),Pe(o)||(o=typeof i=="string"?n.parse(o,i):n.parse(o)),o===null?null:(s&&(o=s==="week"&&(ys(r)||r===!0)?n.startOf(o,"isoWeek",r):n.startOf(o,s)),+o)}function Cg(t,e,n,i){const s=rt.length;for(let r=rt.indexOf(t);r<s-1;++r){const o=Dl[rt[r]],a=o.steps?o.steps:Number.MAX_SAFE_INTEGER;if(o.common&&Math.ceil((n-e)/(a*o.size))<=i)return rt[r]}return rt[s-1]}function hD(t,e,n,i,s){for(let r=rt.length-1;r>=rt.indexOf(n);r--){const o=rt[r];if(Dl[o].common&&t._adapter.diff(s,i,o)>=e-1)return o}return rt[n?rt.indexOf(n):0]}function fD(t){for(let e=rt.indexOf(t)+1,n=rt.length;e<n;++e)if(Dl[rt[e]].common)return rt[e]}function Mg(t,e,n){if(!n)t[e]=!0;else if(n.length){const{lo:i,hi:s}=Ph(n,e),r=n[i]>=e?n[i]:n[s];t[r]=!0}}function pD(t,e,n,i){const s=t._adapter,r=+s.startOf(e[0].value,i),o=e[e.length-1].value;let a,l;for(a=r;a<=o;a=+s.add(a,1,i))l=n[a],l>=0&&(e[l].major=!0);return e}function Tg(t,e,n){const i=[],s={},r=e.length;let o,a;for(o=0;o<r;++o)a=e[o],s[a]=o,i.push({value:a,major:!1});return r===0||!n?i:pD(t,i,s,n)}class Ur extends Oi{constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,n={}){const i=e.time||(e.time={}),s=this._adapter=new S2._date(e.adapters.date);s.init(n),dr(i.displayFormats,s.formats()),this._parseOpts={parser:i.parser,round:i.round,isoWeekday:i.isoWeekday},super.init(e),this._normalized=n.normalized}parse(e,n){return e===void 0?null:Pg(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,n=this._adapter,i=e.time.unit||"day";let{min:s,max:r,minDefined:o,maxDefined:a}=this.getUserBounds();function l(c){!o&&!isNaN(c.min)&&(s=Math.min(s,c.min)),!a&&!isNaN(c.max)&&(r=Math.max(r,c.max))}(!o||!a)&&(l(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&l(this.getMinMax(!1))),s=Pe(s)&&!isNaN(s)?s:+n.startOf(Date.now(),i),r=Pe(r)&&!isNaN(r)?r:+n.endOf(Date.now(),i)+1,this.min=Math.min(s,r-1),this.max=Math.max(s+1,r)}_getLabelBounds(){const e=this.getLabelTimestamps();let n=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY;return e.length&&(n=e[0],i=e[e.length-1]),{min:n,max:i}}buildTicks(){const e=this.options,n=e.time,i=e.ticks,s=i.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&s.length&&(this.min=this._userMin||s[0],this.max=this._userMax||s[s.length-1]);const r=this.min,o=this.max,a=KM(s,r,o);return this._unit=n.unit||(i.autoSkip?Cg(n.minUnit,this.min,this.max,this._getLabelCapacity(r)):hD(this,a.length,n.minUnit,this.min,this.max)),this._majorUnit=!i.major.enabled||this._unit==="year"?void 0:fD(this._unit),this.initOffsets(s),e.reverse&&a.reverse(),Tg(this,a,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let n=0,i=0,s,r;this.options.offset&&e.length&&(s=this.getDecimalForValue(e[0]),e.length===1?n=1-s:n=(this.getDecimalForValue(e[1])-s)/2,r=this.getDecimalForValue(e[e.length-1]),e.length===1?i=r:i=(r-this.getDecimalForValue(e[e.length-2]))/2);const o=e.length<3?.5:.25;n=Ve(n,0,o),i=Ve(i,0,o),this._offsets={start:n,end:i,factor:1/(n+1+i)}}_generate(){const e=this._adapter,n=this.min,i=this.max,s=this.options,r=s.time,o=r.unit||Cg(r.minUnit,n,i,this._getLabelCapacity(n)),a=X(s.ticks.stepSize,1),l=o==="week"?r.isoWeekday:!1,c=ys(l)||l===!0,u={};let d=n,h,f;if(c&&(d=+e.startOf(d,"isoWeek",l)),d=+e.startOf(d,c?"day":o),e.diff(i,n,o)>1e5*a)throw new Error(n+" and "+i+" are too far apart with stepSize of "+a+" "+o);const p=s.ticks.source==="data"&&this.getDataTimestamps();for(h=d,f=0;h<i;h=+e.add(h,a,o),f++)Mg(u,h,p);return(h===i||s.bounds==="ticks"||f===1)&&Mg(u,h,p),Object.keys(u).sort(kg).map(g=>+g)}getLabelForValue(e){const n=this._adapter,i=this.options.time;return i.tooltipFormat?n.format(e,i.tooltipFormat):n.format(e,i.displayFormats.datetime)}format(e,n){const s=this.options.time.displayFormats,r=this._unit,o=n||s[r];return this._adapter.format(e,o)}_tickFormatFunction(e,n,i,s){const r=this.options,o=r.ticks.callback;if(o)return re(o,[e,n,i],this);const a=r.time.displayFormats,l=this._unit,c=this._majorUnit,u=l&&a[l],d=c&&a[c],h=i[n],f=c&&d&&h&&h.major;return this._adapter.format(e,s||(f?d:u))}generateTickLabels(e){let n,i,s;for(n=0,i=e.length;n<i;++n)s=e[n],s.label=this._tickFormatFunction(s.value,n,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const n=this._offsets,i=this.getDecimalForValue(e);return this.getPixelForDecimal((n.start+i)*n.factor)}getValueForPixel(e){const n=this._offsets,i=this.getDecimalForPixel(e)/n.factor-n.end;return this.min+i*(this.max-this.min)}_getLabelSize(e){const n=this.options.ticks,i=this.ctx.measureText(e).width,s=Lt(this.isHorizontal()?n.maxRotation:n.minRotation),r=Math.cos(s),o=Math.sin(s),a=this._resolveTickFontOptions(0).size;return{w:i*r+a*o,h:i*o+a*r}}_getLabelCapacity(e){const n=this.options.time,i=n.displayFormats,s=i[n.unit]||i.millisecond,r=this._tickFormatFunction(e,0,Tg(this,[e],this._majorUnit),s),o=this._getLabelSize(r),a=Math.floor(this.isHorizontal()?this.width/o.w:this.height/o.h)-1;return a>0?a:1}getDataTimestamps(){let e=this._cache.data||[],n,i;if(e.length)return e;const s=this.getMatchingVisibleMetas();if(this._normalized&&s.length)return this._cache.data=s[0].controller.getAllParsedValues(this);for(n=0,i=s.length;n<i;++n)e=e.concat(s[n].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let n,i;if(e.length)return e;const s=this.getLabels();for(n=0,i=s.length;n<i;++n)e.push(Pg(this,s[n]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return Tx(e.sort(kg))}}D(Ur,"id","time"),D(Ur,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function zo(t,e,n){let i=0,s=t.length-1,r,o,a,l;n?(e>=t[i].pos&&e<=t[s].pos&&({lo:i,hi:s}=on(t,"pos",e)),{pos:r,time:a}=t[i],{pos:o,time:l}=t[s]):(e>=t[i].time&&e<=t[s].time&&({lo:i,hi:s}=on(t,"time",e)),{time:r,pos:a}=t[i],{time:o,pos:l}=t[s]);const c=o-r;return c?a+(l-a)*(e-r)/c:a}class nd extends Ur{constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),n=this._table=this.buildLookupTable(e);this._minPos=zo(n,this.min),this._tableRange=zo(n,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:n,max:i}=this,s=[],r=[];let o,a,l,c,u;for(o=0,a=e.length;o<a;++o)c=e[o],c>=n&&c<=i&&s.push(c);if(s.length<2)return[{time:n,pos:0},{time:i,pos:1}];for(o=0,a=s.length;o<a;++o)u=s[o+1],l=s[o-1],c=s[o],Math.round((u+l)/2)!==c&&r.push({time:c,pos:o/(a-1)});return r}_generate(){const e=this.min,n=this.max;let i=super.getDataTimestamps();return(!i.includes(e)||!i.length)&&i.splice(0,0,e),(!i.includes(n)||i.length===1)&&i.push(n),i.sort((s,r)=>s-r)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const n=this.getDataTimestamps(),i=this.getLabelTimestamps();return n.length&&i.length?e=this.normalize(n.concat(i)):e=n.length?n:i,e=this._cache.all=e,e}getDecimalForValue(e){return(zo(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const n=this._offsets,i=this.getDecimalForPixel(e)/n.factor-n.end;return zo(this._table,i*this._tableRange+this._minPos,!0)}}D(nd,"id","timeseries"),D(nd,"defaults",Ur.defaults);var mD=Object.freeze({__proto__:null,CategoryScale:Zu,LinearScale:Ju,LogarithmicScale:ed,RadialLinearScale:qs,TimeScale:Ur,TimeSeriesScale:nd});const gD=[w2,qE,YR,mD];en.register(...gD);function yD(){const t=vl(),[e,n]=_.useState(0),[i,s]=_.useState({}),[r,o]=_.useState(!1),[a,l]=_.useState(0),[c,u]=_.useState([]),[d,h]=_.useState(""),[f,p]=_.useState(null),[g,x]=_.useState(!1),[y,m]=_.useState(!1),v=[{id:"sleep",text:"איך ישנת בלילה האחרון?",icon:"😴",options:[{value:0,label:"לא ישנתי בכלל",color:"#ff4d4f"},{value:1,label:"ישנתי מעט מאוד",color:"#ff7a45"},{value:2,label:"ישנתי בינוני",color:"#ffc53d"},{value:3,label:"ישנתי טוב",color:"#73d13d"},{value:4,label:"ישנתי מצוין",color:"#52c41a"}],tips:["נסו לישון ולהתעורר באותה שעה כל יום, גם בסופי שבוע","הימנעו ממסכים (טלפון, טלוויזיה) שעה לפני השינה","עשו פעילות גופנית במהלך היום, אך לא סמוך לזמן השינה","הקפידו על סביבת שינה נוחה, חשוכה ושקטה"]},{id:"anxiety",text:"כמה חרדה או מתח אתה מרגיש היום?",icon:"😰",options:[{value:4,label:"בכלל לא",color:"#52c41a"},{value:3,label:"מעט",color:"#73d13d"},{value:2,label:"במידה בינונית",color:"#ffc53d"},{value:1,label:"הרבה",color:"#ff7a45"},{value:0,label:"מתח קיצוני",color:"#ff4d4f"}],tips:["תרגול נשימות עמוקות יכול להפחית חרדה במהירות","שתפו חבר או בן משפחה בתחושות שלכם","תרגילי הרפיה כמו הרפיית שרירים הדרגתית יכולים לסייע","הגבילו צריכת קפאין ואלכוהול שיכולים להגביר חרדה"]},{id:"mood",text:"איך המצב רוח שלך היום?",icon:"😊",options:[{value:0,label:"ירוד מאוד",color:"#ff4d4f"},{value:1,label:"לא טוב",color:"#ff7a45"},{value:2,label:"סביר",color:"#ffc53d"},{value:3,label:"טוב",color:"#73d13d"},{value:4,label:"מצוין",color:"#52c41a"}],tips:["פעילות גופנית משחררת אנדורפינים שמשפרים את מצב הרוח","צרו לעצמכם זמן לפעילויות שאתם נהנים מהן","בלו זמן בחוץ ובאור השמש","שימו לב גם להישגים קטנים במהלך היום"]},{id:"support",text:"האם אתה מרגיש שיש לך תמיכה מספקת סביבך?",icon:"🤝",options:[{value:0,label:"בכלל לא",color:"#ff4d4f"},{value:1,label:"מעט מאוד",color:"#ff7a45"},{value:2,label:"במידה מסוימת",color:"#ffc53d"},{value:3,label:"כן, ברוב הזמן",color:"#73d13d"},{value:4,label:"כן, תמיד",color:"#52c41a"}],tips:["אל תהססו לבקש עזרה כשאתם זקוקים לה","נסו להשתתף בפעילויות חברתיות גם כשקשה","שמרו על קשר עם חברים ומשפחה, גם בטלפון או וידאו","שקלו להצטרף לקבוצות תמיכה או לפנות למוקדי תמיכה"]},{id:"motivation",text:"איך המוטיבציה שלך לפעילויות יומיות?",icon:"🚀",options:[{value:0,label:"אין לי מוטיבציה",color:"#ff4d4f"},{value:1,label:"מוטיבציה נמוכה",color:"#ff7a45"},{value:2,label:"מוטיבציה בינונית",color:"#ffc53d"},{value:3,label:"מוטיבציה טובה",color:"#73d13d"},{value:4,label:"מוטיבציה גבוהה מאוד",color:"#52c41a"}],tips:["הציבו לעצמכם מטרות קטנות וברות השגה","פרקו משימות גדולות לצעדים קטנים יותר","תגמלו את עצמכם על התקדמות","מצאו משמעות אישית במה שאתם עושים"]}];_.useEffect(()=>{const T=localStorage.getItem("userName");T&&h(T);const A=JSON.parse(localStorage.getItem("assessments")||"[]");u(A)},[]),_.useEffect(()=>(r&&c.length>0&&w(),()=>{f&&f.destroy()}),[r,c]);const w=()=>{f&&f.destroy();const T=document.getElementById("trendChart");if(!T)return;const A=[...c.slice(-7),{date:new Date().toISOString(),score:a}],j={labels:A.map(U=>{const z=new Date(U.date);return`${z.getDate()}/${z.getMonth()+1}`}),datasets:[{label:"ציון הערכה",data:A.map(U=>U.score),fill:!0,backgroundColor:"rgba(75, 123, 236, 0.2)",borderColor:"rgba(75, 123, 236, 1)",borderWidth:2,pointBackgroundColor:"rgba(75, 123, 236, 1)",pointRadius:4,tension:.4}]},Y=new en(T,{type:"line",data:j,options:{responsive:!0,maintainAspectRatio:!1,scales:{y:{beginAtZero:!0,max:100,ticks:{color:"#475569"},grid:{color:"rgba(0, 0, 0, 0.05)"}},x:{ticks:{color:"#475569"},grid:{display:!1}}},plugins:{tooltip:{backgroundColor:"rgba(255, 255, 255, 0.9)",titleColor:"#1e293b",bodyColor:"#475569",borderColor:"rgba(75, 123, 236, 0.3)",borderWidth:1,displayColors:!1,callbacks:{title:function(U){return new Date(A[U[0].dataIndex].date).toLocaleDateString("he-IL")}}},legend:{display:!1}}}});p(Y)},S=T=>{x(!0);const A={...i,[v[e].id]:T};s(A),setTimeout(()=>{e<v.length-1?n(e+1):C(A),x(!1)},400)},C=T=>{const A=Object.values(T).reduce((V,K)=>V+K,0),j=v.length*4,Y=Math.round(A/j*100);l(Y);const U={date:new Date().toISOString(),answers:T,score:Y},z=[...c,U];localStorage.setItem("assessments",JSON.stringify(z)),u(z),o(!0)},P=()=>a<40?{text:'אנחנו מזהים שאתה עובר תקופה מאתגרת. מומלץ לפנות לקב"ן או לגורם מקצועי בהקדם.',icon:"⚠️",color:"#ff4d4f",severity:"גבוהה"}:a<60?{text:'אנו מזהים שיש לך כמה קשיים. האם תרצה לדבר עם קב"ן או גורם מקצועי?',icon:"⚠️",color:"#faad14",severity:"בינונית"}:a<80?{text:"נראה שמצבך סביר, אך יש מקום לשיפור. אנחנו כאן בשבילך אם תרצה לדבר.",icon:"📝",color:"#52c41a",severity:"נמוכה"}:{text:"נראה שמצבך הנפשי טוב! המשך כך, ואל תשכח שאנחנו תמיד כאן בשבילך.",icon:"🌟",color:"#1890ff",severity:"תקין"},k=()=>{n(0),s({}),o(!1),l(0),m(!1)},M=()=>a<40?"#ff4d4f":a<60?"#faad14":a<80?"#52c41a":"#1890ff";return b.jsx("div",{className:"min-h-screen p-4 bg-gradient-to-br from-blue-50 to-purple-50",children:b.jsxs("div",{className:"max-w-xl mx-auto",children:[b.jsxs("div",{className:"flex justify-between items-center mb-6",children:[b.jsxs("button",{onClick:()=>t("/"),className:"bg-white px-4 py-2 rounded-full shadow-sm border border-gray-200 hover:bg-gray-50 transition flex items-center gap-2",children:[b.jsx("span",{className:"text-blue-600",children:"🏠"})," חזרה לעמוד הראשי"]}),b.jsx("h2",{className:"text-2xl font-bold text-center text-blue-800",children:"הערכת מצב יומית"}),b.jsx("div",{className:"w-24"})," "]}),r?b.jsxs(oe.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"bg-white rounded-xl shadow-lg overflow-hidden",children:[b.jsxs("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 text-white p-6 text-center",children:[b.jsx("h3",{className:"text-2xl font-bold mb-2",children:"תוצאות ההערכה"}),b.jsxs("p",{className:"opacity-90",children:[d?`${d}, `:"","תודה שהשלמת את ההערכה היומית!"]})]}),b.jsxs("div",{className:"p-6",children:[b.jsxs("div",{className:"mb-8",children:[b.jsxs("div",{className:"flex justify-between mb-1 text-sm",children:[b.jsx("span",{children:"0"}),b.jsxs("span",{children:["הציון שלך: ",a]}),b.jsx("span",{children:"100"})]}),b.jsxs("div",{className:"relative h-6 bg-gray-200 rounded-full overflow-hidden",children:[b.jsx(oe.div,{className:"h-full rounded-full",style:{backgroundColor:M()},initial:{width:0},animate:{width:`${a}%`},transition:{duration:1,delay:.2}}),b.jsx(oe.div,{className:"absolute top-0 right-0 h-full w-1 bg-white",initial:{right:0},animate:{right:`${a}%`},transition:{duration:1,delay:.2},children:b.jsx("div",{className:"absolute top-full right-0 transform translate-x-1/2 -translate-y-1/2 w-4 h-4 rounded-full border-2 border-white shadow-md",style:{backgroundColor:M()}})})]}),b.jsxs("div",{className:"flex justify-between mt-1 text-xs text-gray-600",children:[b.jsx("span",{children:"נמוך"}),b.jsx("span",{children:"בינוני"}),b.jsx("span",{children:"גבוה"})]})]}),b.jsx("div",{className:"mb-8 bg-gray-50 rounded-lg p-4 border-r-4",style:{borderColor:P().color},children:b.jsxs("div",{className:"flex gap-3",children:[b.jsx("div",{className:"text-2xl",children:P().icon}),b.jsxs("div",{children:[b.jsxs("div",{className:"font-medium mb-1",children:["רמת דחיפות: ",b.jsx("span",{style:{color:P().color},children:P().severity})]}),b.jsx("p",{children:P().text})]})]})}),c.length>0&&b.jsxs("div",{className:"mb-8",children:[b.jsx("h4",{className:"font-medium text-gray-700 mb-2",children:"מגמה לאורך זמן:"}),b.jsx("div",{className:"bg-white rounded-lg p-2 border border-gray-200 shadow-sm",style:{height:"200px"},children:b.jsx("canvas",{id:"trendChart"})})]}),b.jsxs("div",{className:"flex flex-col space-y-3 mt-6",children:[b.jsxs("button",{onClick:k,className:"bg-blue-600 text-white px-4 py-3 rounded-xl hover:bg-blue-700 transition shadow-md hover:shadow-lg flex items-center justify-center gap-2",children:[b.jsx("span",{children:"🔄"})," בצע הערכה חדשה"]}),a<60&&b.jsxs("button",{className:"bg-pink-600 text-white px-4 py-3 rounded-xl hover:bg-pink-700 transition shadow-md hover:shadow-lg flex items-center justify-center gap-2",onClick:()=>t("/chat"),children:[b.jsx("span",{children:"💬"})," דבר עם חיילתAI"]}),b.jsxs("button",{onClick:()=>t("/stats"),className:"bg-green-600 text-white px-4 py-3 rounded-xl hover:bg-green-700 transition shadow-md hover:shadow-lg flex items-center justify-center gap-2",children:[b.jsx("span",{children:"📊"})," צפה בהיסטוריה שלך"]})]})]})]}):b.jsxs(oe.div,{initial:{opacity:0,x:50},animate:{opacity:1,x:0},exit:{opacity:0,x:-50},transition:{duration:.3},className:"bg-white rounded-xl p-6 shadow-lg flex-grow flex flex-col",children:[b.jsxs("div",{className:"text-center mb-1 text-blue-600",children:["שאלה ",e+1," מתוך ",v.length]}),b.jsx("div",{className:"h-2 w-full bg-gray-100 rounded-full mb-6",children:b.jsx(oe.div,{className:"h-2 bg-blue-600 rounded-full",initial:{width:`${e/v.length*100}%`},animate:{width:`${(e+1)/v.length*100}%`},transition:{duration:.5}})}),b.jsxs("div",{className:"text-center mb-8",children:[b.jsx("div",{className:"text-5xl mb-4",children:v[e].icon}),b.jsx("h3",{className:"text-xl font-medium text-gray-800",children:v[e].text})]}),b.jsx("div",{className:"space-y-3 flex-grow",children:v[e].options.map(T=>b.jsx(oe.button,{onClick:()=>!g&&S(T.value),className:"w-full text-right p-4 rounded-lg border border-gray-200 hover:bg-blue-50 transition shadow-sm hover:shadow-md",style:{backgroundColor:`${T.color}15`},whileHover:{scale:1.03},whileTap:{scale:.98},children:b.jsxs("div",{className:"flex items-center justify-between",children:[b.jsx("span",{children:T.label}),b.jsx("span",{className:"w-4 h-4 rounded-full",style:{backgroundColor:T.color}})]})},T.value))}),b.jsxs("div",{className:"mt-4",children:[b.jsxs("button",{onClick:()=>m(!y),className:"text-blue-600 text-sm hover:text-blue-800 flex items-center gap-1",children:[b.jsxs("span",{children:[y?"הסתר":"הצג"," טיפים"]}),b.jsx("span",{children:y?"🔼":"🔽"})]}),y&&b.jsxs(oe.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},className:"mt-3 p-3 bg-blue-50 rounded-lg border border-blue-100",children:[b.jsx("h4",{className:"font-medium text-blue-700 mb-2",children:"טיפים מועילים:"}),b.jsx("ul",{className:"list-disc list-inside space-y-1 text-sm text-blue-800",children:v[e].tips.map((T,A)=>b.jsx("li",{children:T},A))})]})]})]},e)]})})}function vD(){const t=vl(),[e,n]=_.useState([]),[i,s]=_.useState("stable"),[r,o]=_.useState(""),[a,l]=_.useState(0);_.useEffect(()=>{const f=JSON.parse(localStorage.getItem("assessments")||"[]"),p=localStorage.getItem("userName")||"";if(n(f),o(p),f.length>0){const g=new Date(f[0].date),y=Math.abs(new Date-g),m=Math.ceil(y/(1e3*60*60*24));l(m)}if(f.length>1){const g=f.slice(-3).map(m=>m.score),x=g.reduce((m,v)=>m+v,0)/g.length,y=f.slice(0,3).map(m=>m.score).reduce((m,v)=>m+v,0)/Math.min(3,f.length);x>y+5?s("improving"):x<y-5?s("declining"):s("stable")}},[]);const c=()=>e.length===0?0:e[e.length-1].score,u=()=>{if(e.length===0)return 0;const f=e.reduce((p,g)=>p+g.score,0);return Math.round(f/e.length)},d=()=>{switch(i){case"improving":return"📈";case"declining":return"📉";case"stable":return"📊";default:return"📊"}},h=()=>{switch(i){case"improving":return"מצבך הנפשי משתפר עם הזמן. המשך כך!";case"declining":return"שים לב, יש ירידה במצבך הנפשי לאחרונה. שקול לדבר עם גורם מקצועי.";case"stable":return"מצבך הנפשי יציב יחסית לאורך זמן.";default:return"אין מספיק נתונים עדיין להערכת מגמה."}};return b.jsxs("div",{className:"p-4 max-w-xl mx-auto min-h-screen flex flex-col",children:[b.jsxs("div",{className:"flex justify-between items-center mb-6",children:[b.jsxs("button",{onClick:()=>t("/"),className:"text-blue-600 flex items-center",children:[b.jsx("span",{className:"mr-1",children:"🏠"})," חזרה לעמוד הראשי"]}),b.jsx("h2",{className:"text-2xl font-bold text-center",children:"נתונים והיסטוריה"}),b.jsx("div",{className:"w-24"})," "]}),b.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-md flex-grow",children:[b.jsxs("div",{className:"text-center mb-6",children:[r&&b.jsxs("h3",{className:"text-xl mb-2",children:["שלום ",r]}),b.jsxs("p",{className:"text-gray-600",children:[a>0?`${a} ימים`:"פחות מיום"," מאז תחילת השימוש באפליקציה"]})]}),e.length===0?b.jsxs("div",{className:"text-center p-8",children:[b.jsx("p",{className:"text-gray-500 mb-4",children:"עדיין אין נתונים להצגה."}),b.jsx("button",{onClick:()=>t("/assessment"),className:"bg-blue-600 text-white px-4 py-2 rounded-xl hover:bg-blue-700 transition",children:"בצע הערכה ראשונה"})]}):b.jsxs(b.Fragment,{children:[b.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-6",children:[b.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg text-center",children:[b.jsx("div",{className:"text-3xl font-bold text-blue-600",children:e.length}),b.jsx("div",{className:"text-sm text-gray-700",children:"הערכות שהושלמו"})]}),b.jsxs("div",{className:"bg-green-50 p-4 rounded-lg text-center",children:[b.jsxs("div",{className:"text-3xl font-bold text-green-600",children:[u(),"%"]}),b.jsx("div",{className:"text-sm text-gray-700",children:"ציון ממוצע"})]})]}),b.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg mb-6",children:[b.jsxs("div",{className:"flex items-center justify-between mb-2",children:[b.jsx("div",{className:"text-lg",children:"מגמה לאורך זמן"}),b.jsx("div",{className:"text-2xl",children:d()})]}),b.jsx("p",{className:"text-gray-700",children:h()})]}),b.jsxs("div",{children:[b.jsx("h3",{className:"font-bold mb-2",children:"היסטוריית הערכות"}),b.jsx("div",{className:"max-h-40 overflow-y-auto space-y-2",children:e.slice().reverse().map((f,p)=>b.jsxs("div",{className:"flex justify-between p-2 border-b",children:[b.jsx("div",{className:"text-gray-600",children:new Date(f.date).toLocaleDateString("he-IL")}),b.jsxs("div",{className:`font-medium ${f.score<40?"text-red-600":f.score<60?"text-yellow-600":f.score<80?"text-blue-600":"text-green-600"}`,children:[f.score,"%"]})]},p))})]})]})]}),e.length>0&&c()<50&&b.jsxs(oe.div,{className:"bg-red-50 border border-red-200 p-4 rounded-lg mt-4",initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},children:[b.jsx("div",{className:"font-bold text-red-700 mb-1",children:"שים לב"}),b.jsx("p",{className:"text-red-700",children:'מצבך הנפשי עלול להצביע על קושי. שקול לפנות לקב"ן או איש מקצוע.'}),b.jsx("button",{className:"mt-2 bg-red-600 text-white px-4 py-1 rounded-lg hover:bg-red-700 transition",onClick:()=>t("/chat"),children:"דבר עם חיילתAI"})]}),b.jsxs("div",{className:"flex gap-3 mt-4",children:[b.jsx("button",{onClick:()=>t("/assessment"),className:"flex-1 bg-blue-600 text-white px-4 py-2 rounded-xl hover:bg-blue-700 transition",children:"הערכה חדשה"}),b.jsx("button",{onClick:()=>t("/chat"),className:"flex-1 bg-pink-600 text-white px-4 py-2 rounded-xl hover:bg-pink-700 transition",children:"דבר עם חיילתAI"})]})]})}Lc.createRoot(document.getElementById("root")).render(b.jsx(Ja.StrictMode,{children:b.jsx(BS,{children:b.jsxs(VS,{children:[b.jsx($s,{path:"/",element:b.jsx(rM,{})}),b.jsx($s,{path:"/chat",element:b.jsx(cM,{})}),b.jsx($s,{path:"/assessment",element:b.jsx(yD,{})}),b.jsx($s,{path:"/stats",element:b.jsx(vD,{})})]})})}));
